{"version":3,"sources":["helpers/icons/icons.tsx","redux/users/types.ts","helpers/helpers.tsx","redux/users/actions.ts","redux/messenger/types.ts","api/api.ts","components/SendMessagePopUp/SendMessagePopUp.module.scss","components/Avatar/Avatar.tsx","assets/images/svg/preloader.svg","components/common/Preloader/Preloader.tsx","components/PostsBlock/Post/Post.module.scss","components/PostsBlock/NewPostField/NewPostField.module.scss","api/users.ts","components/ChatWindow/ActiveChatPopUp/ActiveChatPopUp.module.scss","components/PhotoBlock/PhotoBlock.module.scss","redux/auth/types.ts","components/TabsRowBlock/TabsRowBlock.module.scss","components/Header/AuthenticatedUserButton/UserPopup/UserPopup.module.scss","components/common/MyButton/MyButton.tsx","redux/chat/types.ts","api/profile.ts","components/common/FieldWithValidation/FieldWithValidation.module.scss","components/FriendsBlock/FriendsBlock.module.scss","api/messenger.ts","redux/messenger/actions.ts","redux/messenger/thunks.ts","components/NavBar/NavBar.module.scss","components/common/ErrorPopUp/ErrorPopUp.tsx","components/MessagesBlock/MessagesList/Message/Message.module.scss","components/ChatWindow/ChatListPopUp/ChatListPopUp.module.scss","components/InfoBlock/ExtraInfo/ExtraInfo.module.scss","components/InfoBlock/Status/Status.module.scss","assets/images/jpeg/no-photo.jpg","components/common/FieldWithValidation/FieldWithValidation.tsx","redux/auth/actions.ts","redux/auth/thunks.ts","api/auth.ts","api/chat.ts","redux/chat/thunks.ts","redux/chat/actions.ts","components/hoc/withDragging/withDragging.module.scss","components/EmptyChatPlaceholder/EmptyChatPlaceholder.module.scss","components/ChatWindow/ChatListPopUpItem/ChatListPopUpItem.module.scss","components/Header/Header.module.scss","components/Header/AuthenticatedUserButton/AuthenticatedUserButton.module.scss","components/InfoBlock/CounterBlock/CounterBlock.module.scss","components/InfoBlock/Divider/Divider.module.scss","components/InfoBlock/InfoRow/InfoRow.module.scss","components/InfoBlock/InfoBlock.module.scss","components/InfoBlock/MainInfo/MainInfo.module.scss","pages/ProfilePage/ProfilePage.module.scss","components/MessagesBlock/MessagesList/MessagesList.module.scss","components/common/LogoApp/LogoApp.module.scss","components/common/NavItemSvg/NavItemSvg.module.scss","components/Root/Root.module.scss","components/hoc/withAuthRedirect.tsx","components/hoc/withRoute.tsx","redux/users/thunks.ts","components/TabsRowBlock/TabsRowBlock.tsx","components/EmptyChatPlaceholder/EmptyChatPlaceholder.tsx","components/MessagesBlock/MessagesWrapper/MessagesWrapper.tsx","components/ChatWindow/ChatWindow.module.scss","components/Avatar/Avatar.module.scss","components/MessagesBlock/MessagesWrapper/MessagesWrapper.module.scss","components/common/ErrorPopUp/ErrorPopUp.module.scss","components/InfoBlock/CountersRow/CountersRow.module.scss","components/common/MyButton/MyButton.module.scss","components/MessagesBlock/MessagesList/Message/Message.tsx","components/MessagesBlock/MessagesList/MessagesList.tsx","redux/posts/types.ts","components/hoc/withDragging/withDragging.tsx","components/ChatWindow/ActiveChatPopUp/ActiveChatPopUp.tsx","components/ChatWindow/ChatListPopUpItem/ChatListPopUpItem.tsx","components/ChatWindow/ChatListPopUp/ChatListPopUp.tsx","components/ChatWindow/ChatWindow.tsx","components/ChatWindow/ChatWindowContainer.tsx","components/common/LogoApp/LogoApp.tsx","components/common/NavItemSvg/NavItemSvg.tsx","components/Header/AuthenticatedUserButton/UserPopup/UserPopup.tsx","components/Header/AuthenticatedUserButton/AuthenticatedUserButton.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/NavBar/NavBar.tsx","components/Root/Root.tsx","api/posts.ts","redux/posts/actions.ts","redux/profile/types.ts","redux/profile/actions.ts","redux/app/types.ts","redux/profile/thunks.ts","components/InfoBlock/CounterBlock/CounterBlock.tsx","components/InfoBlock/Divider/Divider.tsx","components/InfoBlock/CountersRow/CountersRow.tsx","components/InfoBlock/InfoRow/InfoRow.tsx","components/InfoBlock/ExtraInfo/ExtraInfo.tsx","components/InfoBlock/Status/Status.tsx","components/InfoBlock/MainInfo/MainInfo.tsx","components/InfoBlock/InfoBlock.tsx","components/InfoBlock/InfoBlockContainer.tsx","components/SendMessagePopUp/SendMessagePopUp.tsx","components/PhotoBlock/PhotoBlock.tsx","components/PhotoBlock/PhotoBlockContainer.tsx","components/FriendsBlock/FriendsBlock.tsx","components/PostsBlock/NewPostField/NewPostField.tsx","components/PostsBlock/Post/Post.tsx","components/PostsBlock/PostsBlock.tsx","components/PostsBlock/PostsBlockContainer.tsx","redux/posts/thunks.ts","pages/ProfilePage/ProfilePage.tsx","pages/ProfilePage/ProfilePageContainer.tsx","redux/app/actions.ts","App.tsx","redux/app/thunks.ts","redux/auth/reducer.ts","redux/profile/reducer.ts","redux/users/reducer.ts","redux/messenger/reducer.ts","redux/app/reducer.ts","redux/chat/reducer.ts","redux/posts/reducer.ts","redux/store.ts","index.tsx"],"names":["ArrowSvg","props","fill","height","viewBox","width","xmlns","clipRule","d","fillRule","LogoSvg","stroke","ModeSvg","HelpSvg","SignOutSvg","MyProfileSvg","MessengerSvg","id","strokeWidth","opacity","DevelopersSvg","CrossSvg","ArrowUpSvg","version","x","y","PhotoSvg","VideoSvg","AudioSvg","ChatSvg","LikeSvg","CommentSvg","ShareSvg","DotsSvg","SearchSvg","xmlnsXlink","xmlSpace","AttachSvg","strokeLinecap","strokeLinejoin","FileSvg","FullScreenSvg","UsersConstants","makeFirstLetterUppercase","fullName","split","map","el","substr","toUpperCase","join","reduceLine","line","maxChar","length","substring","convertDateFormat","date","withTime","_date","Date","parse","hour","getHours","minutes","getMinutes","resultDate","getDate","getMonth","time","isActiveNavLink","itemClass","activeItemClass","isActive","withSuspense","Component","Suspense","fallback","position","children","toggleFollow","users","user","followed","randomNum","max","Math","floor","random","fetchUsersRequest","type","FETCH_USERS_REQUEST","fetchPeopleSuccess","FETCH_PEOPLE_SUCCESS","payload","fetchFriendsSuccess","FETCH_FRIENDS_SUCCESS","fetchSearchedPeopleSuccess","FETCH_SEARCHED_PEOPLE_SUCCESS","fetchSearchedFriendsSuccess","FETCH_SEARCHED_FRIENDS_SUCCESS","fetchUsersFailure","error","FETCH_USERS_FAILURE","toggleFollowOnUserRequest","TOGGLE_FOLLOW_ON_USER_REQUEST","toggleFollowOnUserSuccess","userId","TOGGLE_FOLLOW_ON_USER_SUCCESS","toggleFollowOnUserFailure","TOGGLE_FOLLOW_ON_USER_FAILURE","setPeopleTotalCount","totalCount","SET_PEOPLE_TOTAL_COUNT","setFriendsTotalCount","SET_FRIENDS_TOTAL_COUNT","setSearchedPeopleTotalCount","SET_SEARCHED_PEOPLE_TOTAL_COUNT","setSearchedFriendsTotalCount","SET_SEARCHED_FRIENDS_TOTAL_COUNT","setPeoplePage","currentPage","SET_PEOPLE_PAGE","setFriendsPage","SET_FRIENDS_PAGE","setSearchedPeoplePage","SET_SEARCHED_PEOPLE_PAGE","setSearchedFriendsPage","SET_SEARCHED_FRIENDS_PAGE","clearUsersState","CLEAR_SEARCHED_USERS_STATE","DialogsConstants","api","axios","create","baseURL","withCredentials","headers","postsApi","Authorization","module","exports","Avatar","photo","navigate","useNavigate","className","cl","img","src","defaultPhoto","alt","onClick","Preloader","margin","preloaderAbsolute","top","left","transform","preloaderFixed","containerStyles","preloader","style","fetchUsersApi","pageItemsCount","term","friend","get","followUserApi","post","unfollowUserApi","delete","AuthConstants","MyButton","callBack","btn","disabled","ChatConstants","getStatusApi","setStatusApi","status","put","getUserProfileApi","setUserProfileApi","userData","setProfilePhotoApi","file","formData","FormData","append","fetchMessagesApi","sendMessageApi","messageBody","body","createDialogApi","fetchMessagesRequest","FETCH_MESSAGES_REQUEST","fetchMessagesFailure","FETCH_MESSAGES_FAILURE","sendMessageFailure","SEND_MESSAGE_FAILURE","createDialogFailure","CREATE_DIALOG_FAILURE","fetchDialogsThunk","dispatch","FETCH_DIALOGS_REQUEST","dialogsData","data","dialogs","FETCH_DIALOGS_SUCCESS","console","log","FETCH_DIALOGS_FAILURE","fetchMessagesThunk","response","messages","items","FETCH_MESSAGES_SUCCESS","sendMessageThunk","SEND_MESSAGE_REQUEST","resultCode","SEND_MESSAGE_SUCCESS","createDialogThunk","CREATE_DIALOG_REQUEST","CREATE_DIALOG_SUCCESS","ErrorPopUp","titlesArray","filter","e","title","index","Error","errorRef","useRef","useState","isVisible","setIsVisible","animationDuration","useEffect","current","parseInt","window","getComputedStyle","setTimeout","ref","errorWrapper","FieldWithValidation","name","Element","validators","defaultValue","initialValue","validate","value","reduce","validator","undefined","composeValidators","render","input","meta","touched","active","ErrorComponent","tooltip","CheckBoxComponent","checkboxWrapper","checkboxContainer","required","checkMark","InputComponent","field","setCurrentUserFailure","SET_CURRENT_USER_FAILURE","getAuthorizedUserThunk","SET_CURRENT_USER_REQUEST","photos","currentUserData","SET_CURRENT_USER_SUCCESS","createAuthenticatedSessionThunk","values","errorCallBack","authData","FORM_ERROR","deleteAuthenticatedSessionThunk","DELETE_CURRENT_USER","ws","subscribers","notifySubscribersAboutStatus","forEach","subscriber","handleCloseWebSocket","createWebSocket","handleOpenWebSocket","handleWebSocketError","handleReceivingMessages","convertedMessages","JSON","message","i","uuidv4","senderName","userName","senderId","addedAt","removeEventListener","cleanUpListeners","close","WebSocket","addEventListener","subscribeOnEvent","eventName","callback","push","unsubscribeOnEvent","sendMessage","send","_newMessageHandler","newMessageHandlerCreator","SET_MESSAGES","setMessages","_statusChangedHandler","statusChangedHandlerCreator","SET_STATUS","setStatus","startMessagesListeningThunk","CLEAR_MESSAGES_STATE","stopMessagesListeningThunk","sendChatMessageThunk","mapStateToProps","state","isAuth","auth","login","withAuthenticatedRedirect","connect","connector","to","withRoute","match","useMatch","location","useLocation","params","useParams","route","fetchPeopleThunk","maxPageItemsCount","getState","people","fetchFriendsThunk","friends","fetchSearchedPeopleThunk","searchedUsers","fetchSearchedFriendsThunk","toggleFollowOnUserThunk","apiMethod","TabsRowBlock","firstTab","secondTab","button","isFirstTab","pathname","ButtonComponent","buttonContainer","tabs","tabsRow","end","tabItem","EmptyChatPlaceholder","messagesLength","isDialogSelected","tip","emptyChatPlaceholder","svg","MessagesWrapper","pathName","authProfileId","authProfilePhoto","currentDialog","fetchChatMessagesStatus","fetchMessagesPending","isAutoScroll","setIsAutoScroll","currentDialogId","messagesWrapper","onScroll","currentTarget","scrollHeight","scrollTop","clientHeight","every","context","MessagesList","Message","React","memo","messageColumn","avatar","item","messageParse","messagesAnchorRef","outlet","useOutletContext","fetchMessages","some","scrollIntoView","behavior","small","preloaderContainer","PostsConstants","WithDragging","openedDialog","setOpenedDialogs","draggableBlock","changeActiveDraggingBlock","newActiveBlock","prevActiveBlock","document","querySelector","zIndex","removeAttribute","setAttribute","visualViewport","bodyHeight","bodyWidth","windowHeight","offsetHeight","windowWidth","offsetWidth","handleResizeScreen","prev","dialog","handleMouseMove","getStyle","right","bottom","movementX","movementY","handleMouseDown","handleMouseUp","classList","add","remove","ActiveChatPopUp","setMessage","chatWindow","header","currentChat","avatarContainer","dialogName","btnsRowContainer","fullScreenSvg","crossSvg","footer","placeholder","textArea","onKeyDown","key","shiftKey","preventDefault","onChange","target","ChatListPopUpItem","dialogItem","listItem","ChatListPopUp","onChatListClickHandler","searchInput","setSearchInput","ChatListItems","toLocaleLowerCase","includes","toLowerCase","list","ChatWindow","openedDialogs","sendChatMessage","ActiveChats","sendMessageCallBack","bind","chatListBtn","mapDispatchToProps","messenger","chatMessages","chat","requests","createDialogError","fetchMessagesError","fetchDialogsError","sendMessageError","compose","messagesWithChatMessages","dialogsWithChat","hasNewMessages","lastDialogActivityDate","lastUserActivityDate","newMessagesCount","large","lastDialogIndex","LogoApp","logo","NavItemSvg","ComponentSvg","textItem","menuItem","HeaderPopup","profileName","profilePhoto","deleteAuthenticatedSession","popupContainer","popup","userInfoRow","addInfoCol","phoneNumber","arrowSvgRight","AuthenticatedUserButton","authUser","isPopUp","setIsPopUp","hasAttribute","currentUser","arrowSvgBottom","Header","logoContainer","NavBar","aside","nav","link","phoneNav","Root","appWrapper","HeaderContainer","ChatWindowContainer","mainContent","addPostApi","image","fields","likes","setPostApi","deletePostApi","postImage","ProfileConstants","fetchPostsFailure","FETCH_POSTS_FAILURE","addPostFailure","ADD_POST_FAILURE","setPostFailure","SET_POST_FAILURE","deletePostSuccess","DELETE_POST_SUCCESS","deletePostFailure","DELETE_POST_FAILURE","AppConstants","setProfileStatusSuccess","SET_PROFILE_STATUS_SUCCESS","setProfileStatusFailure","SET_PROFILE_STATUS_FAILURE","setProfilePhotoFailure","SET_PROFILE_PHOTO_FAILURE","toggleFollowOnProfileFailure","TOGGLE_FOLLOW_ON_PROFILE_FAILURE","getUserProfileThunk","FETCH_PROFILE_REQUEST","profile","FETCH_PROFILE_SUCCESS","FETCH_PROFILE_FAILURE","CounterBlock","counterName","amount","counterBlock","counter","Divider","dividerName","dividerBlock","divider","CountersRow","friendsAmount","countersRow","InfoRow","keyValue","isEdit","fieldName","fieldType","fieldValidators","infoRow","leftColumn","rightColumn","ExtraInfo","isInfo","additionalInfo","aboutMe","lookingForAJobDescription","Object","entries","contacts","network","Status","currentUserId","isSetStatusPending","isEditMode","setIsEditMode","statusInput","setStatusInput","isAuthenticatedUser","toggleEditMode","ownProfile","statusEmpty","onKeyPress","autoFocus","onBlur","MainInfo","submitError","fullNameUpperCase","FullNameComponent","inputName","mainInfo","InfoBlock","setUserProfile","setIsInfo","initialFormValues","lookingForAJob","handleSubmit","form","handleToggleInfoClick","infoBlock","initialValues","onSubmit","checkbox","showInfoBtn","setUserProfileThunk","SET_PROFILE_REQUEST","SET_PROFILE_SUCCESS","SET_PROFILE_FAILURE","setUserStatusThunk","SET_PROFILE_STATUS_REQUEST","setProfileStatusPending","totalItemsCount","SendMessagePopUp","interlocutorId","interlocutorName","interlocutorPhoto","createDialog","messageField","setMessageField","handleCreateDialog","popUpContainer","popUp","flexRowContainer","newMessage","openChatBtn","closePopUpBtn","profileInfo","infoColumn","lastActivity","textAreaContainer","popUpTextField","flexRowFooter","attachments","btnSvg","moreBtn","btnContainer","PhotoBlock","isPhotoSending","toggleFollowOnProfilePending","isSubscribePending","setProfilePhoto","setIsEdit","toggleSubscribe","photoBlockWrapper","photoBlock","photoContainer","photoPlaceholder","deletingPhotoBtn","hover","updatingPhotoBlock","htmlFor","updatePhotoSvg","files","getElementById","dispatchEvent","Event","cancelable","bubbles","setProfilePhotoThunk","SET_PROFILE_PHOTO_REQUEST","SET_PROFILE_PHOTO_SUCCESS","toggleFollowOnProfileThunk","TOGGLE_FOLLOW_ON_PROFILE_REQUEST","TOGGLE_FOLLOW_ON_PROFILE_SUCCESS","isProfilePhotoSending","setProfilePhotoPending","toggleFollowPending","FriendsBlock","friendsList","friendsBlock","friendsGrid","NewPostField","authProfile","isHomePage","isPostLoading","addPost","setTextArea","setFile","inputFile","textAreaElement","focus","PreloaderComponent","uploadAreaLabel","fileSvg","uploadArea","accept","newPost","fileDescrBlock","fileDescr","fileInput","Post","authorName","authorPhoto","authorId","postBody","deletePost","PostBodyComponent","paragraph","postParagraph","postTopRow","columnBlock","dotsSvgContainer","dotsSvgPopUp","postBottomBtns","PostsBlock","posts","setPost","PostsComponent","createdTime","addPostThunk","ADD_POST_REQUEST","url","convertedData","ADD_POST_SUCCESS","setPostThunk","SET_POST_REQUEST","SET_POST_SUCCESS","deletePostThunk","DELETE_POST_REQUEST","addPostPending","ProfilePage","totalFriendsCount","scrollTo","leftCol","PhotoBlockContainer","slice","rightCol","InfoBlockContainer","fetchUserStatusThunk","fetchStatusApi","fetchPostsThunk","FETCH_POSTS_REQUEST","records","record","sort","a","b","getTime","FETCH_POSTS_SUCCESS","setProfileStatusError","setProfilePhotoError","setProfileError","fetchProfileError","toggleFollowOnProfileError","isProfileFetching","fetchProfilePending","isPostsFetching","fetchPostsPending","fetchUsersThunk","Number","lazy","PeoplePageContainer","MessengerContainer","PeopleContainer","FriendsContainer","Login","initializeAppThunk","Promise","all","then","APP_INITIALIZATION_SUCCESS","store","isInitialized","app","path","element","initialState","setCurrentUserPending","setCurrentUserError","setCurrentUserRequest","setCurrentUserSuccess","action","deleteCurrentUser","authReducer","setProfilePostsPending","setProfilePostsError","setProfilePending","fetchProfilePostsRequest","fetchProfilePostsSuccess","fetchProfilePostsFailure","fetchProfileRequest","fetchProfileSuccess","fetchProfileFailure","setProfileStatusRequest","setProfilePhotoRequest","setProfilePhotoSuccess","setProfileRequest","setProfileSuccess","setProfileFailure","toggleFollowOnProfileRequest","toggleFollowOnProfileSuccess","profileReducer","FETCH_PROFILE_POSTS_REQUEST","FETCH_PROFILE_POSTS_SUCCESS","FETCH_PROFILE_POSTS_FAILURE","toggleFollowOnUserPending","toggleFollowOnUserError","fetchUsersPending","fetchUsersError","usersReducer","fetchDialogsPending","sendMessagePending","createDialogPending","fetchDialogsRequest","fetchDialogsSuccess","fetchDialogsFailure","fetchMessagesSuccess","clearMessagesState","sendMessageRequest","sendMessageSuccess","createDialogRequest","createDialogSuccess","messengerReducer","appInitializationSuccess","appReducer","chatReducer","fetchPostsError","addPostError","setPostPending","setPostError","deletePostPending","deletePostError","fetchPostsRequest","fetchPostsSuccess","addPostRequest","addPostSuccess","setPostRequest","setPostSuccess","deletePostRequest","postsReducer","rootReducer","combineReducers","composedEnhancers","composeWithDevTools","applyMiddleware","thunk","createStore","container","createRoot"],"mappings":"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","file":"static/js/main.2610f94a.chunk.js","sourcesContent":["export const ArrowSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"8\" viewBox=\"0 0 12 8\" width=\"12\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M2.16 2.3a.75.75 0 011.05-.14L6 4.3l2.8-2.15a.75.75 0 11.9 1.19l-3.24 2.5c-.27.2-.65.2-.92 0L2.3 3.35a.75.75 0 01-.13-1.05z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const LogoSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M10 5.5L9.93198 5.43198C9.33524 4.83524 8.52589 4.5 7.68198 4.5H7.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5H7.68198C8.52589 10.5 9.33524 10.1648 9.93198 9.56802L10 9.5M1.5 10.5V4.5L7.5 1L13.5 4.5V10.5L7.5 14L1.5 10.5Z\" stroke=\"black\"/>\n    </svg>\n  )\n}\n\nexport const ModeSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\">\n      <path d=\"M10.8 6.05a1.25 1.25 0 112.5 0 1.25 1.25 0 01-2.5 0zM14.45 8.2a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5zM4.3 9.45a1.25 1.25 0 112.5 0 1.25 1.25 0 01-2.5 0zM7.85 4.8a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z\"></path>\n      <path clipRule=\"evenodd\" d=\"M14.18 14.04c2.14.23 4.32-.75 4.32-4.04A8.47 8.47 0 0010 1.5 8.47 8.47 0 001.5 10a8.47 8.47 0 008.5 8.5c1.13 0 2.25-1 1.98-2.43l-.17-.68c-.25-.94-.43-1.6 1.08-1.49l1.29.14zm.16-1.5l-.25-.02-1.1-.12a3.34 3.34 0 00-1.74.27 2 2 0 00-1.1 1.68 3.8 3.8 0 00.22 1.47l.14.54c.02.13 0 .22 0 .28a.44.44 0 01-.1.17.57.57 0 01-.41.19 6.97 6.97 0 01-7-7 6.97 6.97 0 017-7 6.97 6.97 0 017 7c0 1.3-.41 1.87-.77 2.15-.42.32-1.07.48-1.9.4z\" fillRule=\"evenodd\"></path></g>\n    </svg>\n  )\n}\n\nexport const HelpSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\">\n      <path d=\"M10 6.25c-.58 0-1.07.4-1.21.94a.75.75 0 01-1.45-.38 2.75 2.75 0 015.41.69c0 1.21-.65 1.84-1.14 2.3h-.01c-.48.45-.77.73-.86 1.3a.75.75 0 01-1.48-.2c.16-1.12.8-1.71 1.25-2.14l.07-.06c.45-.42.67-.66.67-1.2 0-.69-.56-1.25-1.25-1.25zM10 15a1 1 0 100-2 1 1 0 000 2z\"></path>\n      <path clipRule=\"evenodd\" d=\"M10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zM3 10a7 7 0 1014 0 7 7 0 00-14 0z\" fillRule=\"evenodd\"></path></g>\n    </svg>\n  )\n}\n\nexport const SignOutSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M9.25 2.1h.04a.75.75 0 110 1.5c-1.15 0-1.96 0-2.6.06-.62.05-1 .15-1.3.3-.62.31-1.12.81-1.43 1.42-.15.3-.25.69-.3 1.31-.05.63-.05 1.43-.05 2.57v1.48c0 1.14 0 1.94.05 2.57.05.62.15 1 .3 1.3.31.62.81 1.12 1.42 1.43.3.15.7.25 1.32.3.63.05 1.44.05 2.59.05a.75.75 0 010 1.5h-.04c-1.1 0-1.97 0-2.67-.05a4.9 4.9 0 01-1.88-.46 4.75 4.75 0 01-2.08-2.08 4.88 4.88 0 01-.46-1.87c-.05-.7-.05-1.56-.05-2.65V9.22c0-1.09 0-1.95.05-2.65.06-.71.18-1.32.46-1.87A4.75 4.75 0 014.7 2.62a4.9 4.9 0 011.88-.46c.7-.05 1.57-.05 2.67-.05zm4.5 4.51c.3-.29.77-.29 1.07 0l2.85 2.86c.3.3.3.77 0 1.06l-2.85 2.86a.75.75 0 11-1.06-1.06l1.57-1.58H8.57a.75.75 0 010-1.5h6.76l-1.57-1.58a.75.75 0 010-1.06z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const MyProfileSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M5.84 15.63a6.97 6.97 0 008.32 0 8.2 8.2 0 00-8.32 0zM4.7 14.57a7 7 0 1110.6 0 9.7 9.7 0 00-10.6 0zM10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zm-1.5 7a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zm1.5-3a3 3 0 100 6 3 3 0 000-6z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const MessengerSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"message_outline_20__Page-2\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\"><g id=\"message_outline_20__message_outline_20\">\n      <path id=\"message_outline_20__Shape\" opacity=\".4\" d=\"M0 0h20v20H0z\"></path>\n      <path d=\"M6.83 15.75c.2-.23.53-.31.82-.2.81.3 1.7.45 2.6.45 3.77 0 6.75-2.7 6.75-6s-2.98-6-6.75-6S3.5 6.7 3.5 10c0 1.21.4 2.37 1.14 3.35.1.14.16.31.15.49-.04.76-.4 1.78-1.08 3.13 1.48-.11 2.5-.53 3.12-1.22zM3.24 18.5a1.2 1.2 0 01-1.1-1.77A10.77 10.77 0 003.26 14 7 7 0 012 10c0-4.17 3.68-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.68 7.5-8.25 7.5c-.92 0-1.81-.13-2.66-.4-1 .89-2.46 1.34-4.35 1.4z\" id=\"message_outline_20__Icon-Color\" fill=\"currentColor\" fillRule=\"nonzero\"></path></g></g>\n    </svg>\n  )\n}\n\nexport const DevelopersSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\"><g clipRule=\"evenodd\" fillRule=\"evenodd\">\n      <path d=\"M6.25 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zM2.69 11.57c.96-.55 2.22-.82 3.56-.82s2.6.27 3.56.82c.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54H3.5c-.61 0-1.24-.15-1.72-.54-.5-.4-.78-1-.78-1.71 0-1.21.71-2.12 1.69-2.68zm.75 1.3c-.65.37-.94.84-.94 1.38 0 .3.1.44.22.54.14.11.4.21.78.21H9c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38-.66-.39-1.65-.62-2.81-.62s-2.15.23-2.81.62zM13.75 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z\"></path></g>\n      <path d=\"M13.75 12.25c-.23 0-.45.01-.68.03a.75.75 0 11-.14-1.49c.27-.03.54-.04.82-.04 1.34 0 2.6.27 3.56.82.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54h-3a.75.75 0 010-1.5h3c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38a5.77 5.77 0 00-2.81-.62z\"></path></g>\n    </svg>\n  )\n}\n\nexport const CrossSvg = (props: {className?: string, onClick?: ()=>void}) => {\n  return (\n    <svg {...props} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"cancel_24__Page-2\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\"><g id=\"cancel_24__cancel_24\">\n      <path id=\"cancel_24__Bounds\" d=\"M0 0h24v24H0z\"></path><path d=\"M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z\" id=\"cancel_24__Mask\" fill=\"currentColor\"></path></g></g>\n    </svg>\n  )\n}\n\nexport const ArrowUpSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"12px\" height=\"12px\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"  x=\"0px\" y=\"0px\" viewBox=\"0 0 26.775 26.775\" >\n      <path d=\"M13.915,0.379l8.258,9.98c0,0,1.252,1.184-0.106,1.184c-1.363,0-4.653,0-4.653,0s0,0.801,0,2.025   c0,3.514,0,9.9,0,12.498c0,0,0.184,0.709-0.885,0.709c-1.072,0-5.783,0-6.55,0c-0.765,0-0.749-0.592-0.749-0.592   c0-2.531,0-9.133,0-12.527c0-1.102,0-1.816,0-1.816s-2.637,0-4.297,0c-1.654,0-0.408-1.24-0.408-1.24s7.025-9.325,8.001-10.305   C13.24-0.414,13.915,0.379,13.915,0.379z\"/>\n    </svg>\n  )\n}\n\nexport const PhotoSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M5.5 5.5c.57 0 1-.2 1.34-.52.24-.24.43-.54.55-.74l.06-.1c.15-.23.26-.37.39-.47.11-.08.3-.17.66-.17h3c.36 0 .55.09.66.17.13.1.24.24.4.48l.05.09c.12.2.3.5.55.74.33.32.77.52 1.34.52.73 0 .99 0 1.19.04.9.18 1.59.88 1.77 1.77.04.2.04.46.04 1.19v3.45c0 .85 0 1.45-.04 1.9-.04.46-.1.72-.2.92-.22.42-.57.77-.99.98-.2.1-.46.17-.91.21-.46.04-1.06.04-1.91.04h-6.9c-.85 0-1.45 0-1.91-.04a2.4 2.4 0 01-.91-.2 2.25 2.25 0 01-.99-.99 2.4 2.4 0 01-.2-.91c-.04-.46-.04-1.06-.04-1.91V8.5c0-.73 0-.99.04-1.19.18-.9.88-1.59 1.77-1.77.2-.04.46-.04 1.19-.04zm3-3.5c-.64 0-1.14.16-1.54.46-.39.27-.62.63-.78.9l-.08.11c-.13.22-.2.34-.3.43-.06.05-.12.1-.3.1h-.09c-.61 0-1.03 0-1.4.07a3.75 3.75 0 00-2.94 2.95C1 7.38 1 7.8 1 8.42v3.56c0 .81 0 1.47.04 2 .05.55.14 1.03.37 1.47.36.7.93 1.28 1.64 1.64.44.23.92.32 1.47.37.53.04 1.18.04 2 .04H13.48c.81 0 1.47 0 2-.04a3.84 3.84 0 001.47-.37c.7-.36 1.28-.93 1.64-1.64.23-.44.32-.92.37-1.47.04-.53.04-1.19.04-2V8.41c0-.61 0-1.03-.07-1.4a3.75 3.75 0 00-2.95-2.94 7.5 7.5 0 00-1.4-.07h-.08c-.18 0-.24-.05-.3-.1-.1-.1-.17-.2-.3-.43l-.08-.12c-.16-.26-.4-.62-.78-.9-.4-.29-.9-.45-1.54-.45zm3.75 8.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm1.5 0a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const VideoSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M10 17a7 7 0 110-14 7 7 0 010 14zm-8.5-7a8.5 8.5 0 1117 0 8.5 8.5 0 01-17 0zm8.65 3.38l2.7-1.56a2.1 2.1 0 000-3.64l-2.7-1.56A2.1 2.1 0 007 8.44v3.12a2.1 2.1 0 003.15 1.82zm1.95-3.9c.4.23.4.8 0 1.04l-2.7 1.56a.6.6 0 01-.9-.52V8.44c0-.46.5-.75.9-.52z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const AudioSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"music_outline_20__Icons\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\"><g id=\"music_outline_20__Icons-20/music_outline_20\"><g id=\"music_outline_20__music_outline_20\"><path d=\"M0 0h20v20H0z\"></path>\n      <path d=\"M14.73 2.05a2.28 2.28 0 012.75 2.23v7.99c0 3.57-3.5 5.4-5.39 3.51-1.9-1.9-.06-5.38 3.52-5.38h.37V6.76L8 8.43v5.82c0 3.5-3.35 5.34-5.27 3.62l-.11-.1c-1.9-1.9-.06-5.4 3.51-5.4h.37V6.24c0-.64.05-1 .19-1.36l.05-.13c.17-.38.43-.7.76-.93.36-.26.7-.4 1.41-.54zM6.5 13.88h-.37c-2.32 0-3.34 1.94-2.45 2.82.88.89 2.82-.13 2.82-2.45v-.37zm9.48-1.98h-.37c-2.32 0-3.34 1.94-2.46 2.82.89.89 2.83-.13 2.83-2.45v-.37zm-.02-7.78a.78.78 0 00-.92-.6L9.06 4.77c-.4.09-.54.15-.68.25a.8.8 0 00-.27.33c-.08.18-.1.35-.1.88v.67l7.97-1.67v-.95-.08z\" id=\"music_outline_20__Icon-Color\" fill=\"currentColor\" fillRule=\"nonzero\"></path></g></g></g>\n    </svg>\n  )\n}\n\nexport const ChatSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"56\" height=\"56\" viewBox=\"0 0 56 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M22.03 10c-8.48 0-14.97 5.92-14.97 12.8 0 2.47.82 4.79 2.25 6.74a1.5 1.5 0 01.3.9c0 1.63-.43 3.22-.96 4.67a41.9 41.9 0 01-1.17 2.8c3.31-.33 5.5-1.4 6.8-2.96a1.5 1.5 0 011.69-.43 17.06 17.06 0 006.06 1.1C30.5 35.61 37 29.68 37 22.8 37 15.93 30.5 10 22.03 10zM4.06 22.8C4.06 13.9 12.3 7 22.03 7 31.75 7 40 13.88 40 22.8c0 8.93-8.25 15.81-17.97 15.81-2.17 0-4.25-.33-6.17-.95-2.26 2.14-5.55 3.18-9.6 3.34a2.2 2.2 0 01-2.07-3.08l.42-.95c.43-.96.86-1.9 1.22-2.9.41-1.11.69-2.18.76-3.18a14.28 14.28 0 01-2.53-8.08z\" fill=\"currentColor\"></path>\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M43.01 18.77a1.5 1.5 0 00.38 2.09c3.44 2.38 5.55 5.98 5.55 9.95 0 2.47-.81 4.78-2.25 6.73a1.5 1.5 0 00-.3.9c0 1.63.43 3.22.96 4.67.35.96.77 1.92 1.17 2.8-3.31-.33-5.5-1.4-6.8-2.96a1.5 1.5 0 00-1.69-.43 17.06 17.06 0 01-6.06 1.1c-2.98 0-5.75-.76-8.08-2.03a1.5 1.5 0 00-1.44 2.63 20.19 20.19 0 0015.7 1.44c2.25 2.14 5.54 3.18 9.59 3.34a2.2 2.2 0 002.07-3.08l-.42-.95c-.44-.96-.86-1.9-1.22-2.9a11.65 11.65 0 01-.76-3.18 14.28 14.28 0 002.53-8.08c0-5.1-2.72-9.56-6.84-12.42a1.5 1.5 0 00-2.09.38z\" fill=\"currentColor\"></path>\n    </svg>\n  )\n}\n\nexport const PinSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g clipRule=\"evenodd\" fill=\"currentColor\" fillRule=\"evenodd\">\n      <path d=\"M17.96 8.15a.75.75 0 01-.57.52l-1.56.31a.25.25 0 00-.14.08c-.22.24-.45.47-.69.7a.75.75 0 01-1.06-1.06l.65-.66c.25-.27.58-.45.94-.53l.2-.04-3.2-3.2-.04.19c-.07.34-.23.65-.48.9l-.7.7A.75.75 0 0110.23 5l.7-.7a.25.25 0 00.08-.13l.3-1.56a.75.75 0 011.27-.39l5.19 5.18c.2.2.26.49.18.75zM8 13.06l3.14 3.14c.6.61 1.61.23 1.71-.58.09-.84.13-1.68.2-2.51l1.67 1.67a.75.75 0 101.06-1.06l-9.5-9.5a.75.75 0 10-1.06 1.06l1.67 1.67c-.85.07-1.72.08-2.56.2a1.01 1.01 0 00-.53 1.72L6.94 12l-4.8 4.8a.75.75 0 001.14.98zm3.44 1.33l.21-2.68-3.37-3.37-2.67.22z\"></path></g>\n    </svg>\n  )\n}\n\nexport const LikeSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M0 0h24v24H0z\"></path><path d=\"M16 4a5.95 5.95 0 0 0-3.89 1.7l-.12.11-.12-.11A5.96 5.96 0 0 0 7.73 4 5.73 5.73 0 0 0 2 9.72c0 3.08 1.13 4.55 6.18 8.54l2.69 2.1c.66.52 1.6.52 2.26 0l2.36-1.84.94-.74c4.53-3.64 5.57-5.1 5.57-8.06A5.73 5.73 0 0 0 16.27 4zm.27 1.8a3.93 3.93 0 0 1 3.93 3.92v.3c-.08 2.15-1.07 3.33-5.51 6.84l-2.67 2.08a.04.04 0 0 1-.04 0L9.6 17.1l-.87-.7C4.6 13.1 3.8 11.98 3.8 9.73A3.93 3.93 0 0 1 7.73 5.8c1.34 0 2.51.62 3.57 1.92a.9.9 0 0 0 1.4-.01c1.04-1.3 2.2-1.91 3.57-1.91z\" fill=\"currentColor\" fillRule=\"nonzero\"></path></g></svg>\n  )\n}\n\nexport const CommentSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M0 0h24v24H0z\"></path><path d=\"M16.9 4H7.1c-1.15 0-1.73.11-2.35.44-.56.3-1 .75-1.31 1.31C3.11 6.37 3 6.95 3 8.1v5.8c0 1.15.11 1.73.44 2.35.3.56.75 1 1.31 1.31l.15.07c.51.25 1.04.35 1.95.37h.25v2.21c0 .44.17.85.47 1.16l.12.1c.64.55 1.6.52 2.21-.08L13.37 18h3.53c1.15 0 1.73-.11 2.35-.44.56-.3 1-.75 1.31-1.31.33-.62.44-1.2.44-2.35V8.1c0-1.15-.11-1.73-.44-2.35a3.17 3.17 0 0 0-1.31-1.31A4.51 4.51 0 0 0 16.9 4zM6.9 5.8h9.99c.88 0 1.18.06 1.5.23.25.13.44.32.57.57.17.32.23.62.23 1.5v6.16c-.02.61-.09.87-.23 1.14-.13.25-.32.44-.57.57-.32.17-.62.23-1.5.23h-4.02a.9.9 0 0 0-.51.26l-3.47 3.4V17.1c0-.5-.4-.9-.9-.9H6.74a2.3 2.3 0 0 1-1.14-.23 1.37 1.37 0 0 1-.57-.57c-.17-.32-.23-.62-.23-1.5V7.74c.02-.61.09-.87.23-1.14.13-.25.32-.44.57-.57.3-.16.58-.22 1.31-.23z\" fill=\"currentColor\" fillRule=\"nonzero\"></path></g></svg>\n  )\n}\n\nexport const ShareSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M0 0h24v24H0z\"></path><path d=\"M12 3.73c-1.12.07-2 1-2 2.14v2.12h-.02a9.9 9.9 0 0 0-7.83 10.72.9.9 0 0 0 1.61.46l.19-.24a9.08 9.08 0 0 1 5.84-3.26l.2-.03.01 2.5a2.15 2.15 0 0 0 3.48 1.69l7.82-6.14a2.15 2.15 0 0 0 0-3.38l-7.82-6.13c-.38-.3-.85-.46-1.33-.46zm.15 1.79c.08 0 .15.03.22.07l7.82 6.14a.35.35 0 0 1 0 .55l-7.82 6.13a.35.35 0 0 1-.57-.28V14.7a.9.9 0 0 0-.92-.9h-.23l-.34.02c-2.28.14-4.4.98-6.12 2.36l-.17.15.02-.14a8.1 8.1 0 0 1 6.97-6.53.9.9 0 0 0 .79-.9V5.87c0-.2.16-.35.35-.35z\" fill=\"currentColor\" fillRule=\"nonzero\"></path></g></svg>\n  )\n}\n\nexport const DotsSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"more_horizontal_24__Page-2\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\"><g id=\"more_horizontal_24__more_horizontal_24\"><path id=\"more_horizontal_24__Bounds\" d=\"M24 0H0v24h24z\"></path><path d=\"M18 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm-6 4a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Zm-6 0a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Z\" id=\"more_horizontal_24__Mask\" fill=\"currentColor\"></path></g></g></svg>\n  )\n}\n\nexport const SearchSvg = (props: {className?: string}) => {\n  return (\n      <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n        viewBox=\"0 0 487.95 487.95\" xmlSpace=\"preserve\">\n        <path d=\"M481.8,453l-140-140.1c27.6-33.1,44.2-75.4,44.2-121.6C386,85.9,299.5,0.2,193.1,0.2S0,86,0,191.4s86.5,191.1,192.9,191.1\n          c45.2,0,86.8-15.5,119.8-41.4l140.5,140.5c8.2,8.2,20.4,8.2,28.6,0C490,473.4,490,461.2,481.8,453z M41,191.4\n          c0-82.8,68.2-150.1,151.9-150.1s151.9,67.3,151.9,150.1s-68.2,150.1-151.9,150.1S41,274.1,41,191.4z\"/>\n      </svg>\n    )\n}\n\nexport const AttachSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"m0 0h24v24h-24z\"/>\n      <path {...props} d=\"m20.0291094 15.0279907-5.384726 5.2303888c-2.5877049 2.513536-6.71408829 2.4838066-9.26530792-.0667538-2.6116233-2.6109485-2.61217034-6.8446794-.00122186-9.4563027.00760974-.0076117.01523784-.015205.02288425-.0227799l8.06657363-7.99110563c1.7601202-1.7436532 4.6004898-1.73030402 6.344143.02981623.0091252.00921136.0182104.01846224.0272554.02775238 1.7500823 1.79751906 1.7306631 4.66777042-.0435807 6.44144506l-8.1308667 8.12825806c-.8479169.8476448-2.20023168.9147308-3.12787932.1551687l-.1337127-.1094846c-.8947528-.7326277-1.02618115-2.0518803-.29355343-2.9466331.03855837-.047091.0791516-.0924786.12166404-.1360332l5.46733261-5.60136864\" stroke=\"#828a99\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.8\"/></g>\n    </svg>\n    )\n}\n\nexport const FileSvg = (props: {className?: string}) => {\n  return (\n    <svg {...props} fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path clipRule=\"evenodd\" d=\"M17.2 6.78a2 2 0 0 1 .24.58c.06.23.06.48.06.97v2.97c0 2.52 0 3.78-.49 4.74a4.5 4.5 0 0 1-1.97 1.97c-.96.49-2.22.49-4.74.49h-.6c-2.52 0-3.78 0-4.74-.49a4.5 4.5 0 0 1-1.97-1.97c-.49-.96-.49-2.22-.49-4.74V8.7c0-2.52 0-3.78.49-4.74a4.5 4.5 0 0 1 1.97-1.97c.96-.49 2.22-.49 4.74-.49h.97c.5 0 .74 0 .97.06.2.04.4.13.58.23.2.13.37.3.72.65l3.62 3.62c.35.35.52.52.65.72zM10.3 17h-.6c-1.28 0-2.16 0-2.83-.06-.66-.05-1-.15-1.23-.27a3 3 0 0 1-1.31-1.3 3.24 3.24 0 0 1-.27-1.24C4 13.46 4 12.58 4 11.3V8.7c0-1.28 0-2.16.06-2.83.05-.66.15-1 .27-1.23a3 3 0 0 1 1.3-1.31c.24-.12.58-.22 1.24-.27C7.54 3 8.42 3 9.7 3h.3v1.28c0 .67 0 1.23.04 1.67.03.47.12.88.31 1.28.32.6.81 1.1 1.42 1.42.4.2.81.28 1.28.31.44.04 1 .04 1.67.04H16v2.3c0 1.28 0 2.16-.06 2.83-.05.66-.15 1-.27 1.23a3 3 0 0 1-1.3 1.31c-.24.12-.58.22-1.24.27-.67.06-1.55.06-2.83.06zm5.57-9.5h-1.12c-.71 0-1.2 0-1.58-.03a1.88 1.88 0 0 1-.71-.16c-.33-.17-.6-.44-.77-.77a1.88 1.88 0 0 1-.16-.7 21.6 21.6 0 0 1-.03-1.59V3.13l.01.01.37.36 3.62 3.62.36.37.01.01z\" fill=\"currentColor\" fillRule=\"evenodd\"></path>\n    </svg>\n  )\n}\n\nexport const FullScreenSvg = (props: {className?: string, onClick: () => void}) => {\n  return (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" />\n    </svg>\n  )\n}\n\n\n","export enum UsersConstants {\n  SET_PEOPLE_TOTAL_COUNT = 'users/SET_PEOPLE_TOTAL_COUNT',\n  SET_FRIENDS_TOTAL_COUNT = 'users/SET_FRIENDS_TOTAL_COUNT',\n  SET_SEARCHED_PEOPLE_TOTAL_COUNT = 'users/SET_SEARCHED_PEOPLE_TOTAL_COUNT',\n  SET_SEARCHED_FRIENDS_TOTAL_COUNT = 'users/SET_SEARCHED_FRIENDS_TOTAL_COUNT',\n\n  SET_PEOPLE_PAGE = 'users/SET_PEOPLE_PAGE',\n  SET_FRIENDS_PAGE = 'users/SET_FRIENDS_PAGE',\n  SET_SEARCHED_PEOPLE_PAGE = 'users/SET_SEARCHED_PEOPLE_PAGE',\n  SET_SEARCHED_FRIENDS_PAGE = 'users/SET_SEARCHED_FRIENDS_PAGE',\n\n  FETCH_USERS_REQUEST = 'users/FETCH_USERS_REQUEST',\n  FETCH_PEOPLE_SUCCESS = 'users/FETCH_PEOPLE_SUCCESS',\n  FETCH_FRIENDS_SUCCESS = 'users/FETCH_FRIENDS_SUCCESS',\n  FETCH_SEARCHED_PEOPLE_SUCCESS = 'users/FETCH_SEARCHED_PEOPLE_SUCCESS',\n  FETCH_SEARCHED_FRIENDS_SUCCESS = 'users/FETCH_SEARCHED_FRIENDS_SUCCESS',\n  FETCH_USERS_FAILURE = 'users/FETCH_USERS_FAILURE',\n  \n  TOGGLE_FOLLOW_ON_USER_REQUEST = 'users/TOGGLE_FOLLOW_ON_USER_REQUEST',\n  TOGGLE_FOLLOW_ON_USER_SUCCESS = 'users/TOGGLE_FOLLOW_ON_USER_SUCCESS',\n  TOGGLE_FOLLOW_ON_USER_FAILURE = 'users/TOGGLE_FOLLOW_ON_USER_FAILURE',\n\n  CLEAR_SEARCHED_USERS_STATE = 'users/CLEAR_SEARCHED_USERS_STATE',\n}\nexport interface IUser {\n  id: number\n  name: string\n  status: string | null\n  photos: { small: string | null; big: string | null }\n  followed: boolean\n}\n\nexport interface IUsersData {\n  friends: {\n   items: IUser[]\n   totalItemsCount: number\n   currentPage: number\n  }\n  people: {\n    items: IUser[]\n    totalItemsCount: number\n    currentPage: number\n  }\n}\n","import React from \"react\"\nimport Preloader from \"../components/common/Preloader/Preloader\"\nimport { IUser } from \"../redux/users/types\"\n\nexport const makeFirstLetterUppercase = (fullName: string | undefined | null) => {\n  if (!fullName) return\n  return fullName.split(' ').map((el) => el.substr(0, 1).toUpperCase() + el.substr(1)).join(' ')\n}\n\nexport const reduceLine = (line: string | null, maxChar: number) => {\n  if(!line) return null\n  return (line.length > maxChar) ? `${line.substring(0, maxChar)}..` : line\n}\n\nexport const convertDateFormat = (date: string, withTime: boolean) => {\n  const months = [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ]\n  const _date = new Date(Date.parse(date))\n  const hour = _date.getHours() < 10 ? `0${_date.getHours()}` : _date.getHours()\n  const minutes = _date.getMinutes() < 10 ? `0${_date.getMinutes()}` : _date.getMinutes()\n  const resultDate = `${_date.getDate()} ${months[_date.getMonth()]}`\n  const time = `${hour}:${minutes}`\n  return withTime ? resultDate + ' ' + time : resultDate\n}\n\nexport const isActiveNavLink = (itemClass: string, activeItemClass: string) => ({ isActive }: { isActive: boolean }): string => {\n  return isActive ? [itemClass, activeItemClass].join(' ') : itemClass\n}\n\nexport const withSuspense = (Component: any) => {\n  return (\n    <React.Suspense\n      fallback={<Preloader width=\"100px\" height=\"100px\" position=\"absolute\" />}\n      children={<Component />}\n    />\n  )\n}\n\nexport const toggleFollow = (users: IUser[], id: number) => users.map((user) => {\n  if (user.id === id) {\n    return { ...user, followed: !user.followed }\n  }\n  return user\n})\n\nexport const randomNum = (max: number) => Math.floor(Math.random() * (max - 0 + 1) + 0)","import { IUser, UsersConstants } from \"./types\"\n\n/* ------------- Types ------------- */\nexport interface FetchUsersRequest extends ReturnType<typeof fetchUsersRequest> {}\nexport interface FetchPeopleSuccess extends ReturnType<typeof fetchPeopleSuccess> {}\nexport interface FetchFriendsSuccess extends ReturnType<typeof fetchFriendsSuccess> {}\nexport interface FetchSearchedPeopleSuccess extends ReturnType<typeof fetchSearchedPeopleSuccess> {}\nexport interface FetchSearchedFriendsSuccess extends ReturnType<typeof fetchSearchedFriendsSuccess> {}\nexport interface FetchUsersFailure extends ReturnType<typeof fetchUsersFailure> {}\nexport interface ToggleFollowOnUserRequest extends ReturnType<typeof toggleFollowOnUserRequest> {}\nexport interface ToggleFollowOnUserSuccess extends ReturnType<typeof toggleFollowOnUserSuccess> {}\nexport interface ToggleFollowOnUserFailure extends ReturnType<typeof toggleFollowOnUserFailure> {}\nexport interface SetPeopleTotalCount extends ReturnType<typeof setPeopleTotalCount> {}\nexport interface SetFriendsTotalCount extends ReturnType<typeof setFriendsTotalCount> {}\nexport interface SetSearchedPeopleTotalCount extends ReturnType<typeof setSearchedPeopleTotalCount> {}\nexport interface SetSearchedFriendsTotalCount extends ReturnType<typeof setSearchedFriendsTotalCount> {}\nexport interface SetPeoplePage extends ReturnType<typeof setPeoplePage> {}\nexport interface SetFriendsPage extends ReturnType<typeof setFriendsPage> {}\nexport interface SetSearchedPeoplePage extends ReturnType<typeof setSearchedPeoplePage> {}\nexport interface SetSearchedFriendsPage extends ReturnType<typeof setSearchedFriendsPage> {}\nexport interface ClearUsersState extends ReturnType<typeof clearUsersState> {}\n\nexport type UsersAction =\n  | FetchUsersRequest\n  | FetchPeopleSuccess\n  | FetchFriendsSuccess\n  | FetchSearchedPeopleSuccess\n  | FetchSearchedFriendsSuccess\n  | FetchUsersFailure\n  | SetPeopleTotalCount\n  | SetFriendsTotalCount\n  | SetSearchedPeopleTotalCount\n  | SetSearchedFriendsTotalCount\n  | SetPeoplePage\n  | SetFriendsPage\n  | SetSearchedPeoplePage\n  | SetSearchedFriendsPage\n  | ClearUsersState\n  | ToggleFollowOnUserRequest\n  | ToggleFollowOnUserSuccess\n  | ToggleFollowOnUserFailure\n\n/* ------------- Actions ------------- */\nexport const fetchUsersRequest = () => {\n  return <const>{ type: UsersConstants.FETCH_USERS_REQUEST }\n}\n\nexport const fetchPeopleSuccess = (users: IUser[]) => {\n  return <const>{ type: UsersConstants.FETCH_PEOPLE_SUCCESS, payload: users }\n}\n\nexport const fetchFriendsSuccess = (users: IUser[]) => {\n  return <const>{ type: UsersConstants.FETCH_FRIENDS_SUCCESS, payload: users }\n}\n\nexport const fetchSearchedPeopleSuccess = (users: IUser[]) => {\n  return <const>{ type: UsersConstants.FETCH_SEARCHED_PEOPLE_SUCCESS, payload: users }\n}\n\nexport const fetchSearchedFriendsSuccess = (users: IUser[]) => {\n  return <const>{ type: UsersConstants.FETCH_SEARCHED_FRIENDS_SUCCESS, payload: users }\n}\n\nexport const fetchUsersFailure = (error: string) => {\n  return <const>{ type: UsersConstants.FETCH_USERS_FAILURE, payload: error }\n}\n\nexport const toggleFollowOnUserRequest = (id: number) => {\n  return <const>{ type: UsersConstants.TOGGLE_FOLLOW_ON_USER_REQUEST, payload: id }\n}\n\nexport const toggleFollowOnUserSuccess = (userId: number) => {\n  return <const>{ type: UsersConstants.TOGGLE_FOLLOW_ON_USER_SUCCESS, payload: userId }\n}\n\nexport const toggleFollowOnUserFailure = (payload: {error: string, id: number}) => {\n  return <const>{ type: UsersConstants.TOGGLE_FOLLOW_ON_USER_FAILURE, payload }\n}\n\nexport const setPeopleTotalCount = (totalCount: number) => {\n  return <const>{ type: UsersConstants.SET_PEOPLE_TOTAL_COUNT, payload: totalCount }\n}\n\nexport const setFriendsTotalCount = (totalCount: number) => {\n  return <const>{ type: UsersConstants.SET_FRIENDS_TOTAL_COUNT, payload: totalCount }\n}\n\nexport const setSearchedPeopleTotalCount = (totalCount: number) => {\n  return <const>{ type: UsersConstants.SET_SEARCHED_PEOPLE_TOTAL_COUNT, payload: totalCount }\n}\n\nexport const setSearchedFriendsTotalCount = (totalCount: number) => {\n  return <const>{ type: UsersConstants.SET_SEARCHED_FRIENDS_TOTAL_COUNT, payload: totalCount }\n}\n\nexport const setPeoplePage = (currentPage: number) => {\n  return <const>{ type: UsersConstants.SET_PEOPLE_PAGE, payload: currentPage }\n}\n\nexport const setFriendsPage = (currentPage: number) => {\n  return <const>{ type: UsersConstants.SET_FRIENDS_PAGE, payload: currentPage }\n}\n\nexport const setSearchedPeoplePage = (currentPage: number) => {\n  return <const>{ type: UsersConstants.SET_SEARCHED_PEOPLE_PAGE, payload: currentPage }\n}\n\nexport const setSearchedFriendsPage = (currentPage: number) => {\n  return <const>{ type: UsersConstants.SET_SEARCHED_FRIENDS_PAGE, payload: currentPage }\n}\n\nexport const clearUsersState = () => {\n  return <const>{ type: UsersConstants.CLEAR_SEARCHED_USERS_STATE }\n}","\nexport enum DialogsConstants {\n  FETCH_DIALOGS_REQUEST = 'messenger/FETCH_DIALOGS_REQUEST',\n  FETCH_DIALOGS_SUCCESS = 'messenger/FETCH_DIALOGS_SUCCESS',\n  FETCH_DIALOGS_FAILURE = 'messenger/FETCH_DIALOGS_FAILURE',\n\n  FETCH_MESSAGES_REQUEST = 'messenger/FETCH_MESSAGES_REQUEST',\n  FETCH_MESSAGES_SUCCESS = 'messenger/FETCH_MESSAGES_SUCCESS',\n  FETCH_MESSAGES_FAILURE = 'messenger/FETCH_MESSAGES_FAILURE',\n\n  SEND_MESSAGE_REQUEST = 'messenger/SEND_MESSAGE_REQUEST',\n  SEND_MESSAGE_SUCCESS = 'messenger/SEND_MESSAGE_SUCCESS',\n  SEND_MESSAGE_FAILURE = 'messenger/SEND_MESSAGE_FAILURE',\n\n  CREATE_DIALOG_REQUEST = 'messenger/CREATE_DIALOG_REQUEST',\n  CREATE_DIALOG_SUCCESS = 'messenger/CREATE_DIALOG_SUCCESS',\n  CREATE_DIALOG_FAILURE = 'messenger/CREATE_DIALOG_FAILURE',\n\n  CLEAR_MESSAGES_STATE = 'messenger/CLEAR_MESSAGES_STATE',\n}\n\nexport interface DialogType {\n  id: number\n  userName: string\n  hasNewMessages: boolean\n  lastDialogActivityDate: string\n  lastUserActivityDate: string\n  newMessagesCount: number\n  photos: {\n    small: null | string\n    large: null | string\n  }\n}\n\nexport interface MessageType {\n  id: string\n  body: string\n  addedAt: string\n  senderName: string\n  senderId: number\n  recipientId?: number\n  viewed?: boolean\n  translatedBody?: null\n  photo?: string\n}","import axios from 'axios'\n\nexport const api = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    // 'API-KEY': '61ac4a5-11aa-4c80-a12b-d117d48a000f', //wrong\n    'API-KEY': '61ac4a57-11aa-4c80-a12b-d117d48a000f', \n  },\n})\n\nexport const postsApi = axios.create({\n  baseURL: 'https://api.airtable.com/v0/appUhsO5GYI6yhdGh/posts',\n  headers: {\n    Authorization: 'Bearer keyWGxEtchCC8dAmA'\n  }\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popUpContainer\":\"SendMessagePopUp_popUpContainer__2pH0C\",\"popUp\":\"SendMessagePopUp_popUp___fV-F\",\"flexRowContainer\":\"SendMessagePopUp_flexRowContainer__35v9z\",\"newMessage\":\"SendMessagePopUp_newMessage__1Yw2B\",\"openChatBtn\":\"SendMessagePopUp_openChatBtn__29lor\",\"closePopUpBtn\":\"SendMessagePopUp_closePopUpBtn__9tuN8\",\"profileInfo\":\"SendMessagePopUp_profileInfo__1XT5c\",\"avatarContainer\":\"SendMessagePopUp_avatarContainer__3IXYP\",\"infoColumn\":\"SendMessagePopUp_infoColumn__3sGe_\",\"fullName\":\"SendMessagePopUp_fullName__2HZ8t\",\"lastActivity\":\"SendMessagePopUp_lastActivity__cg2NY\",\"textAreaContainer\":\"SendMessagePopUp_textAreaContainer__s5ZfA\",\"popUpTextField\":\"SendMessagePopUp_popUpTextField__2nt3J\",\"flexRowFooter\":\"SendMessagePopUp_flexRowFooter__3WIDY\",\"attachments\":\"SendMessagePopUp_attachments__3x4Fq\",\"btnSvg\":\"SendMessagePopUp_btnSvg__2UNk6\",\"moreBtn\":\"SendMessagePopUp_moreBtn__KWNMC\",\"btnContainer\":\"SendMessagePopUp_btnContainer__TfFE9\"};","import cl from \"./Avatar.module.scss\";\nimport defaultPhoto from '../../assets/images/jpeg/no-photo.jpg'\nimport { useNavigate } from \"react-router-dom\";\n\ninterface AvatarProps {\n  photo: string | null | undefined\n  userId?: number\n}\n\nconst Avatar: React.FC<AvatarProps> = ({photo, userId}) => {\n  const navigate = useNavigate()\n\n  const handleClick = () => {\n    navigate(`/profile/${userId}`)\n  }\n\n  return (\n    <img\n      className={cl.img}\n      src={photo || defaultPhoto}\n      alt=\"avatar\"\n      onClick={userId ? handleClick : () => {}}\n    />\n  )\n};\n\nexport default Avatar;\n","export default __webpack_public_path__ + \"static/media/preloader.93facfc0.svg\";","import preloader from '../../../assets/images/svg/preloader.svg'\n\ninterface PreloaderProps {\n  width: string\n  height: string\n  position: 'absolute' | 'fixed'\n  margin?: string\n}\n\nconst Preloader: React.FC<PreloaderProps> = ({margin, width, height, position}) => {\n  const preloaderAbsolute = {\n    position: position,\n    width: '100%',\n    height: '100%',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  } as React.CSSProperties\n\n  const preloaderFixed = {\n    width: width,\n    height: height,\n    position: position,\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  } as React.CSSProperties\n\n  const containerStyles = {\n    margin: margin || '0 auto',\n    width: width,\n    height: height,\n    position: 'relative',\n  } as React.CSSProperties\n\n  return position === 'fixed' ? (\n    <img src={preloader} alt=\"preloader\" style={preloaderFixed} />\n  ) : (\n    <div style={containerStyles}><img src={preloader} alt=\"preloader\" style={preloaderAbsolute} /></div>\n  )\n}\n\nexport default Preloader\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1iWZH\",\"postTopRow\":\"Post_postTopRow__1kHCt\",\"avatarContainer\":\"Post_avatarContainer__2NplO\",\"columnBlock\":\"Post_columnBlock__3ZiZ-\",\"profileName\":\"Post_profileName__1F4IB\",\"date\":\"Post_date__379de\",\"dotsSvgContainer\":\"Post_dotsSvgContainer__37mfo\",\"dotsSvgPopUp\":\"Post_dotsSvgPopUp__RclL5\",\"postBody\":\"Post_postBody__2FaRO\",\"postParagraph\":\"Post_postParagraph__17ICu\",\"image\":\"Post_image__wqDtC\",\"postBottomBtns\":\"Post_postBottomBtns__1s2H9\",\"btnSvg\":\"Post_btnSvg__2HhZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPost\":\"NewPostField_newPost__IC4oD\",\"avatarContainer\":\"NewPostField_avatarContainer__1ArPv\",\"textAreaContainer\":\"NewPostField_textAreaContainer__2i7SR\",\"textArea\":\"NewPostField_textArea__Ox7Yd\",\"fileDescrBlock\":\"NewPostField_fileDescrBlock__1T0Wt\",\"fileDescr\":\"NewPostField_fileDescr__Bfw4k\",\"crossSvg\":\"NewPostField_crossSvg__dGv2e\",\"btnContainer\":\"NewPostField_btnContainer__2Uf9q\",\"fileInput\":\"NewPostField_fileInput__1uMFH\",\"uploadAreaLabel\":\"NewPostField_uploadAreaLabel__3WELT\",\"fileSvg\":\"NewPostField_fileSvg__3FoQI\",\"uploadArea\":\"NewPostField_uploadArea__v020p\"};","import { IUser } from '../redux/users/types'\nimport { api } from './api'\n\n/* ------------- Types ------------- */\nexport interface GetUsersListApiResponse {\n  items: IUser[],\n  totalCount: number,\n  error: string | null\n}\n\nexport interface FollowUserApiResponse {\n  resultCode: 0 | 1,\n  messages: (string | void)[]\n  data: {}\n}\n\nexport interface UnFollowUserApiResponse {\n  resultCode: 0 | 1,\n  messages: (string | void)[]\n  data: {}\n}\n\n/* ------------- Api ------------- */\nexport const fetchUsersApi = (currentPage = 1, pageItemsCount = 10, term = '', friend: boolean) => \n  api.get<GetUsersListApiResponse>\n  (`users?page=${currentPage}&count=${pageItemsCount}&term=${term}${friend === true ? '&friend=true' : ''}`)\n\nexport const followUserApi = (id: number) => api.post<FollowUserApiResponse>(`follow/${id}`)\n\nexport const unfollowUserApi = (id: number) => api.delete<UnFollowUserApiResponse>(`follow/${id}`)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"ActiveChatPopUp_chatWindow__3r3GA\",\"active\":\"ActiveChatPopUp_active__3EAe7\",\"header\":\"ActiveChatPopUp_header__4H0eK\",\"currentChat\":\"ActiveChatPopUp_currentChat__22-1j\",\"avatarContainer\":\"ActiveChatPopUp_avatarContainer__3jpiC\",\"btnsRowContainer\":\"ActiveChatPopUp_btnsRowContainer__1BscW\",\"crossSvg\":\"ActiveChatPopUp_crossSvg__293sa\",\"fullScreenSvg\":\"ActiveChatPopUp_fullScreenSvg__1-Uqq\",\"footer\":\"ActiveChatPopUp_footer__3PV4g\",\"textArea\":\"ActiveChatPopUp_textArea__36mt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoBlockWrapper\":\"PhotoBlock_photoBlockWrapper__3NKUa\",\"photoBlock\":\"PhotoBlock_photoBlock__2XnqG\",\"photoContainer\":\"PhotoBlock_photoContainer__14e9u\",\"updatingPhotoBlock\":\"PhotoBlock_updatingPhotoBlock__-R9v-\",\"deletingPhotoBtn\":\"PhotoBlock_deletingPhotoBtn__184aN\",\"photo\":\"PhotoBlock_photo__2vKn4\",\"hover\":\"PhotoBlock_hover__1jWrh\",\"updatePhotoSvg\":\"PhotoBlock_updatePhotoSvg__3Otld\",\"btn\":\"PhotoBlock_btn__3wcn8\"};","export enum AuthConstants {\n  SET_CURRENT_USER_REQUEST = 'auth/SET_CURRENT_USER_REQUEST',\n  SET_CURRENT_USER_FAILURE = 'auth/SET_CURRENT_USER_FAILURE',\n  SET_CURRENT_USER_SUCCESS = 'auth/SET_CURRENT_USER_SUCCESS',\n\n  DELETE_CURRENT_USER = 'auth/DELETE_CURRENT_USER',\n}\n\nexport interface AuthenticatedUser {\n  id: number \n  login: string \n  email: string \n  photos?: {\n    small: string | null\n    large: string | null\n  }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"TabsRowBlock_tabs__3YfH3\",\"tabsRow\":\"TabsRowBlock_tabsRow__3CEtF\",\"tabItem\":\"TabsRowBlock_tabItem__22J-m\",\"active\":\"TabsRowBlock_active__1ZOoc\",\"totalCount\":\"TabsRowBlock_totalCount__2xL6z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupContainer\":\"UserPopup_popupContainer__13a_y\",\"popup\":\"UserPopup_popup__1Kbgf\",\"userInfoRow\":\"UserPopup_userInfoRow__1zjkw\",\"avatarContainer\":\"UserPopup_avatarContainer__A6K2r\",\"addInfoCol\":\"UserPopup_addInfoCol__1b2eN\",\"profileName\":\"UserPopup_profileName__1nMqF\",\"phoneNumber\":\"UserPopup_phoneNumber__dBp0g\",\"arrowSvgRight\":\"UserPopup_arrowSvgRight__rkTpg\"};","import Preloader from '../Preloader/Preloader'\nimport cl from './MyButton.module.scss'\n\ninterface MyButtonProps {\n  callBack: (arg1?: any, arg2?: any) => void\n  disabled?: boolean\n  className?: string\n  form?: string\n  children: React.ReactNode\n}\n\nconst MyButton: React.FC<MyButtonProps> = ({className, callBack, ...props }) => {\n  return (\n    <button {...props} className={`${cl.btn} ${className}`} onClick={callBack}>\n      {(props.disabled === true)  \n      ? (<Preloader width=\"100%\" height=\"100%\" position=\"absolute\" />) \n      : (props.children)}\n    </button>\n  )\n}\n\nexport default MyButton\n","export enum ChatConstants {\n  SET_MESSAGES = 'chat/SET_MESSAGES',\n  SET_STATUS = 'chat/SET_STATUS',\n  CLEAR_MESSAGES_STATE = 'chat/CLEAR_MESSAGES_STATE',\n}\n\nexport interface ChatMessageType {\n  message: string,\n  photo: string,\n  userId: number,\n  userName: string\n} \n\nexport type StatusType = 'pending' | 'ready' | 'error'","import { api } from './api'\n\n/* ------------- Types ------------- */\nexport interface SetUserRequiredBodyApi {\n  lookingForAJob?: boolean |  undefined\n  lookingForAJobDescription?: string |  undefined\n  fullName?: string |  undefined\n  aboutMe?: string |  undefined\n  contacts?: {\n    github?: string |  undefined\n    vk?: string |  undefined\n    facebook?: string |  undefined\n    instagram?: string |  undefined\n    twitter?: string |  undefined\n    website?: string |  undefined\n    youtube?: string |  undefined\n    mainLink?: string |  undefined\n  }\n}\n\nexport interface SetStatusApiResponse {\n  resultCode: 0 | 1,\n  messages: string[]\n  data: {}\n}\n\nexport interface GetUserProfileApiResponse {\n  userId: number\n  aboutMe: string\n  lookingForAJob: boolean\n  lookingForAJobDescription: string\n  fullName: string\n  contacts: {\n    facebook: string\n    github: string\n    instagram: string\n    mainLink: string\n    twitter: string\n    vk: string\n    website: string\n    youtube: string\n  }\n  photos: {\n    large: string\n    small: string\n  }\n}\n\nexport interface SetUserProfileApiResponse {\n  resultCode: 0 | 1,\n  messages: string[]\n  data: {}\n}\n\nexport interface SetProfilePhotoApiResponse {\n  data: {\n    photos?: {\n      large: string\n      small: string\n    }\n  }\n  fieldsError: []\n  messages: string[]\n  resultCode: 0 | 1\n}\n\n/* ------------- Api ------------- */\nexport const getStatusApi = (userId: number) =>\n  api.get<string>(`profile/status/${userId}`)\n\nexport const setStatusApi = (status: string) =>\n  api.put<SetStatusApiResponse>('profile/status', { status })\n\nexport const getUserProfileApi = (userId: number) => \n  api.get<GetUserProfileApiResponse>(`profile/${userId}`)\n\nexport const setUserProfileApi = (userData: SetUserRequiredBodyApi) =>\n  api.put<SetUserProfileApiResponse>('profile', {...userData})\n\nexport const setProfilePhotoApi = (file: File) => {\n  const formData = new FormData()\n  formData.append('image', file)\n  return api.put<SetProfilePhotoApiResponse>('profile/photo', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  })\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"FieldWithValidation_field__1hssF\",\"required\":\"FieldWithValidation_required__7x_-P\",\"tooltip\":\"FieldWithValidation_tooltip__1sjg_\",\"checkboxWrapper\":\"FieldWithValidation_checkboxWrapper__3bsTS\",\"checkboxContainer\":\"FieldWithValidation_checkboxContainer__MBfIm\",\"checkMark\":\"FieldWithValidation_checkMark__2IK1z\",\"checkbox\":\"FieldWithValidation_checkbox__3aK8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"FriendsBlock_friendsBlock__2CrNb\",\"header\":\"FriendsBlock_header__3zG-a\",\"amount\":\"FriendsBlock_amount__2JofO\",\"friendsGrid\":\"FriendsBlock_friendsGrid__3gbAE\",\"friend\":\"FriendsBlock_friend__3CeWq\",\"avatarContainer\":\"FriendsBlock_avatarContainer__3AHrA\",\"fullName\":\"FriendsBlock_fullName__1YkUG\"};","import { DialogType, MessageType } from '../redux/messenger/types'\nimport { api } from './api'\n\n/* ------------- Types ------------- */\nexport type FetchDialogsApiType = DialogType[]\nexport interface FetchDialogsApiResponse extends FetchDialogsApiType {}\n\nexport interface FetchMessagesApiResponse {\n  items: MessageType[],\n  error: string\n}\n\nexport interface SendMessageApiResponse {\n  data: {\n    message: MessageType\n  },\n  fieldsError: string[],\n  messages: string[],\n  resultCode: 0 | 1,\n}\n\nexport interface CreateDialogApiResponse {\n  fieldsError: string[],\n  messages: string[],\n  resultCode: 0 | 1,\n}\n\n/* ------------- Api ------------- */\nexport const fetchDialogsApi = () => api.get<FetchDialogsApiResponse>('dialogs')\n\nexport const fetchMessagesApi = (userId: number) => api.get<FetchMessagesApiResponse>(`dialogs/${userId}/messages?page=1&count=20`)\n\nexport const sendMessageApi = (userId: number, messageBody: string) => api.post<SendMessageApiResponse>(`dialogs/${userId}/messages`, {body: messageBody})\n\nexport const createDialogApi = (userId: number) => api.put<CreateDialogApiResponse>(`dialogs/${userId}`, {userId}) \n\n\n\n","import { DialogsConstants, DialogType, MessageType } from \"./types\"\n\n/* ------------- Types ------------- */\nexport interface FetchDialogsRequest extends ReturnType<typeof fetchDialogsRequest> {}\nexport interface FetchDialogsSuccess extends ReturnType<typeof fetchDialogsSuccess> {}\nexport interface FetchDialogsFailure extends ReturnType<typeof fetchDialogsFailure> {}\nexport interface FetchMessagesRequest extends ReturnType<typeof fetchMessagesRequest> {}\nexport interface FetchMessagesSuccess extends ReturnType<typeof fetchMessagesSuccess> {}\nexport interface FetchMessagesFailure extends ReturnType<typeof fetchMessagesFailure> {}\nexport interface SendMessageRequest extends ReturnType<typeof sendMessageRequest> {} \nexport interface SendMessageSuccess extends ReturnType<typeof sendMessageSuccess> {} \nexport interface SendMessageFailure extends ReturnType<typeof sendMessageFailure> {} \nexport interface CreateDialogRequest extends ReturnType<typeof createDialogRequest> {}\nexport interface CreateDialogSuccess extends ReturnType<typeof createDialogSuccess> {}\nexport interface CreateDialogFailure extends ReturnType<typeof createDialogFailure> {}\nexport interface ClearMessagesState extends ReturnType<typeof clearMessagesState> {}\n\nexport type DialogsAction =\n  | FetchDialogsRequest\n  | FetchDialogsSuccess\n  | FetchDialogsFailure\n  | FetchMessagesRequest\n  | FetchMessagesSuccess\n  | FetchMessagesFailure\n  | ClearMessagesState\n  | SendMessageRequest\n  | SendMessageSuccess\n  | SendMessageFailure\n  | CreateDialogRequest\n  | CreateDialogSuccess\n  | CreateDialogFailure\n\n/* ------------- Actions ------------- */\nexport const fetchDialogsRequest = () => {\n  return <const>{ type: DialogsConstants.FETCH_DIALOGS_REQUEST }\n}\n\nexport const fetchDialogsSuccess = (dialogs: DialogType[]) => {\n  return <const>{ type: DialogsConstants.FETCH_DIALOGS_SUCCESS, payload: dialogs }\n}\n\nexport const fetchDialogsFailure = (error: string) => {\n  return <const>{ type: DialogsConstants.FETCH_DIALOGS_FAILURE, payload: error }\n}\n\nexport const fetchMessagesRequest = (userId: number) => {\n  return <const>{ type: DialogsConstants.FETCH_MESSAGES_REQUEST, payload: userId }\n}\n\nexport const fetchMessagesSuccess = (payload: {id: number, messages: MessageType[]}) => {\n  return <const>{ type: DialogsConstants.FETCH_MESSAGES_SUCCESS, payload }\n}\n\nexport const fetchMessagesFailure = (payload: {error: string, userId: number}) => {\n  return <const>{ type: DialogsConstants.FETCH_MESSAGES_FAILURE, payload }\n}\n\nexport const clearMessagesState = () => {\n  return <const>{ type: DialogsConstants.CLEAR_MESSAGES_STATE }\n}\n\nexport const sendMessageRequest = () => {\n  return <const>{ type: DialogsConstants.SEND_MESSAGE_REQUEST }\n}\n\nexport const sendMessageSuccess = () => {\n  return <const>{ type: DialogsConstants.SEND_MESSAGE_SUCCESS }\n}\n\nexport const sendMessageFailure = (error: string) => {\n  return <const>{ type: DialogsConstants.SEND_MESSAGE_FAILURE, payload: error }\n}\n\nexport const createDialogRequest = () => {\n  return <const>{ type: DialogsConstants.CREATE_DIALOG_REQUEST }\n}\n\nexport const createDialogSuccess = () => {\n  return <const>{ type: DialogsConstants.CREATE_DIALOG_SUCCESS }\n}\n\nexport const createDialogFailure = (error: string) => {\n  return <const>{ type: DialogsConstants.CREATE_DIALOG_FAILURE, payload: error}\n}\n\n","import { createDialogApi, fetchDialogsApi, fetchMessagesApi, sendMessageApi } from \"../../api/messenger\";\nimport { AppDispatch } from \"../store\";\nimport { createDialogFailure, createDialogRequest, createDialogSuccess, fetchDialogsFailure, fetchDialogsRequest, fetchDialogsSuccess, fetchMessagesFailure, fetchMessagesRequest, fetchMessagesSuccess, sendMessageFailure, sendMessageRequest, sendMessageSuccess } from \"./actions\";\n\nexport const fetchDialogsThunk = () => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(fetchDialogsRequest())\n      const {data: dialogsData} = await fetchDialogsApi()\n      dispatch(fetchDialogsSuccess(dialogsData))\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchDialogsFailure('An error occurred during fetching dialogs'))\n    }\n  }\n}\n\nexport const fetchMessagesThunk = (userId: number) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(fetchMessagesRequest(userId))\n      const {data: response} = await fetchMessagesApi(userId)\n      if(!response.error) {\n        dispatch(fetchMessagesSuccess({id: userId ,messages: response.items}))\n      }else {\n        dispatch(fetchMessagesFailure({error: response.error, userId}))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchMessagesFailure({error: 'An error occurred during fetching messages', userId}))\n    }\n  }\n}\n\nexport const sendMessageThunk = (userId: number, messageBody: string) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(sendMessageRequest())\n      const {data: response} = await sendMessageApi(userId, messageBody)\n      if(response.resultCode === 0) {\n        dispatch(sendMessageSuccess())\n        dispatch<any>(fetchMessagesThunk(userId))\n      }else {\n        dispatch(sendMessageFailure(response.messages[0]))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(sendMessageFailure('An error occurred during sending the message'))\n    }\n  }\n}\n\nexport const createDialogThunk = (userId: number) => {\n  return async (dispatch: AppDispatch) => {\n    try{\n      createDialogRequest()\n      const { data: response } = await createDialogApi(userId)\n      if(response.resultCode === 0) {\n        createDialogSuccess()\n      }else if(response.resultCode === 1) {\n        createDialogFailure(response.messages[0])\n      }\n    }catch(e) {\n      console.log(e)\n      createDialogFailure('An error occurred during creating dialog')\n    }\n  }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"NavBar_aside__2tt-g\",\"nav\":\"NavBar_nav__2RS83\",\"link\":\"NavBar_link__3U1xr\",\"phoneNav\":\"NavBar_phoneNav__34961\"};","import { useEffect, useRef, useState } from 'react'\nimport cl from './ErrorPopUp.module.scss'\n\n/* ------------- Types ------------- */\ninterface ErrorPopUpProps {\n  titlesArray: Array<(string | null)>\n}\n\n/* ------------- Component ------------- */\nconst ErrorPopUp: React.FC<ErrorPopUpProps> = ({ titlesArray }) => (\n  <>\n    {titlesArray\n      .filter((e) => e !== null)\n      .map((title, index) => (\n        <Error key={index} title={title!} />\n      ))}\n  </>\n)\n\nexport default ErrorPopUp\n\n/* ------------- Nested Components ------------- */\nconst Error = ({ title }: {title: string }) => {\n  const errorRef = useRef<HTMLDivElement | null>(null)\n  const [isVisible, setIsVisible] = useState(true)\n  let animationDuration = useRef<number>()\n  \n  useEffect(() => {\n    if(errorRef.current) {\n      animationDuration.current = parseInt(window.getComputedStyle(errorRef.current).animationDuration) * 1000\n    }\n  }, [errorRef])\n\n  useEffect(() => {\n    setTimeout(() => {\n      setIsVisible(false)\n    }, animationDuration.current)\n  })\n\n  return (\n    <>{isVisible && <div ref={errorRef} className={cl.errorWrapper}>{title}</div>}</>\n  )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageColumn\":\"Message_messageColumn__1bpLY\",\"avatar\":\"Message_avatar__31S1Y\",\"name\":\"Message_name__OlM_m\",\"time\":\"Message_time__2b6Y4\",\"message\":\"Message_message__1wasT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"ChatListPopUp_chatWindow__Q7vPK\",\"header\":\"ChatListPopUp_header__2RWQ_\",\"list\":\"ChatListPopUp_list__yCHf5\",\"footer\":\"ChatListPopUp_footer__M93eJ\",\"searchInput\":\"ChatListPopUp_searchInput__1ZsVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"ExtraInfo_input__3yKEO\",\"textArea\":\"ExtraInfo_textArea__3SzQx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__3Nagb\",\"statusEmpty\":\"Status_statusEmpty__3xpOq\",\"ownProfile\":\"Status_ownProfile__12lKQ\",\"input\":\"Status_input__fC2dr\"};","export default \"data:image/jpeg;base64,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\"","import { Field } from \"react-final-form\"\nimport cl from './FieldWithValidation.module.scss'\n\n/* ------------- Types ------------- */\ninterface FieldWithValidationProps {\n  name: string\n  type: string\n  validators: any[]\n  Element: 'input' | 'textarea'\n  placeholder?: string\n  defaultValue?: string \n  className?: string\n}\n\n/* ------------- Component ------------- */\nexport const FieldWithValidation: React.FC<FieldWithValidationProps> = ({\n  name,\n  Element,\n  validators, \n  className,\n  defaultValue,\n  ...props \n}) => {\n  const composeValidators = ([...validators]: any[]) => (value: any) => \n    validators.reduce((error, validator) => error || validator(value), undefined)\n\n  return (\n    <Field\n      {...props}\n      name={name}\n      initialValue={defaultValue}\n      validate={composeValidators(validators)}\n      render={({ input, meta }) => {\n        const error = meta.touched && meta.error && !meta.active\n\n        const ErrorComponent = error && (\n          <div className={cl.tooltip}>\n            <p>{meta.error}</p>\n            <div></div>\n          </div>\n        )\n\n        const CheckBoxComponent = (\n          <div className={cl.checkboxWrapper}>\n            <label className={cl.checkboxContainer}>\n              <Element {...input} {...props} className={`cl.checkbox ${error && cl.required}`} />\n              <span className={cl.checkMark}></span>\n            </label>\n          </div>\n        )\n\n        const InputComponent = (\n          <Element {...input} {...props} className={`${className} ${error && cl.required}`} />\n        )\n\n        return (\n          <div className={cl.field}>\n            {props.type === 'checkbox' ? (CheckBoxComponent) : (InputComponent)}\n            {ErrorComponent}\n          </div>\n        )\n      }}\n    />\n  )\n}\n","import { AuthConstants, AuthenticatedUser } from './types'\n\n/* ------------- Types ------------- */\nexport interface SetCurrentUserRequest extends ReturnType<typeof setCurrentUserRequest> {}\nexport interface SetCurrentUserSuccess extends ReturnType<typeof setCurrentUserSuccess> {}\nexport interface SetCurrentUserFailure extends ReturnType<typeof setCurrentUserFailure> {}\nexport interface DeleteCurrentUser extends ReturnType<typeof deleteCurrentUser> {}\n\nexport type AuthAction =\n  | SetCurrentUserRequest\n  | SetCurrentUserSuccess\n  | SetCurrentUserFailure\n  | DeleteCurrentUser\n\n/* ------------- Actions ------------- */\nexport const setCurrentUserRequest = () => {\n  return <const>{ type: AuthConstants.SET_CURRENT_USER_REQUEST }\n}\n\nexport const setCurrentUserSuccess = (currentUserData: AuthenticatedUser) => {\n  return <const>{ type: AuthConstants.SET_CURRENT_USER_SUCCESS, payload: currentUserData }\n}\n\nexport const setCurrentUserFailure = (error: string) => {\n  return <const>{ type: AuthConstants.SET_CURRENT_USER_FAILURE, payload: error }\n}\n\nexport const deleteCurrentUser = () => {\n  return <const>{ type: AuthConstants.DELETE_CURRENT_USER }\n}","import { AppDispatch } from \"../store\"\nimport { createAuthenticatedSessionApi, deleteAuthenticatedSessionApi, getAuthorizedUserApi } from '../../api/auth'\nimport { deleteCurrentUser, setCurrentUserFailure, setCurrentUserRequest, setCurrentUserSuccess } from \"./actions\"\nimport { FORM_ERROR } from \"final-form\"\nimport { getUserProfileApi } from \"../../api/profile\"\nimport { LoginFormCallBackType, LoginFormValuesType } from \"../../pages/LoginPage/LoginPage\"\n\nexport const getAuthorizedUserThunk = () => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(setCurrentUserRequest())\n      const { data: response } = await getAuthorizedUserApi()\n      if (response.resultCode === 0) {\n        const {data: { photos }} = await getUserProfileApi(response.data.id)\n        response.data.photos = {...photos}\n        dispatch(setCurrentUserSuccess(response.data))\n      }else if(response.resultCode === 1) {\n        dispatch(setCurrentUserFailure(response.messages[0]))\n      }\n    } catch (e) {\n      console.log(e)\n      dispatch(setCurrentUserFailure('An error occurred during getting authorized user'))\n    }\n  }\n}\n\nexport const createAuthenticatedSessionThunk = (values: LoginFormValuesType, errorCallBack: LoginFormCallBackType) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      const {data: response} = await createAuthenticatedSessionApi(values)\n      if(response.resultCode === 0) {\n        dispatch<any>(getAuthorizedUserThunk())\n      }else if(response.resultCode === 1) {\n        const error = response.messages.join(' ')\n        errorCallBack!({[FORM_ERROR]: error})\n      }\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}\n\nexport const deleteAuthenticatedSessionThunk = () => {\n  return async (dispatch: AppDispatch) => {\n    try{\n      const {data: response} = await deleteAuthenticatedSessionApi()\n      response.resultCode === 0 && dispatch(deleteCurrentUser())\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}","import { api } from './api'\n\n/* ------------- Types ------------- */\ninterface GetAuthorizedUserApiResponse {\n  resultCode: 0 | 1\n  messages: string[] | []\n  fieldsError: string[] | []\n  data: {\n    id: number\n    email: string\n    login: string\n    photos?: {\n      small: string,\n      large: string\n    }\n  }\n}\n\ninterface CreateAuthenticatedSessionApiResponse {\n  resultCode: 0 | 1,\n  messages: (string | void)[],\n  data: {\n    userId: number\n  }\n}\n\ninterface DeleteAuthenticatedSessionApiResponse {\n  resultCode: 0 | 1,\n  messages: (string | void)[],\n  data: {}\n}\n\ninterface CreateAuthenticatedSessionApiParams {\n  email: string\n  password: string\n}\n\n/* ------------- Api ------------- */\nexport const getAuthorizedUserApi = () =>\n  api.get<GetAuthorizedUserApiResponse>('auth/me')\n\nexport const createAuthenticatedSessionApi = (authData: CreateAuthenticatedSessionApiParams) => \n  api.post<CreateAuthenticatedSessionApiResponse>('auth/login', authData)\n\nexport const deleteAuthenticatedSessionApi = () =>\n  api.delete<DeleteAuthenticatedSessionApiResponse>('/auth/login')\n","import { ChatMessageType, StatusType } from \"../redux/chat/types\"\nimport { MessageType } from \"../redux/messenger/types\"\nimport { v4 as uuidv4 } from 'uuid';\n\n/* ------------- Types ------------- */\ntype MessagesReceivedSubscriberType = (messages: MessageType[]) => void\ntype StatusChangedSubscriberType = (status: StatusType) => void\ntype EventsNamesType = 'messages-received' | 'status-changed'\n\n/* ------------- Api ------------- */\nlet ws: WebSocket | null = null\nlet subscribers = {\n  'messages-received': [] as MessagesReceivedSubscriberType[],\n  'status-changed': [] as StatusChangedSubscriberType[]\n}\n\nconst notifySubscribersAboutStatus = (status: StatusType) => {\n  subscribers['status-changed'].forEach(subscriber => subscriber(status))\n}\n\nconst cleanUpListeners = () => {\n  ws?.removeEventListener('close', handleCloseWebSocket)\n  ws?.removeEventListener('message', handleReceivingMessages)\n  ws?.removeEventListener('open', handleOpenWebSocket)\n  ws?.removeEventListener('error', handleWebSocketError)\n}\n\nconst handleCloseWebSocket = () => {\n  notifySubscribersAboutStatus('pending')\n  setTimeout(() => createWebSocket(), 3000)\n}\n\nconst handleOpenWebSocket = () => {\n  notifySubscribersAboutStatus('ready')\n}\n\nconst handleWebSocketError = () => {\n  notifySubscribersAboutStatus('error')\n  console.log('REFRESH PAGE')\n}\n\nconst handleReceivingMessages = (e: {data: string}) => {\n  const newMessages: ChatMessageType[] = JSON.parse(e.data)\n  const convertedMessages: MessageType[] = newMessages.map((message, i) => {\n    return {\n      id: `${uuidv4()}`,\n      body: message.message,\n      senderName: message.userName,\n      senderId: message.userId,\n      addedAt: \"2022-05-20T23:06:26.437\",\n      photo: message.photo\n    }\n  })\n  subscribers[\"messages-received\"].forEach(subscriber => subscriber(convertedMessages))\n}\n\nexport const createWebSocket = () => {\n  cleanUpListeners()\n  ws?.close()\n  ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\n  notifySubscribersAboutStatus('pending')\n  ws.addEventListener('open', handleOpenWebSocket)\n  ws.addEventListener('close', handleCloseWebSocket)\n  ws.addEventListener('error', handleWebSocketError)\n  ws.addEventListener('message', handleReceivingMessages)\n}\n\nexport const subscribeOnEvent = (eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) => {\n  //@ts-ignore\n  subscribers[eventName].push(callback)\n}\n\nexport const unsubscribeOnEvent = (eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) => {\n  //@ts-ignore\n  subscribers[eventName] = subscribers[eventName].filter(subscriber => subscriber !== callback)\n} \n\nexport const sendMessage = (message: string) => ws?.send(message)","import { subscribeOnEvent, unsubscribeOnEvent, sendMessage, createWebSocket } from \"../../api/chat\"\nimport { MessageType } from \"../messenger/types\"\nimport { AppDispatch } from \"../store\"\nimport { clearMessagesState, setMessages, setStatus } from \"./actions\"\nimport { StatusType } from \"./types\"\n\nlet _newMessageHandler: ((messages: MessageType[]) => void) | null = null\nconst newMessageHandlerCreator = (dispatch: AppDispatch) => {\n  if(_newMessageHandler === null) {\n    _newMessageHandler = (messages: MessageType[]) => {\n      dispatch(setMessages(messages))\n    }\n  }\n  return _newMessageHandler\n}\n\nlet _statusChangedHandler: ((status: StatusType) => void ) | null = null\nconst statusChangedHandlerCreator = (dispatch: AppDispatch) => {\n  if(_statusChangedHandler === null) {\n    _statusChangedHandler = (status: StatusType) => {\n      dispatch(setStatus(status))\n    }\n  }\n  return _statusChangedHandler\n}\n\nexport const startMessagesListeningThunk = () => {\n  console.log('create')\n  createWebSocket()\n  return async ( dispatch: AppDispatch ) => {\n    dispatch(clearMessagesState())\n    subscribeOnEvent('messages-received', newMessageHandlerCreator(dispatch))\n    subscribeOnEvent('status-changed', statusChangedHandlerCreator(dispatch))\n  }\n}\n\nexport const stopMessagesListeningThunk = () => {\n  return async ( dispatch: AppDispatch ) => {\n    unsubscribeOnEvent('messages-received', newMessageHandlerCreator(dispatch))\n    unsubscribeOnEvent('status-changed', statusChangedHandlerCreator(dispatch))\n  }\n}\n\nexport const sendChatMessageThunk = (message: string) => {\n  return async( dispatch: AppDispatch ) => {\n    sendMessage(message)\n  }\n}","import { MessageType } from \"../messenger/types\";\nimport { ChatConstants, StatusType } from \"./types\";\n\n/* ------------- Types ------------- */\nexport interface SetMessages extends ReturnType<typeof setMessages> {}\nexport interface SetStatus extends ReturnType<typeof setStatus> {}\nexport interface ClearMessagesState extends ReturnType<typeof clearMessagesState> {}\n\nexport type ChatAction = \n  | SetMessages\n  | SetStatus\n  | ClearMessagesState\n\n/* ------------- Actions ------------- */\nexport const setMessages = (messages: MessageType[]) => {\n  return <const>{ type: ChatConstants.SET_MESSAGES , payload: messages }\n}\n\nexport const setStatus = (status: StatusType) => {\n  return <const>{ type: ChatConstants.SET_STATUS, payload: status }\n}\n\nexport const clearMessagesState = () => {\n  return <const>{ type: ChatConstants.CLEAR_MESSAGES_STATE }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"withDragging_active__2yAyg\",\"draggableBlock\":\"withDragging_draggableBlock__3kXy5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyChatPlaceholder\":\"EmptyChatPlaceholder_emptyChatPlaceholder__1aE1o\",\"svg\":\"EmptyChatPlaceholder_svg__2LfbC\",\"tip\":\"EmptyChatPlaceholder_tip__3iWah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ChatListPopUpItem_listItem__g6MMP\",\"avatarContainer\":\"ChatListPopUpItem_avatarContainer__2AOfA\",\"dialogName\":\"ChatListPopUpItem_dialogName__2ioWp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"logoContainer\":\"Header_logoContainer__32KA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentUser\":\"AuthenticatedUserButton_currentUser__2mB8I\",\"avatarContainer\":\"AuthenticatedUserButton_avatarContainer__1KVBG\",\"arrowSvgBottom\":\"AuthenticatedUserButton_arrowSvgBottom__1-q5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counterBlock\":\"CounterBlock_counterBlock__3wx4D\",\"counterName\":\"CounterBlock_counterName__2_hfj\",\"counter\":\"CounterBlock_counter__1Ph-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dividerBlock\":\"Divider_dividerBlock__SoCnq\",\"divider\":\"Divider_divider__2k9Qf\",\"dividerName\":\"Divider_dividerName__1ccXK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoRow\":\"InfoRow_infoRow__1A4J5\",\"leftColumn\":\"InfoRow_leftColumn__3ypbs\",\"rightColumn\":\"InfoRow_rightColumn__33_cJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoBlock\":\"InfoBlock_infoBlock__hfDu4\",\"showInfoBtn\":\"InfoBlock_showInfoBtn__s3ytz\",\"checkbox\":\"InfoBlock_checkbox__3eHTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"MainInfo_name__gUJ-T\",\"inputName\":\"MainInfo_inputName__31zFx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfilePage_profile__2dhDj\",\"leftCol\":\"ProfilePage_leftCol__ozLg1\",\"rightCol\":\"ProfilePage_rightCol__1urJo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"MessagesList_messages__19l5Y\",\"preloaderContainer\":\"MessagesList_preloaderContainer__34fju\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"LogoApp_logo__17470\",\"svg\":\"LogoApp_svg__1pYLP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"svg\":\"NavItemSvg_svg__3Hjfm\",\"menuItem\":\"NavItemSvg_menuItem__YfWAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"Root_appWrapper__2PE_8\",\"mainContent\":\"Root_mainContent___-gXv\"};","import { connect, ConnectedProps } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { RootState } from '../../redux/store'\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    isAuth: state.auth.user?.login\n  }\n}\n\nconst withAuthenticatedRedirect = (Component: any) => {\n  const withAuthenticatedRedirectComponent = (props: PropsFromRedux) =>  {\n    if(!props.isAuth) {\n      return <Navigate to='/login'/>\n    }\n    return <Component {...props} />\n  }\n\n  const connector = connect(mapStateToProps)\n  type PropsFromRedux = ConnectedProps<typeof connector>\n  const ConnectedAuthenticatedRedirectComponent = connector(withAuthenticatedRedirectComponent)\n\n  return ConnectedAuthenticatedRedirectComponent\n}\n\nexport default withAuthenticatedRedirect\n\n\n","import { useMatch, useNavigate, useLocation, useParams } from 'react-router-dom';\n\nexport const withRoute = (Component: any) => {\n  return (props: any) => {\n    let match = useMatch(':userId')\n    let navigate = useNavigate()\n    let location = useLocation()\n    let params = useParams()\n    return <Component {...props} route={{ match, navigate, location, params }} />\n  }\n}\n\nexport type RouteType = {\n  route: {\n    match: boolean\n    location: {\n      hash: string\n      key: string\n      pathname: string\n      search: string\n    }\n    navigate: (link: string) => void\n    params: { userId: string }\n  }\n} ","import { fetchUsersApi, followUserApi, unfollowUserApi } from \"../../api/users\"\nimport { AppDispatch, RootState } from \"../store\"\nimport { fetchFriendsSuccess, fetchPeopleSuccess, fetchSearchedFriendsSuccess, fetchSearchedPeopleSuccess, fetchUsersFailure, fetchUsersRequest, setFriendsPage, setFriendsTotalCount, setPeoplePage, setPeopleTotalCount, setSearchedFriendsPage, setSearchedFriendsTotalCount, setSearchedPeoplePage, setSearchedPeopleTotalCount, toggleFollowOnUserFailure, toggleFollowOnUserRequest, toggleFollowOnUserSuccess } from \"./actions\"\n\nexport const fetchPeopleThunk = (maxPageItemsCount: number, term: string, friend: boolean) => {\n  return async (dispatch: AppDispatch, getState: () => RootState) => {\n    const { users: { people: { currentPage, items } } } = getState().users\n    try {\n      dispatch(fetchUsersRequest())\n      const { data: response } = await fetchUsersApi(currentPage, maxPageItemsCount, term, friend)\n      if(response.error) {\n        dispatch(fetchUsersFailure(response.error))\n        throw new Error(response.error);\n      }\n      dispatch(setPeopleTotalCount(response.totalCount))\n      dispatch(fetchPeopleSuccess(response.items))\n      if(items.length < response.totalCount) {\n        dispatch(setPeoplePage(currentPage + 1))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchUsersFailure('An error occurred during fetching people'))\n    }\n  }\n}\n\nexport const fetchFriendsThunk = (maxPageItemsCount: number, term: string, friend: boolean) => {\n  return async (dispatch: AppDispatch, getState: () => RootState) => {\n    const { users: { friends: { currentPage, items } } } = getState().users\n    try {\n      dispatch(fetchUsersRequest())\n      const { data: response } = await fetchUsersApi(currentPage, maxPageItemsCount, term, friend)\n      if(response.error) {\n        dispatch(fetchUsersFailure(response.error))\n        throw new Error(response.error);\n      }\n      dispatch(setFriendsTotalCount(response.totalCount))\n      dispatch(fetchFriendsSuccess(response.items))\n      if(items.length < response.totalCount) {\n        dispatch(setFriendsPage(currentPage + 1))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchUsersFailure('An error occurred during fetching friends'))\n    }\n  }\n}\n\nexport const fetchSearchedPeopleThunk = (maxPageItemsCount: number, term: string, friend: boolean) => {\n  return async (dispatch: AppDispatch, getState: () => RootState) => {\n    const { searchedUsers: { people: { currentPage, items } } } = getState().users\n    try {\n      dispatch(fetchUsersRequest())\n      const { data: response } = await fetchUsersApi(currentPage, maxPageItemsCount, term, friend)\n      if(response.error) {\n        dispatch(fetchUsersFailure(response.error))\n        throw new Error(response.error);\n      }\n      dispatch(setSearchedPeopleTotalCount(response.totalCount))\n      dispatch(fetchSearchedPeopleSuccess(response.items))\n      if(items.length < response.totalCount) {\n        dispatch(setSearchedPeoplePage(currentPage + 1))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchUsersFailure('An error occurred during fetching people'))\n    }\n  }\n}\n\nexport const fetchSearchedFriendsThunk = (maxPageItemsCount: number, term: string, friend: boolean) => {\n  return async (dispatch: AppDispatch, getState: () => RootState) => {\n    const { searchedUsers: { friends: { currentPage, items } } } = getState().users\n    try {\n      dispatch(fetchUsersRequest())\n      const { data: response } = await fetchUsersApi(currentPage, maxPageItemsCount, term, friend)\n      if(response.error) {\n        dispatch(fetchUsersFailure(response.error))\n        throw new Error(response.error);\n      }\n      dispatch(setSearchedFriendsTotalCount(response.totalCount))\n      dispatch(fetchSearchedFriendsSuccess(response.items))\n      if(items.length < response.totalCount) {\n        dispatch(setSearchedFriendsPage(currentPage + 1))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(fetchUsersFailure('An error occurred during fetching friends'))\n    }\n  }\n}\n\nexport const toggleFollowOnUserThunk = (userId: number, followed: boolean) => {\n  return async ( dispatch: AppDispatch ) => {\n    try{\n      dispatch(toggleFollowOnUserRequest(userId))\n      const apiMethod = followed ? unfollowUserApi : followUserApi\n      const { data: response} = await apiMethod(userId)\n      if(response.resultCode === 0) {\n        dispatch(toggleFollowOnUserSuccess(userId))\n      }else if(response.resultCode === 1) {\n        dispatch(toggleFollowOnUserFailure({error: response.messages[0]!, id: userId}))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(toggleFollowOnUserFailure({error: 'An error occurred during follow/unfollow on user', id: userId}))\n    }\n  }\n}\n\n\n\n","import { NavLink, useLocation } from 'react-router-dom'\nimport { isActiveNavLink } from '../../helpers/helpers'\nimport MyButton from '../common/MyButton/MyButton'\nimport cl from './TabsRowBlock.module.scss'\n\n/* ------------- Types ------------- */\ninterface TabsRowBlockProps {\n  firstTab: [name: string, path: string]\n  secondTab: [name: string, path: string]\n  totalCount?: number\n  button?: [callback: () => void, name: string]\n}\n\n/* ------------- Component ------------- */\nconst TabsRowBlock: React.FC<TabsRowBlockProps> = ({ \n  firstTab,\n  secondTab,\n  totalCount,\n  button,\n}) => {\n  const location = useLocation()\n  const isFirstTab = location.pathname === firstTab[1]\n\n  const ButtonComponent = button && (\n    <div className={cl.buttonContainer}>\n      <MyButton callBack={button[0]}>{button[1]}</MyButton>\n    </div>\n  )\n\n  return (\n    <div className={cl.tabs}>\n      <div className={cl.tabsRow}>\n        <NavLink to={firstTab[1]} end className={isActiveNavLink(cl.tabItem, cl.active)} >\n          <span>{firstTab[0] + ' '}</span>\n          {isFirstTab && <span className={cl.totalCount}>{totalCount}</span>}\n        </NavLink>\n        <NavLink to={secondTab[1]} end className={isActiveNavLink(cl.tabItem, cl.active)} >\n          <span>{secondTab[0] + ' '}</span>\n          {!isFirstTab && <span className={cl.totalCount}>{totalCount}</span>}\n        </NavLink>\n      </div>\n      {ButtonComponent}\n    </div>\n  )\n}\n\nexport default TabsRowBlock","import { ChatSvg } from '../../helpers/icons/icons';\nimport cl from './EmptyChatPlaceholder.module.scss';\n\n/* ------------- Types ------------- */\ninterface EmptyChatPlaceholderProps {\n  messagesLength: number | null\n  isDialogSelected: boolean | undefined\n}\n\n/* ------------- Component ------------- */\nconst EmptyChatPlaceholder: React.FC<EmptyChatPlaceholderProps> = ({\n  messagesLength,\n  isDialogSelected\n}) => {\n  const tip = isDialogSelected === false ? 'Select a chat' : 'You can write your first message'\n\n  return (\n    <>\n      {(messagesLength === 0 || isDialogSelected === false) && (\n        <div className={cl.emptyChatPlaceholder}>\n          <ChatSvg className={cl.svg} />\n          <span className={cl.tip}>{tip}</span>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default EmptyChatPlaceholder","import { useState } from 'react'\nimport { Outlet } from 'react-router-dom'\nimport { StatusType } from '../../../redux/chat/types'\nimport { DialogType, MessageType } from '../../../redux/messenger/types'\nimport EmptyChatPlaceholder from '../../EmptyChatPlaceholder/EmptyChatPlaceholder'\nimport MessagesList from '../MessagesList/MessagesList'\nimport cl from './MessagesWrapper.module.scss'\n\n/* ------------- Types ------------- */\ninterface MessengerWrapperProps {\n  pathName?: string\n  isDialogSelected?: boolean\n  authProfilePhoto: string\n  currentDialog: DialogType\n  messages: MessageType[]\n  authProfileId: number\n  fetchMessagesPending: number[]\n  fetchChatMessagesStatus: StatusType\n}\n\n/* ------------- Component ------------- */\nexport const MessagesWrapper: React.FC<MessengerWrapperProps> = ({\n  pathName,\n  authProfileId,\n  authProfilePhoto,\n  isDialogSelected,\n  currentDialog,\n  messages,\n  fetchChatMessagesStatus,\n  fetchMessagesPending,\n}) => {\n  const [isAutoScroll, setIsAutoScroll] = useState(true)\n  const messagesLength = messages!.length\n  const currentDialogId = (currentDialog && currentDialog.id) || null\n\n  const handleScroll = (e: React.UIEvent<HTMLElement>) => {\n    const scrollHeight = e.currentTarget.scrollHeight\n    const scrollTop = e.currentTarget.scrollTop + e.currentTarget.clientHeight\n    const difference = scrollHeight - scrollTop\n    ;difference > 500 ? (isAutoScroll && setIsAutoScroll(false)) : (!isAutoScroll && setIsAutoScroll(true))\n  }\n\n  return (\n    <div className={cl.messagesWrapper} onScroll={handleScroll}>\n      {fetchMessagesPending.every(id => id !== currentDialogId) && (\n        <EmptyChatPlaceholder\n          isDialogSelected={isDialogSelected}\n          messagesLength={messagesLength}\n        />\n      )}\n      {pathName ? (\n        <Outlet //MessagesList\n          context={{\n            currentDialog,\n            authProfileId,\n            authProfilePhoto,\n            isAutoScroll,\n            messages,\n            fetchMessagesPending,\n            fetchChatMessagesStatus, \n          }}\n        />\n      ) : (\n        <MessagesList\n          currentDialog={currentDialog}\n          authProfileId={authProfileId}\n          authProfilePhoto={authProfilePhoto}\n          isAutoScroll={isAutoScroll}\n          messages={messages}\n          fetchMessagesPending={fetchMessagesPending}\n          fetchChatMessagesStatus={fetchChatMessagesStatus} \n        />\n      )}\n    </div>\n  )\n}\n\nexport default MessagesWrapper\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatListBtn\":\"ChatWindow_chatListBtn__1Mh68\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Avatar_img__9sg0P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesWrapper\":\"MessagesWrapper_messagesWrapper__2Uvh6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrapper\":\"ErrorPopUp_errorWrapper__2C2vV\",\"disappearance\":\"ErrorPopUp_disappearance__rl6F0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"countersRow\":\"CountersRow_countersRow__2_PS0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MyButton_btn__1DnwI\"};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../../Avatar/Avatar\";\nimport cl from \"./Message.module.scss\";\n\n/* ------------- Types ------------- */\ninterface MessageProps {\n  message: string\n  photo: string | null | undefined\n  name: string\n  time: string\n  userId: number\n}\n\n/* ------------- Component ------------- */\nexport const Message: React.FC<MessageProps> = React.memo(({\n  message,\n  name,\n  photo,\n  time,\n  userId\n}) => {\n  const messageParse = (message: string) => (\n    message.split('<br />').map((item, index) => <p key={index} className={cl.message}>{item}</p>)\n  )\n\n  return (\n    <li className={cl.messageColumn}>\n      <div className={cl.avatar}><Avatar userId={userId} photo={photo} /></div>\n      <div>\n        <div>\n          <Link to={`/profile/${userId}`} className={cl.name}>{name}</Link>\n          <time className={cl.time}>{time}</time>\n        </div>\n        {messageParse(message)}\n      </div>\n    </li>\n  );\n})\n","import { useEffect, useRef } from \"react\"\nimport { useOutletContext } from \"react-router-dom\"\nimport { convertDateFormat } from \"../../../helpers/helpers\"\nimport { StatusType } from \"../../../redux/chat/types\"\nimport { DialogType, MessageType } from \"../../../redux/messenger/types\"\nimport Preloader from \"../../common/Preloader/Preloader\"\nimport { Message } from \"./Message/Message\"\nimport cl from './MessagesList.module.scss'\n\n/* ------------- Types ------------- */\ninterface MessagesListOutlet {\n  authProfileId: number\n  authProfilePhoto: string\n  currentDialog: DialogType\n  messages: MessageType[]\n  isAutoScroll: boolean\n  fetchMessagesPending: number[] \n  fetchChatMessagesStatus: StatusType\n}\n\ninterface MessagesListProps extends MessagesListOutlet {}\n\n/* ------------- Component ------------- */\nconst MessagesList: React.FC<MessagesListProps | null> = (props) => {\n  const messagesAnchorRef = useRef<HTMLDivElement | null>(null)\n  const outlet = useOutletContext<MessagesListOutlet>() //from MessagesBlock\n  \n  const authProfileId = outlet ? outlet.authProfileId : props?.authProfileId\n  const authProfilePhoto = outlet ? outlet.authProfilePhoto : props?.authProfilePhoto\n  const fetchMessagesPending = outlet ? outlet.fetchMessagesPending : props?.fetchMessagesPending\n  const fetchChatMessagesStatus = outlet ? outlet.fetchChatMessagesStatus : props?.fetchChatMessagesStatus\n  const messages = outlet ? outlet.messages : props?.messages\n  const isAutoScroll = outlet ? outlet.isAutoScroll : props?.isAutoScroll\n  const currentDialog = outlet ? outlet.currentDialog : props?.currentDialog\n  const currentDialogId = (currentDialog && currentDialog.id) || null\n  const fetchMessages = (fetchMessagesPending?.some((id) => id === currentDialogId)) || fetchChatMessagesStatus === 'pending'\n\n  useEffect(() => {\n    if(isAutoScroll) {\n      messagesAnchorRef.current?.scrollIntoView({behavior: 'smooth'})\n    }\n  }, [messages, isAutoScroll])\n\n  const MessagesList = messages?.map((message) => {\n    const photo = message.photo || (message.senderId === authProfileId? authProfilePhoto : currentDialog?.photos.small)\n    return (\n      <Message\n        userId={message.senderId}\n        photo={photo}\n        name={message.senderName}\n        key={message.id}\n        message={message.body}\n        time={convertDateFormat(message.addedAt, true)}\n      />\n    )\n  })\n\n  return (\n    <>\n      <ul className={cl.messages}>\n        {fetchMessages ? (\n          <div className={cl.preloaderContainer}>\n            <Preloader height=\"65px\" width=\"65px\" position=\"absolute\" />\n          </div>\n        ) : (\n          MessagesList\n        )}\n      </ul>\n      <div ref={messagesAnchorRef}></div>\n    </>\n  )\n}\n\nexport default MessagesList\n\n","export enum PostsConstants {\n  FETCH_POSTS_REQUEST = 'posts/FETCH_POSTS_REQUEST',\n  FETCH_POSTS_SUCCESS = 'posts/FETCH_POSTS_SUCCESS',\n  FETCH_POSTS_FAILURE = 'posts/FETCH_POSTS_FAILURE',\n  \n  ADD_POST_REQUEST = 'posts/ADD_POST_REQUEST',\n  ADD_POST_SUCCESS = 'posts/ADD_POST_SUCCESS',\n  ADD_POST_FAILURE = 'posts/ADD_POST_FAILURE',\n\n  SET_POST_REQUEST = 'posts/SET_POST_REQUEST',\n  SET_POST_SUCCESS = 'posts/SET_POST_SUCCESS',\n  SET_POST_FAILURE = 'posts/SET_POST_FAILURE',\n\n  DELETE_POST_REQUEST = 'posts/DELETE_POST_REQUEST',\n  DELETE_POST_SUCCESS = 'posts/DELETE_POST_SUCCESS',\n  DELETE_POST_FAILURE = 'posts/DELETE_POST_FAILURE',\n}\n\nexport type PostsType = PostType[]\n\nexport type PostType = {\n  id: string,\n  body: string,\n  image: string | null,\n  likes: number\n  createdTime: string\n}","import React, { useEffect, useRef } from \"react\"\nimport { DialogType } from \"../../../redux/messenger/types\"\nimport cl from './withDragging.module.scss';\n\n/* ------------- Types ------------- */\ninterface WithDraggingProps {\n  children: React.ReactNode\n  isVisible: boolean\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>\n  openedDialog?: DialogType\n  setOpenedDialogs?:  React.Dispatch<React.SetStateAction<DialogType[]>>\n}\n\n/* ------------- Component ------------- */\nexport const WithDragging: React.FC<WithDraggingProps> = ({\n  children,\n  isVisible,\n  setIsVisible,\n  openedDialog,\n  setOpenedDialogs\n}) => {\n  let draggableBlock = useRef<HTMLDivElement | null>(null)\n  \n  const changeActiveDraggingBlock = (newActiveBlock: HTMLDivElement | null) => {\n    let prevActiveBlock = document.querySelector<HTMLDivElement>(`[data-dragging]`)\n    if(prevActiveBlock) {\n      prevActiveBlock.style.zIndex = '10'\n      prevActiveBlock.removeAttribute('data-dragging')\n    }\n    if(newActiveBlock) {\n      newActiveBlock.style.zIndex = '11'\n      newActiveBlock.setAttribute('data-dragging', 'dragging')\n    }\n  }\n\n  useEffect(() => {\n    changeActiveDraggingBlock(draggableBlock.current)\n\n    const { height: bodyHeight, width: bodyWidth } = window.visualViewport\n    const windowHeight = draggableBlock.current?.offsetHeight\n    const windowWidth = draggableBlock.current?.offsetWidth\n  \n    const handleResizeScreen = () => {\n      setIsVisible(false)\n      if(setOpenedDialogs && openedDialog) {\n        setOpenedDialogs(prev => prev.filter(dialog => dialog.id !== openedDialog.id))\n      }\n    }\n  \n    const handleMouseMove = (e: MouseEvent) => {\n      let getStyle = window.getComputedStyle(draggableBlock.current!)\n      let right = parseInt(getStyle.right)\n      let bottom = parseInt(getStyle.bottom)\n  \n      if ((right > 0 || e.movementX < 0) && (right + windowWidth! < bodyWidth || e.movementX > 0)) {\n        draggableBlock.current!.style.right = `${right - e.movementX}px`\n      }\n      if ((bottom > 0 || e.movementY < 0) && (bottom + windowHeight! < bodyHeight || e.movementY > 0)) {\n        draggableBlock.current!.style.bottom = `${bottom - e.movementY}px`\n      }\n  \n      if (right < 11 && e.movementX > 0) {\n        draggableBlock.current!.style.right = `0px`\n      }\n      if (bodyWidth - (right + windowWidth!) < 11 && e.movementX < 0) {\n        draggableBlock.current!.style.right = `${bodyWidth - windowWidth!}px`\n      }\n      if (bottom < 11 && e.movementY > 0) {\n        draggableBlock.current!.style.bottom = `0px`\n      }\n      if (bodyHeight - (bottom + windowHeight!) < 11 && e.movementY < 0) {\n        draggableBlock.current!.style.bottom = `${bodyHeight - windowHeight!}px`\n      }\n    }\n  \n    const handleMouseDown = () => {\n      changeActiveDraggingBlock(draggableBlock.current)\n      document.addEventListener('mouseup', handleMouseUp)\n      draggableBlock.current!.classList.add(cl.active)\n      window.addEventListener('mousemove', handleMouseMove)\n    }\n  \n    const handleMouseUp = () => {\n      draggableBlock.current?.classList.remove(cl.active)\n      window.removeEventListener('mousemove', handleMouseMove)\n      document.removeEventListener('mouseup', handleMouseUp)\n    }\n  \n    window.addEventListener('resize', handleResizeScreen)\n    draggableBlock.current?.addEventListener('mousedown', handleMouseDown)\n  \n    return () => {\n      document.removeEventListener('mousedown', handleMouseDown)\n      document.removeEventListener('mouseup', handleMouseUp)\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('resize', handleResizeScreen)\n    }\n  }, [isVisible, draggableBlock])\n\n  return (\n    <>\n      {isVisible && (\n        <div className={cl.draggableBlock} ref={draggableBlock} >\n          {children}\n        </div>\n      )}\n    </>\n  )\n}\n\n","import React, { useEffect, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { AttachSvg, CrossSvg, FullScreenSvg } from \"../../../helpers/icons/icons\"\nimport { StatusType } from \"../../../redux/chat/types\"\nimport { DialogType, MessageType } from \"../../../redux/messenger/types\"\nimport Avatar from \"../../Avatar/Avatar\"\nimport { WithDragging } from \"../../hoc/withDragging/withDragging\"\nimport MessagesWrapper from \"../../MessagesBlock/MessagesWrapper/MessagesWrapper\"\nimport cl from './ActiveChatPopUp.module.scss'\n\n/* ------------- Types ------------- */\ninterface ActiveChatPopUpProps {\n  messages: MessageType[]\n  openedDialog: DialogType\n  setOpenedDialogs:  React.Dispatch<React.SetStateAction<DialogType[]>>\n  authProfileId: number\n  authProfilePhoto: string\n  fetchMessagesPending: number[]\n  fetchChatMessagesStatus: StatusType\n  sendMessage: (messageBody: string) => void\n}\n\n/* ------------- Component ------------- */\nconst ActiveChatPopUp: React.FC<ActiveChatPopUpProps> = ({\n  messages,\n  openedDialog,\n  setOpenedDialogs,\n  authProfileId,\n  authProfilePhoto,\n  fetchMessagesPending,\n  fetchChatMessagesStatus,\n  sendMessage,\n}) => {\n  const [isVisible, setIsVisible] = useState(false)\n  const [message, setMessage] = useState('')\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if(openedDialog) {\n      setIsVisible(true)\n    }\n  }, [openedDialog])\n  \n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if(e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      sendMessage(message)\n      setMessage('')\n    }\n  }\n\n  const handleOnCrossClick = () => {\n    setIsVisible((prev) => !prev)\n    setOpenedDialogs(prev => prev.filter(dialog => dialog.id !== openedDialog.id))\n  }\n  \n  const handleChange = ({ target }: React.ChangeEvent<HTMLTextAreaElement>) => setMessage(target.value)\n\n  const handleOnFullScreenClick = () => navigate(`messenger/${openedDialog.id === 9999999 ? 'chat' : openedDialog.id}`)\n\n  return (\n    <WithDragging\n      isVisible={isVisible}\n      setIsVisible={setIsVisible}\n      openedDialog={openedDialog}\n      setOpenedDialogs={setOpenedDialogs}\n    >\n      <section className={cl.chatWindow}>\n        <header className={cl.header}>\n          <div className={cl.currentChat}>\n            <div className={cl.avatarContainer}>\n              <Avatar photo={openedDialog && openedDialog.photos.small} />\n            </div>\n            <span className={cl.dialogName}>{openedDialog && openedDialog.userName}</span>\n          </div>\n          <div className={cl.btnsRowContainer}>\n            <FullScreenSvg className={cl.fullScreenSvg} onClick={handleOnFullScreenClick}/>\n            <CrossSvg className={cl.crossSvg} onClick={handleOnCrossClick} />\n          </div>\n        </header>\n        <MessagesWrapper\n          currentDialog={openedDialog}\n          messages={messages}\n          authProfileId={authProfileId}\n          authProfilePhoto={authProfilePhoto}\n          fetchMessagesPending={fetchMessagesPending}\n          fetchChatMessagesStatus={fetchChatMessagesStatus}\n        />\n        <footer className={cl.footer}>\n          <AttachSvg />\n          <textarea\n            placeholder={'Message'}\n            className={cl.textArea}\n            onKeyDown={handleKeyDown}\n            onChange={handleChange}\n            value={message}\n          />\n        </footer>\n      </section>\n    </WithDragging>\n  )\n}\n\nexport default ActiveChatPopUp","import { DialogType } from '../../../redux/messenger/types'\nimport Avatar from '../../Avatar/Avatar'\nimport cl from './ChatListPopUpItem.module.scss'\n\n/* ------------- Types ------------- */\ninterface ChatWindowItemProps {\n  dialogItem: DialogType\n  setOpenedDialogs: React.Dispatch<React.SetStateAction<DialogType[]>>\n}\n\n/* ------------- Component ------------- */\nconst ChatListPopUpItem: React.FC<ChatWindowItemProps> = ({ dialogItem, setOpenedDialogs }) => {\n  const handleClick = () => (\n    setOpenedDialogs((prev) => prev.some((dialog) => dialog.id === dialogItem.id) ? [...prev] : [...prev, dialogItem])\n  )\n\n  return (\n    <div className={cl.listItem} onClick={handleClick} >\n      <div className={cl.avatarContainer}>\n        <Avatar photo={dialogItem.photos.small} />\n      </div>\n      <span className={cl.dialogName}>{dialogItem.userName}</span>\n    </div>\n  )\n}\n\nexport default ChatListPopUpItem","import { useState } from 'react'\nimport { CrossSvg, SearchSvg } from '../../../helpers/icons/icons'\nimport { DialogType } from '../../../redux/messenger/types'\nimport ChatListPopUpItem from '../ChatListPopUpItem/ChatListPopUpItem'\nimport cl from './ChatListPopUp.module.scss'\n\n/* ------------- Types ------------- */\ninterface ChatListPopUpProps {\n  dialogs: DialogType[]\n  setOpenedDialogs: React.Dispatch<React.SetStateAction<DialogType[]>>\n  onChatListClickHandler: () => void\n}\n\n/* ------------- Component ------------- */\nconst ChatListPopUp: React.FC<ChatListPopUpProps> = ({\n  dialogs,\n  setOpenedDialogs,\n  onChatListClickHandler\n}) => {\n  const [searchInput, setSearchInput] = useState('')\n\n  const handleChange = ({ target }: React.ChangeEvent<HTMLInputElement>) => setSearchInput(target.value)\n\n  const ChatListItems = dialogs\n    .filter(dialog => dialog.userName.toLocaleLowerCase().includes(searchInput.toLowerCase()))\n    .map(dialog => (\n        <ChatListPopUpItem\n          key={dialog.id}\n          dialogItem={dialog}\n          setOpenedDialogs={setOpenedDialogs}\n        />\n      ))\n\n  return (\n    <section className={cl.chatWindow}>\n      <header className={cl.header}>\n        <span>Chats</span>\n        <CrossSvg onClick={onChatListClickHandler} />\n      </header>\n      <main className={cl.list}>\n        {ChatListItems}\n      </main>\n      <footer className={cl.footer}>\n        <SearchSvg />\n        <input\n          placeholder={'Search'}\n          className={cl.searchInput}\n          type=\"text\"\n          onChange={handleChange}\n          value={searchInput}\n        />\n      </footer>\n    </section>\n  )\n}\n\nexport default ChatListPopUp","import { CrossSvg, MessengerSvg } from '../../helpers/icons/icons'\nimport cl from './ChatWindow.module.scss'\nimport React, { useState } from 'react'\nimport { DialogType, MessageType } from '../../redux/messenger/types'\nimport ActiveChatPopUp from './ActiveChatPopUp/ActiveChatPopUp'\nimport { WithDragging } from '../hoc/withDragging/withDragging'\nimport { StatusType } from '../../redux/chat/types'\nimport ChatListPopUp from './ChatListPopUp/ChatListPopUp'\n\n/* ------------- Types ------------- */\ninterface ChatWindowProps {\n  authProfileId: number\n  authProfilePhoto: string\n  dialogs: DialogType[]\n  messages: {[id: number]: MessageType[]}\n  openedDialogs: DialogType[]\n  setOpenedDialogs:  React.Dispatch<React.SetStateAction<DialogType[]>>\n  fetchMessagesPending: number[]\n  fetchChatMessagesStatus: StatusType\n  sendMessage: (userId: number, messageBody: string) => void\n  sendChatMessage: (message: string) => void\n}\n\n/* ------------- Component ------------- */\nconst ChatWindow: React.FC<ChatWindowProps> = ({ \n   authProfileId,\n   authProfilePhoto,\n   dialogs,\n   messages,\n   setOpenedDialogs,\n   openedDialogs,\n   fetchMessagesPending,\n   fetchChatMessagesStatus,\n   sendMessage,\n   sendChatMessage,\n }) => {\n  const [isVisible, setIsVisible] = useState(false)\n\n  const onChatListClickHandler = () => setIsVisible((prev) => !prev)\n\n  const ActiveChats = openedDialogs.map((dialog) => {\n    const isChatId = dialog.id === 9999999\n    const sendMessageCallBack = isChatId ? sendChatMessage : sendMessage.bind(null, dialog.id)\n    return (\n      <ActiveChatPopUp\n        key={dialog.id}\n        messages={messages[dialog.id] || []}\n        openedDialog={dialog}\n        setOpenedDialogs={setOpenedDialogs}\n        authProfileId={authProfileId} \n        authProfilePhoto={authProfilePhoto} \n        fetchMessagesPending={fetchMessagesPending}\n        fetchChatMessagesStatus={fetchChatMessagesStatus}\n        sendMessage={sendMessageCallBack}\n      />)\n    })\n\n  return (\n    <>\n      {ActiveChats}\n      <div className={cl.chatListBtn} onClick={onChatListClickHandler}>\n        {isVisible ? (<CrossSvg/>) : (<MessengerSvg/>)}\n        <span>Chat list</span>\n      </div>\n      <WithDragging isVisible={isVisible} setIsVisible={setIsVisible} >\n        <ChatListPopUp\n          dialogs={dialogs}\n          setOpenedDialogs={setOpenedDialogs}\n          onChatListClickHandler={onChatListClickHandler}\n        />\n      </WithDragging>\n    </>\n  )\n}\n\nexport default ChatWindow\n\n","import { connect, ConnectedProps } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { RootState } from \"../../redux/store\"\nimport ChatWindow from \"./ChatWindow\"\nimport {\n  fetchDialogsThunk,\n  fetchMessagesThunk,\n  sendMessageThunk,\n} from '../../redux/messenger/thunks'\nimport { sendChatMessageThunk, startMessagesListeningThunk, stopMessagesListeningThunk } from \"../../redux/chat/thunks\"\nimport { useEffect, useState } from \"react\"\nimport { DialogType } from \"../../redux/messenger/types\"\nimport ErrorPopUp from '../../components/common/ErrorPopUp/ErrorPopUp'\n\n/* ------------- Component ------------- */\nconst ChatWindowApi: React.FC<ChatWindowContainerProps> = ({\n  authProfileId,\n  authProfilePhoto,\n  dialogs,\n  messages,\n  chatMessages,\n  fetchChatMessagesStatus,\n  fetchMessagesPending,\n  fetchMessagesError,\n  fetchDialogsError,\n  sendMessageError,\n  createDialogError,\n  fetchDialogsThunk,\n  fetchMessagesThunk,\n  startMessagesListeningThunk,\n  stopMessagesListeningThunk,\n  sendChatMessageThunk,\n  sendMessageThunk,\n}) => {\n  const [openedDialogs, setOpenedDialogs] = useState<DialogType[]>([])\n  const messagesWithChatMessages = {...messages, 9999999: chatMessages}\n  const dialogsWithChat = [\n    {\n      id: 9999999,\n      userName: 'WebSocket Chat',\n      hasNewMessages: true,\n      lastDialogActivityDate: '2022-05-20T23:06:26.437',\n      lastUserActivityDate: '2022-05-20T23:06:26.437',\n      newMessagesCount: 200,\n      photos: { small: null, large: null },\n    },\n    ...dialogs\n  ]\n\n  useEffect(() => {\n    startMessagesListeningThunk()\n    fetchDialogsThunk()\n    return () => {\n      stopMessagesListeningThunk()\n    }\n  }, [fetchDialogsThunk, startMessagesListeningThunk, stopMessagesListeningThunk])\n  \n  useEffect(() => {\n    const lastDialogIndex = openedDialogs.length - 1\n    if(lastDialogIndex < 0) return\n    if(messages[openedDialogs[lastDialogIndex].id]) return\n    if(openedDialogs[lastDialogIndex].id === 9999999) return\n    fetchMessagesThunk(openedDialogs[lastDialogIndex].id)\n  }, [openedDialogs, fetchMessagesThunk, messages])\n\n  return (\n    <>\n      <ErrorPopUp titlesArray={[fetchDialogsError, fetchMessagesError, sendMessageError, createDialogError]}/>\n      <ChatWindow\n        authProfileId={authProfileId!}\n        authProfilePhoto={authProfilePhoto!}\n        dialogs={dialogsWithChat}\n        messages={messagesWithChatMessages}\n        openedDialogs={openedDialogs}\n        setOpenedDialogs={setOpenedDialogs}\n        fetchChatMessagesStatus={fetchChatMessagesStatus}\n        fetchMessagesPending={fetchMessagesPending}\n        sendMessage={sendMessageThunk}\n        sendChatMessage={sendChatMessageThunk}\n      />\n    </>\n  )\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (state: RootState) => {\n  return {\n    dialogs: state.messenger.dialogs,\n    messages: state.messenger.messages,\n    chatMessages: state.chat.messages,\n    authProfileId: state.auth.user?.id,\n    authProfilePhoto: state.auth.user?.photos?.small,\n    fetchChatMessagesStatus: state.chat.requests.fetchChatMessagesStatus,\n    fetchMessagesPending: state.messenger.requests.fetchMessagesPending,\n    createDialogError: state.messenger.requests.createDialogError, //bug should handle errors \n    fetchMessagesError: state.messenger.requests.fetchMessagesError, //bug should handle errors \n    fetchDialogsError: state.messenger.requests.fetchMessagesError, //bug should handle errors\n    sendMessageError: state.messenger.requests.sendMessageError, //bug should handle errors\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchDialogsThunk,\n  fetchMessagesThunk,\n  sendMessageThunk,\n  sendChatMessageThunk,\n  startMessagesListeningThunk,\n  stopMessagesListeningThunk\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\nexport type ChatWindowContainerProps = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector)(ChatWindowApi)","import { LogoSvg } from '../../../helpers/icons/icons'\nimport cl from './LogoApp.module.scss'\n\nconst LogoApp = () => {\n  return (\n      <div className={cl.logo}>\n        <div>dev</div>\n        <LogoSvg className={cl.svg} />\n        <div>lub</div>\n      </div>\n  )\n}\n\nexport default LogoApp","import cl from './NavItemSvg.module.scss'\n\ninterface NavItemSvgProps {\n  onClick?: () => void\n  ComponentSvg: (props: {className?: string}) => JSX.Element\n  textItem?: string\n}\n\nconst NavItemSvg: React.FC<NavItemSvgProps> = ({ComponentSvg, textItem, ...props}) => {\n  return (\n    <div {...props} className={cl.menuItem} >\n      <ComponentSvg className={cl.svg}/>\n      {textItem && <span>{textItem}</span>}\n    </div>\n  )\n}\n\nexport default NavItemSvg","import {\n  ArrowSvg,\n  HelpSvg,\n  ModeSvg,\n  SignOutSvg,\n} from '../../../../helpers/icons/icons'\nimport Avatar from '../../../Avatar/Avatar'\nimport NavItemSvg from '../../../common/NavItemSvg/NavItemSvg'\nimport cl from './UserPopup.module.scss'\n\n/* ------------- Types ------------- */\ninterface HeaderPopupProps {\n  profilePhoto: string | null | undefined\n  profileName: string | undefined\n  deleteAuthenticatedSession: () => void\n}\n\n/* ------------- Component ------------- */\nconst HeaderPopup: React.FC<HeaderPopupProps> = ({\n  profileName,\n  profilePhoto,\n  deleteAuthenticatedSession,\n}) => {\n  return (\n    <>\n      <div className={cl.popupContainer} data-popup={true}></div>\n      <div className={cl.popup}>\n        <div className={cl.userInfoRow}>\n          <div className={cl.avatarContainer}>\n            <Avatar photo={profilePhoto} />\n          </div>\n          <div className={cl.addInfoCol}>\n            <span className={cl.profileName}>{profileName}</span>\n            <span className={cl.phoneNumber}>+375 29 *** ** 92</span>\n          </div>\n          <ArrowSvg className={cl.arrowSvgRight} />\n        </div>\n        <NavItemSvg textItem=\"Help\" ComponentSvg={HelpSvg} />\n        <NavItemSvg textItem=\"Mode: dark\" ComponentSvg={ModeSvg} />\n        <NavItemSvg\n          onClick={deleteAuthenticatedSession}\n          textItem=\"Sign out\"\n          ComponentSvg={SignOutSvg}\n        />\n      </div>\n    </>\n  )\n}\n\nexport default HeaderPopup\n","import { useEffect, useState } from 'react'\nimport { ArrowSvg } from '../../../helpers/icons/icons'\nimport { AuthenticatedUser } from '../../../redux/auth/types'\nimport cl from './AuthenticatedUserButton.module.scss'\nimport Avatar from '../../Avatar/Avatar'\nimport HeaderPopup from './UserPopup/UserPopup'\nimport { makeFirstLetterUppercase } from '../../../helpers/helpers'\n\n/* ------------- Types ------------- */\ninterface AuthenticatedUserBtn {\n  authUser: AuthenticatedUser | undefined\n  deleteAuthenticatedSession: () => void\n}\n\n/* ------------- Component ------------- */\nconst AuthenticatedUserButton: React.FC<AuthenticatedUserBtn> = ({authUser, deleteAuthenticatedSession}) => {\n  const [isPopUp, setIsPopUp] = useState(false)\n  const profileName = makeFirstLetterUppercase(authUser?.login)\n  const profilePhoto = authUser?.photos?.small\n\n  const handleOpenPopUp = (e: React.MouseEvent) => {\n    (e.target as Element).hasAttribute('data-popup') && setIsPopUp((prev) => !prev)\n  }\n\n  useEffect(() => {\n    const header = document.querySelector<HTMLElement>('[data-header]')\n    header!.style.zIndex = isPopUp ? '15' : 'auto'\n  }, [isPopUp])\n\n  return (\n    <div onClick={handleOpenPopUp} className={cl.currentUser} data-popup={true}>\n      <div className={cl.avatarContainer}>\n        <Avatar photo={profilePhoto} />\n      </div>\n      <ArrowSvg className={cl.arrowSvgBottom} />\n      {isPopUp && (\n        <HeaderPopup\n          profilePhoto={profilePhoto}\n          profileName={profileName}\n          deleteAuthenticatedSession={deleteAuthenticatedSession}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default AuthenticatedUserButton","import cl from './Header.module.scss'\nimport { Link } from 'react-router-dom'\nimport LogoApp from '../common/LogoApp/LogoApp'\nimport React from 'react'\nimport { AuthenticatedUser } from '../../redux/auth/types'\nimport AuthenticatedUserButton from './AuthenticatedUserButton/AuthenticatedUserButton'\nimport { makeFirstLetterUppercase } from '../../helpers/helpers'\n\ninterface HeaderProps {\n  authUser: AuthenticatedUser | undefined\n  deleteAuthenticatedSession: () => void\n}\n\nconst Header: React.FC<HeaderProps> = ({ authUser, ...props }) => {\n  const profileName = authUser && makeFirstLetterUppercase(authUser.login)\n\n  return (\n    <header className={cl.header} data-header>\n      <Link className={cl.logoContainer} to=\"login\"><LogoApp /></Link>\n      {profileName ? (\n        <AuthenticatedUserButton\n          authUser={authUser}\n          deleteAuthenticatedSession={props.deleteAuthenticatedSession}\n        />\n      ) : (\n        <Link className={cl.currentUser} to=\"login\">login</Link>\n      )}\n    </header>\n  )\n}\n\nexport default Header\n\n\n","import React from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { compose } from 'redux'\nimport { RootState } from '../../redux/store'\nimport { deleteAuthenticatedSessionThunk } from '../../redux/auth/thunks'\nimport Header from './Header'\n\nconst HeaderContainerApi: React.FC<HeaderContainerApiProps> = ({authUser, ...props}) => {\n    return (\n      <Header\n        deleteAuthenticatedSession={props.deleteAuthenticatedSessionThunk}\n        authUser={authUser}\n      />\n    )\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    authUser: state.auth.user,\n  }\n}\n\nconst mapDispatchToProps = {\n  deleteAuthenticatedSessionThunk\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype HeaderContainerApiProps = ConnectedProps<typeof connector>\n\nexport default compose(connector)(HeaderContainerApi) ","import React from 'react'\nimport cl from './NavBar.module.scss'\nimport { NavLink } from 'react-router-dom'\nimport { DevelopersSvg, MessengerSvg, MyProfileSvg } from '../../helpers/icons/icons'\nimport NavItemSvg from '../common/NavItemSvg/NavItemSvg'\n\nconst NavBar: React.FC = () => {\n  return (\n    <aside className={cl.aside}>\n      <nav className={cl.nav}>\n        <NavLink className={cl.link} to=\"profile\" ><NavItemSvg ComponentSvg={MyProfileSvg} textItem={'My profile'} /></NavLink>\n        <NavLink className={cl.link} to=\"messenger\" ><NavItemSvg ComponentSvg={MessengerSvg} textItem={'Messenger'} /></NavLink>\n        <NavLink className={cl.link} to=\"users\" ><NavItemSvg ComponentSvg={DevelopersSvg} textItem={'Developers'} /></NavLink>\n      </nav>\n      <nav className={cl.phoneNav}>\n        <NavLink to=\"profile\"><NavItemSvg ComponentSvg={MyProfileSvg}/></NavLink>\n        <NavLink to=\"messenger\"><NavItemSvg ComponentSvg={MessengerSvg}/></NavLink>\n        <NavLink to=\"users\"><NavItemSvg ComponentSvg={DevelopersSvg}/></NavLink>\n      </nav>\n    </aside>\n  )\n}\n\nexport default NavBar\n\n\n/* <ul className={cl.list}>\n          <li className={cl.aside__item}>\n            <NavLink to=\"profile\" className={isActiveLink} end>\n              Profile\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"dialogs\" className={isActiveLink}>\n              Dialogs\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"users\" className={isActiveLink}>\n              Find users\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"following\" className={isActiveLink}>\n              People I follow\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"chat\" className={isActiveLink}>\n              Chat\n            </NavLink>\n          </li>\n        </ul> */","import { Outlet } from \"react-router-dom\"\nimport ChatWindowContainer from \"../ChatWindow/ChatWindowContainer\"\nimport HeaderContainer from \"../Header/HeaderContainer\"\nimport NavBar from \"../NavBar/NavBar\"\nimport cl from './Root.module.scss'\n\n/* ------------- Component ------------- */\nconst Root = () => {\n  return (\n    <div className={cl.appWrapper}>\n      <HeaderContainer />\n      <NavBar />\n      <ChatWindowContainer/>\n      <div className={cl.mainContent}>\n        <Outlet/>\n      </div>\n    </div>\n  )\n}\n\nexport default Root","import axios from \"axios\"\nimport { postsApi } from \"./api\"\n\n/* ------------- Types ------------- */\ninterface GetPostsApiResponse {\n  records: [\n    {\n      id: string\n      createdTime: string\n      fields: {\n        id: string\n        body: string\n        image: string\n        likes: string\n      }\n    }\n  ]\n}\n\ninterface AddPostApiResponse {\n  id: string\n  createdTime: string\n  fields: {\n    image: string\n    id: string\n    likes: number\n    body: string\n  }\n}\n\ninterface SetPostApiResponse extends AddPostApiResponse {}\n\ninterface DeletePostApiResponse {\n  id: string\n  deleted: boolean\n}\n\ninterface ErrorPostsApiResponse {\n  error: {\n    type: string,\n    message: string,\n  }\n} \n\n/* ------------- Api ------------- */\nexport const getPostsApi = () => postsApi.get<GetPostsApiResponse | ErrorPostsApiResponse>('')\n\nexport const addPostApi = (body: string, image?: string) => (\n  postsApi.post<AddPostApiResponse | ErrorPostsApiResponse>\n    ('', { fields: { body, image, likes: '10' } }, {headers: {'Content-Type': 'application/json'}})\n)\n\nexport const setPostApi = (id: string, body: string, image: string | null) => (\n   postsApi.put<SetPostApiResponse | ErrorPostsApiResponse>\n    (`${id}`, { fields: { body, image, likes: '4' } }, { headers: { 'Content-Type': 'application/json' } })\n)\n\nexport const deletePostApi = (id: string) => (\n  postsApi.delete<DeletePostApiResponse | ErrorPostsApiResponse>(`${id}`)\n)\n\nexport const postImage = (file: File) => { \n  const formData = new FormData()\n  formData.append('file', file)\n  formData.append('upload_preset', 'NAME-PRESET')\n  return axios.post<{url: string}>('https://api.cloudinary.com/v1_1/doebeyofn/image/upload', formData)\n}","import { PostsConstants, PostsType, PostType } from \"./types\"\n\n/* ------------- Types ------------- */\nexport interface FetchPostsRequest extends ReturnType<typeof fetchPostsRequest> {}\nexport interface FetchPostsSuccess extends ReturnType<typeof fetchPostsSuccess> {}\nexport interface FetchPostsFailure extends ReturnType<typeof fetchPostsFailure> {}\nexport interface AddPostRequest extends ReturnType<typeof addPostRequest> {}\nexport interface AddPostSuccess extends ReturnType<typeof addPostSuccess> {}\nexport interface AddPostFailure extends ReturnType<typeof addPostFailure> {}\nexport interface SetPostRequest extends ReturnType<typeof setPostRequest> {}\nexport interface SetPostSuccess extends ReturnType<typeof setPostSuccess> {}\nexport interface SetPostFailure extends ReturnType<typeof setPostFailure> {}\nexport interface DeletePostRequest extends ReturnType<typeof deletePostRequest> {}\nexport interface DeletePostSuccess extends ReturnType<typeof deletePostSuccess> {}\nexport interface DeletePostFailure extends ReturnType<typeof deletePostFailure> {}\n\nexport type PostsAction = \n  | FetchPostsRequest\n  | FetchPostsSuccess\n  | FetchPostsFailure\n  | AddPostRequest\n  | AddPostSuccess\n  | AddPostFailure\n  | SetPostRequest\n  | SetPostSuccess\n  | SetPostFailure\n  | DeletePostRequest\n  | DeletePostSuccess\n  | DeletePostFailure\n\n/* ------------- Actions ------------- */\nexport const fetchPostsRequest = () => {\n  return <const>{ type: PostsConstants.FETCH_POSTS_REQUEST }\n}\n\nexport const fetchPostsSuccess = (posts: PostsType) => {\n  return <const>{ type: PostsConstants.FETCH_POSTS_SUCCESS, payload: posts }\n}\n\nexport const fetchPostsFailure = (error: string) => {\n  return <const>{ type: PostsConstants.FETCH_POSTS_FAILURE, payload: error }\n}\n\nexport const addPostRequest = () => {\n  return <const>{ type: PostsConstants.ADD_POST_REQUEST }\n}\n\nexport const addPostSuccess = (post: PostType) => {\n  return <const>{ type: PostsConstants.ADD_POST_SUCCESS, payload: post }\n}\n\nexport const addPostFailure = (error: string) => {\n  return <const>{ type: PostsConstants.ADD_POST_FAILURE, payload: error }\n}\n\nexport const setPostRequest = () => {\n  return <const>{ type: PostsConstants.SET_POST_REQUEST }\n}\n\nexport const setPostSuccess = (post: PostType) => {\n  return <const>{ type: PostsConstants.SET_POST_SUCCESS, payload: post }\n}\n\nexport const setPostFailure = (error: string) => {\n  return <const>{ type: PostsConstants.SET_POST_FAILURE, payload: error }\n}\n\nexport const deletePostRequest = () => {\n  return <const>{ type: PostsConstants.DELETE_POST_REQUEST }\n}\n\nexport const deletePostSuccess = (id: string) => {\n  return <const>{ type: PostsConstants.DELETE_POST_SUCCESS, payload: id }\n}\n\nexport const deletePostFailure = (error: string) => {\n  return <const>{ type: PostsConstants.DELETE_POST_FAILURE, payload: error }\n}","import { GetUserProfileApiResponse } from \"../../api/profile\";\n\nexport enum ProfileConstants {\n  FETCH_PROFILE_POSTS_REQUEST = 'profile/FETCH_PROFILE_POSTS_REQUEST',\n  FETCH_PROFILE_POSTS_SUCCESS = 'profile/FETCH_PROFILE_POSTS_SUCCESS',\n  FETCH_PROFILE_POSTS_FAILURE = 'profile/FETCH_PROFILE_POSTS_FAILURE',\n\n  SET_PROFILE_STATUS_REQUEST = 'profile/SET_PROFILE_STATUS_REQUEST',\n  SET_PROFILE_STATUS_SUCCESS = 'profile/SET_PROFILE_STATUS_SUCCESS',\n  SET_PROFILE_STATUS_FAILURE = 'profile/SET_PROFILE_STATUS_FAILURE',\n\n  FETCH_PROFILE_REQUEST = 'profile/FETCH_PROFILE_REQUEST',\n  FETCH_PROFILE_SUCCESS = 'profile/FETCH_PROFILE_SUCCESS',\n  FETCH_PROFILE_FAILURE = 'profile/FETCH_PROFILE_FAILURE',\n\n  SET_PROFILE_PHOTO_REQUEST = 'profile/SET_PROFILE_PHOTO_REQUEST',\n  SET_PROFILE_PHOTO_SUCCESS = 'profile/SET_PROFILE_PHOTO_SUCCESS',\n  SET_PROFILE_PHOTO_FAILURE = 'profile/SET_PROFILE_PHOTO_FAILURE',\n\n  SET_PROFILE_REQUEST = 'profile/SET_PROFILE_REQUEST',\n  SET_PROFILE_SUCCESS = 'profile/SET_PROFILE_SUCCESS',\n  SET_PROFILE_FAILURE = 'profile/SET_PROFILE_FAILURE',\n\n  TOGGLE_FOLLOW_ON_PROFILE_REQUEST = 'profile/TOGGLE_FOLLOW_ON_PROFILE_REQUEST',\n  TOGGLE_FOLLOW_ON_PROFILE_SUCCESS = 'profile/TOGGLE_FOLLOW_ON_PROFILE_SUCCESS',\n  TOGGLE_FOLLOW_ON_PROFILE_FAILURE = 'profile/TOGGLE_FOLLOW_ON_PROFILE_FAILURE',\n}\n\nexport interface ProfilePost {\n  id: number,\n  title: string,\n  body: string\n}\n\nexport interface UserProfile extends GetUserProfileApiResponse {\n  followed: boolean\n}\n","import { ProfileConstants, ProfilePost, UserProfile } from \"./types\"\n\n/* ------------- Types ------------- */\nexport interface FetchProfilePostsRequest extends ReturnType<typeof fetchProfilePostsRequest> {}\nexport interface FetchProfilePostsSuccess extends ReturnType<typeof fetchProfilePostsSuccess> {}\nexport interface FetchProfilePostsFailure extends ReturnType<typeof fetchProfilePostsFailure> {}\nexport interface FetchProfileRequest extends ReturnType<typeof fetchProfileRequest> {}\nexport interface FetchProfileSuccess extends ReturnType<typeof fetchProfileSuccess> {}\nexport interface FetchProfileFailure extends ReturnType<typeof fetchProfileFailure> {}\nexport interface SetProfileStatusRequest extends ReturnType<typeof setProfileStatusRequest> {}\nexport interface SetProfileStatusSuccess extends ReturnType<typeof setProfileStatusSuccess> {}\nexport interface SetProfileStatusFailure extends ReturnType<typeof setProfileStatusFailure> {}\nexport interface SetProfilePhotoRequest extends ReturnType<typeof setProfilePhotoRequest> {}\nexport interface SetProfilePhotoSuccess extends ReturnType<typeof setProfilePhotoSuccess> {}\nexport interface SetProfilePhotoFailure extends ReturnType<typeof setProfilePhotoFailure> {}\nexport interface SetProfileRequest extends ReturnType<typeof setProfileRequest> {}\nexport interface SetProfileSuccess extends ReturnType<typeof setProfileSuccess> {}\nexport interface SetProfileFailure extends ReturnType<typeof setProfileFailure> {}\nexport interface ToggleFollowOnProfileRequest extends ReturnType<typeof toggleFollowOnProfileRequest> {}\nexport interface ToggleFollowOnProfileSuccess extends ReturnType<typeof toggleFollowOnProfileSuccess> {}\nexport interface ToggleFollowOnProfileFailure extends ReturnType<typeof toggleFollowOnProfileFailure> {}\n\nexport type ProfileAction =\n  | FetchProfilePostsRequest\n  | FetchProfilePostsSuccess\n  | FetchProfilePostsFailure\n  | FetchProfileRequest\n  | FetchProfileSuccess\n  | FetchProfileFailure\n  | SetProfileStatusRequest\n  | SetProfileStatusSuccess\n  | SetProfileStatusFailure\n  | SetProfilePhotoRequest\n  | SetProfilePhotoSuccess\n  | SetProfilePhotoFailure\n  | SetProfileRequest\n  | SetProfileSuccess\n  | SetProfileFailure\n  | ToggleFollowOnProfileRequest\n  | ToggleFollowOnProfileSuccess\n  | ToggleFollowOnProfileFailure\n\n/* ------------- Actions ------------- */\nexport const fetchProfilePostsRequest = () => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_POSTS_REQUEST }\n}\n\nexport const fetchProfilePostsSuccess = (posts: ProfilePost[]) => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_POSTS_SUCCESS, payload: posts }\n}\n\nexport const fetchProfilePostsFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_POSTS_FAILURE, payload: error }\n}\n\nexport const setProfileRequest = () => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_REQUEST }\n}\n\nexport const setProfileSuccess = () => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_SUCCESS }\n}\n\nexport const setProfileFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_FAILURE, payload: error }\n}\n\nexport const fetchProfileRequest = () => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_REQUEST } \n}\n\nexport const fetchProfileSuccess = (profile: UserProfile) => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_SUCCESS, payload: profile }\n}\n\nexport const fetchProfileFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.FETCH_PROFILE_FAILURE, payload: error }\n}\n\nexport const setProfileStatusRequest = () => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_STATUS_REQUEST }\n}\n\nexport const setProfileStatusSuccess = (status: string) => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_STATUS_SUCCESS, payload: status }\n}\n\nexport const setProfileStatusFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_STATUS_FAILURE, payload: error }\n}\n\nexport const setProfilePhotoRequest = () => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_PHOTO_REQUEST }\n}\n\nexport const setProfilePhotoSuccess = (photos: {small: string, large: string}) => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_PHOTO_SUCCESS, payload: photos }\n}\n\nexport const setProfilePhotoFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.SET_PROFILE_PHOTO_FAILURE, payload: error }\n}\n\nexport const toggleFollowOnProfileRequest = () => {\n  return <const>{ type: ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_REQUEST }\n}\n\nexport const toggleFollowOnProfileSuccess = () => {\n  return <const>{ type: ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_SUCCESS }\n}\n\nexport const toggleFollowOnProfileFailure = (error: string) => {\n  return <const>{ type: ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_FAILURE, payload: error }\n}\n\n\n\n\n\n\n","export enum AppConstants {\n  APP_INITIALIZATION_SUCCESS = 'app/APP_INITIALIZATION_SUCCESS',\n}\n","import { FORM_ERROR } from 'final-form'\nimport {\n  getStatusApi as fetchStatusApi,\n  getUserProfileApi,\n  setProfilePhotoApi,\n  setStatusApi,\n  setUserProfileApi,\n  SetUserRequiredBodyApi\n} from '../../api/profile'\nimport { fetchUsersApi, followUserApi, unfollowUserApi } from '../../api/users'\nimport { ProfileInfoFormCallBackType } from '../../components/InfoBlock/InfoBlock'\nimport { AppDispatch, RootState } from '../store'\nimport {\n  fetchProfileFailure,\n  fetchProfileRequest,\n  fetchProfileSuccess,\n  setProfileFailure,\n  setProfilePhotoFailure,\n  setProfilePhotoRequest,\n  setProfilePhotoSuccess,\n  setProfileRequest,\n  setProfileStatusFailure,\n  setProfileStatusRequest,\n  setProfileStatusSuccess,\n  setProfileSuccess,\n  toggleFollowOnProfileFailure,\n  toggleFollowOnProfileRequest,\n  toggleFollowOnProfileSuccess\n} from './actions'\n\nexport const setUserProfileThunk = (userData: SetUserRequiredBodyApi, errorCallBack: ProfileInfoFormCallBackType) => {\n  return async (dispatch: AppDispatch, getState: () => RootState) => {\n    try {\n      const userId = getState().auth.user!.id\n      dispatch(setProfileRequest())\n      const { data: response } = await setUserProfileApi(userData)\n      if(response.resultCode === 0) {\n        dispatch(setProfileSuccess())\n        dispatch<any>(getUserProfileThunk(userId!))\n      }else if(response.resultCode === 1) {\n        errorCallBack!({[FORM_ERROR]: response.messages.join(' ')})\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(setProfileFailure(`An error occurred during setting profile information`))\n    }\n  }\n}\n\nexport const getUserProfileThunk = (userId: number) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(fetchProfileRequest())\n      const {data: response} = await getUserProfileApi(userId)\n      const { data: {items} } = await fetchUsersApi(1, 1, response.fullName, false)\n      dispatch(fetchProfileSuccess({...response, followed: items[0].followed}))\n    } catch (e) {\n      console.log(e)\n      dispatch(fetchProfileFailure('An error occurred during fetching profile information'))\n    }\n  }\n}\n\nexport const setUserStatusThunk = (status: string) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(setProfileStatusRequest())\n      const {data: response} = await setStatusApi(status)\n      if (response.resultCode === 0) {\n        dispatch(setProfileStatusSuccess(status))\n      } else if(response.resultCode === 1) {\n        dispatch(setProfileStatusFailure(response.messages[0]))\n      }\n    } catch (e) {\n      console.log(e)\n      dispatch(setProfileStatusFailure('An error occurred during setting profile status'))\n    }\n  }\n}\n\nexport const fetchUserStatusThunk = (userId: number) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      const {data: response} = await fetchStatusApi(userId)\n      dispatch(setProfileStatusSuccess(response))\n    } catch (e) {\n      console.log(e)\n      dispatch(setProfileStatusFailure('An error occurred during fetching profile status'))\n    }\n  }\n}\n\nexport const setProfilePhotoThunk = (file: File) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(setProfilePhotoRequest())\n      const {data: response} = await setProfilePhotoApi(file)\n      if(response.resultCode === 0) {\n        dispatch(setProfilePhotoSuccess(response.data.photos!))\n      }else if(response.resultCode === 1) {\n        dispatch(setProfilePhotoFailure(response.messages[0]))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(setProfilePhotoFailure('An error occurred during uploading profile photo'))\n    }\n  }\n}\n\nexport const toggleFollowOnProfileThunk = (userId: number, followed: boolean) => {\n  return async ( dispatch: AppDispatch ) => {\n    try{\n      dispatch(toggleFollowOnProfileRequest())\n      const apiMethod = followed ? unfollowUserApi : followUserApi\n      const { data: response} = await apiMethod(userId)\n      if(response.resultCode === 0) {\n        dispatch(toggleFollowOnProfileSuccess())\n      }else if(response.resultCode === 1) {\n        dispatch(toggleFollowOnProfileFailure(response.messages[0]!))\n      }\n    }catch(e) {\n      console.log(e)\n      dispatch(toggleFollowOnProfileFailure('An error occurred during follow/unfollow on user'))\n    }\n  }\n}","import cl from './CounterBlock.module.scss'\n\n/* ------------- Types ------------- */\ninterface CounterBlockProps {\n  counterName: string\n  amount: number\n  callBack?: () => void\n}\n\n/* ------------- Component ------------- */\nconst CounterBlock: React.FC<CounterBlockProps> = ({ counterName, amount, callBack }) => {\n  return (\n    <div onClick={callBack} className={cl.counterBlock}>\n      <div className={cl.counter}>{amount}</div>\n      <div className={cl.counterName}>{counterName}</div>\n    </div>\n  )\n}\n\nexport default CounterBlock","import cl from './Divider.module.scss'\n\n/* ------------- Types ------------- */\ninterface DividerProps {\n  dividerName?: string\n}\n\n/* ------------- Component ------------- */\nexport const Divider: React.FC<DividerProps> = ({ dividerName }) => {\n  return (\n    <div className={cl.dividerBlock}>\n      {dividerName && <div className={cl.dividerName}>{dividerName}</div>}\n      <div className={cl.divider}></div>\n    </div>\n  )\n}\n\nexport default Divider","import { useNavigate } from \"react-router-dom\"\nimport CounterBlock from \"../CounterBlock/CounterBlock\"\nimport Divider from \"../Divider/Divider\"\nimport cl from './CountersRow.module.scss'\n\n/* ------------- Types ------------- */\ninterface CountersRowProps {\n  friendsAmount: number\n}\n\n/* ------------- Component ------------- */\nconst CountersRow: React.FC<CountersRowProps> = ({ friendsAmount }) => {\n  const navigate = useNavigate()\n\n  return (\n    <>\n      <Divider/>\n      <div className={cl.countersRow}>\n        <CounterBlock counterName={'friends'} amount={friendsAmount} callBack={() => navigate('/people/friends')} />\n        <CounterBlock counterName={'followers'} amount={1} />\n        <CounterBlock counterName={'gifts'} amount={2} />\n        <CounterBlock counterName={'tracks'} amount={3} />\n      </div>\n    </>\n  )\n}\n\nexport default CountersRow","import { FieldWithValidation } from '../../common/FieldWithValidation/FieldWithValidation'\nimport cl from './InfoRow.module.scss'\n\n/* ------------- Types ------------- */\ninterface InfoRowProps {\n  isEdit: boolean\n  keyValue: string\n  value: string | boolean | undefined\n  Element: 'input' | 'textarea'\n  fieldName: string\n  fieldType: string\n  fieldValidators: any[]\n  className: string\n}\n\n/* ------------- Component ------------- */\nconst InfoRow: React.FC<InfoRowProps> = ({\n  keyValue,\n  value,\n  isEdit,\n  Element,\n  fieldName,\n  fieldType,\n  fieldValidators,\n  className\n}) => {\n  return (\n    <div className={cl.infoRow}>\n      <div className={cl.leftColumn}>{keyValue}</div>\n      {isEdit && (\n        <FieldWithValidation\n          Element={Element}\n          name={fieldName}\n          type={fieldType}\n          validators={fieldValidators}\n          className={className}\n        />\n      )}\n      {!isEdit && (\n        <div \n          className={cl.rightColumn} \n          children={value || 'empty'} \n        />\n      )}\n    </div>\n  )\n}\n\nexport default InfoRow","import { UserProfile } from \"../../../redux/profile/types\"\nimport Divider from \"../Divider/Divider\"\nimport InfoRow from \"../InfoRow/InfoRow\"\nimport cl from './ExtraInfo.module.scss'\n\n/* ------------- Types ------------- */\ninterface ExtraInfoProps {\n  isInfo: boolean\n  isEdit: boolean\n  profile: UserProfile | undefined\n}\n\n/* ------------- Component ------------- */\nconst ExtraInfo: React.FC<ExtraInfoProps> = ({ isEdit, isInfo, profile }) => {\n  return (\n    <>\n      {isInfo && (\n        <div className={cl.additionalInfo}>\n          <Divider dividerName={'Main information'} />\n          <InfoRow\n            keyValue={'About me:'}\n            value={profile?.aboutMe}\n            Element={'textarea'}\n            fieldName={'aboutMe'}\n            fieldType={'text'}\n            fieldValidators={[]}\n            isEdit={isEdit}\n            className={cl.textArea}\n          />\n          <InfoRow\n            keyValue={'My professional skills:'}\n            value={profile?.lookingForAJobDescription}\n            Element={'textarea'}\n            fieldName={'lookingForAJobDescription'}\n            fieldType={'text'}\n            fieldValidators={[]}\n            isEdit={isEdit}\n            className={cl.textArea}\n          />\n          <Divider dividerName={'Contact information'} />\n          {Object.entries(profile?.contacts || {}).map(([network, value]) => (\n            <InfoRow\n              key={network}\n              keyValue={`${network}:`}\n              value={value}\n              Element={'input'}\n              fieldName={`contacts.${network}`}\n              fieldType={'text'}\n              fieldValidators={[]}\n              isEdit={isEdit}\n              className={cl.input}\n            />\n          ))}\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ExtraInfo","import React, { useEffect, useState } from 'react'\nimport { reduceLine } from '../../../helpers/helpers'\nimport Preloader from '../../common/Preloader/Preloader'\nimport cl from './Status.module.scss'\n\n/* ------------- Types ------------- */\ninterface StatusProps {\n  authProfileId: number | undefined\n  currentUserId: number | undefined\n  status: string | null\n  isSetStatusPending: boolean\n  setStatus: (status: string) => void\n}\n\n/* ------------- Component ------------- */\nexport const Status: React.FC<StatusProps> = ({\n  authProfileId,\n  currentUserId,\n  isSetStatusPending,\n  status,\n  setStatus\n}) => {\n  const [isEditMode, setIsEditMode] = useState(false)\n  const [statusInput, setStatusInput] = useState<string | null>(status)\n  const isAuthenticatedUser = authProfileId === currentUserId\n\n  useEffect(() => {\n    setStatusInput(status)\n  }, [status])\n\n  const toggleEditMode = () => isAuthenticatedUser && setIsEditMode(!isEditMode)\n\n  const handleStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => setStatusInput(e.target.value)\n\n  const handlePressButton = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      statusInput !== null && setStatus(statusInput)\n      setIsEditMode(false)\n    }\n  }\n\n  if(isSetStatusPending) {\n    return <Preloader\n        position={'absolute'}\n        width=\"23px\"\n        height=\"23px\"\n        margin=\"4px auto 0px auto\"\n      />\n  }\n\n  return (\n    <>\n      {!isEditMode && (\n        <div\n          onClick={toggleEditMode}\n          className={`${cl.status} ${isAuthenticatedUser && cl.ownProfile} ${!status && cl.statusEmpty}`}\n          children={reduceLine(status, 75) || 'empty'}\n        />\n      )}\n      {isEditMode && (\n        <input\n          onKeyPress={handlePressButton}\n          onChange={handleStatusChange}\n          autoFocus={true}\n          onBlur={toggleEditMode}\n          type=\"text\"\n          className={cl.input}\n          value={statusInput || ''}\n        />\n      )}\n    </>\n  )\n}\n","import ErrorPopUp from \"../../common/ErrorPopUp/ErrorPopUp\"\nimport { FieldWithValidation } from \"../../common/FieldWithValidation/FieldWithValidation\"\nimport { Status } from \"../Status/Status\"\nimport cl from './MainInfo.module.scss'\n\n/* ------------- Types ------------- */\ninterface MainInfoProps {\n  submitError: string | null\n  isEdit: boolean\n  fullNameUpperCase: string | undefined\n  status: string | null\n  userId: number | undefined\n  authProfileId: number | undefined\n  isSetStatusPending: boolean\n  setStatus: (status: string) => void\n}\n\n/* ------------- Component ------------- */\nconst MainInfo: React.FC<MainInfoProps> = ({\n  authProfileId,\n  userId,\n  submitError,\n  fullNameUpperCase,\n  isEdit,\n  status,\n  isSetStatusPending,\n  setStatus,\n}) => {\n  const FullNameComponent = isEdit ? (\n    <FieldWithValidation\n      Element={'input'}\n      name={'fullName'}\n      type={'text'}\n      validators={[]}\n      defaultValue={fullNameUpperCase}\n      className={cl.inputName}\n    />\n  ) : (<h2 className={cl.name} children={fullNameUpperCase} />)\n\n  return (\n    <div className={cl.mainInfo}>\n      {<ErrorPopUp titlesArray={[submitError || null]} />}\n      {FullNameComponent}\n      <Status\n        currentUserId={userId}\n        authProfileId={authProfileId}\n        status={status}\n        setStatus={setStatus}\n        isSetStatusPending={isSetStatusPending}\n      />\n    </div>\n  )\n}\n\nexport default MainInfo","import { FormApi } from 'final-form'\nimport { useEffect, useState } from 'react'\nimport { Form } from 'react-final-form'\nimport { SetUserRequiredBodyApi } from '../../api/profile'\nimport { makeFirstLetterUppercase } from '../../helpers/helpers'\nimport { UserProfile } from '../../redux/profile/types'\nimport CountersRow from './CountersRow/CountersRow'\nimport Divider from './Divider/Divider'\nimport ExtraInfo from './ExtraInfo/ExtraInfo'\nimport cl from './InfoBlock.module.scss'\nimport InfoRow from './InfoRow/InfoRow'\nimport MainInfo from './MainInfo/MainInfo'\n\n/* ------------- Types ------------- */\ninterface InfoBlockProps {\n  authProfileId: number | undefined\n  profile: UserProfile | undefined\n  friendsAmount: number\n  status: string | null\n  isSetStatusPending: boolean\n  isEdit: boolean\n  setUserProfile: ( userData: SetUserRequiredBodyApi, errorCallBack: ProfileInfoFormCallBackType ) => void\n  setStatus: (status: string) => void\n}\n\ntype HandleSubmitType = (\n  values: ProfileInfoFormValuesType,\n  form: FormApi<ProfileInfoFormValuesType>,\n  callBack: ProfileInfoFormCallBackType\n) => Promise<void>\n\nexport type ProfileInfoFormValuesType = SetUserRequiredBodyApi\nexport type ProfileInfoFormCallBackType = ((errors: Object | undefined) => void) | undefined\n\n/* ------------- Component ------------- */\nconst InfoBlock: React.FC<InfoBlockProps> = ({\n  authProfileId,\n  profile,\n  friendsAmount,\n  status,\n  isEdit,\n  isSetStatusPending,\n  setUserProfile,\n  setStatus,\n}) => {\n  const [isInfo, setIsInfo] = useState(false)\n  const fullNameUpperCase = makeFirstLetterUppercase(profile?.fullName)\n  const initialFormValues: ProfileInfoFormValuesType = {\n    aboutMe: profile?.aboutMe,\n    lookingForAJob: profile?.lookingForAJob,\n    lookingForAJobDescription: profile?.lookingForAJobDescription,\n    fullName: profile?.fullName,\n    contacts: { ...profile?.contacts }\n  }\n\n  useEffect(() => {\n    isEdit && setIsInfo(true)\n  }, [isEdit, setIsInfo])\n\n  const handleSubmit: HandleSubmitType = async (values, form, callBack) => await setUserProfile(values, callBack)\n\n  const handleToggleInfoClick = () => setIsInfo(isEdit ? true : !isInfo)\n\n  return (\n    <section className={cl.infoBlock}>\n      <Form\n        initialValues={initialFormValues}\n        onSubmit={handleSubmit}\n        render={({ handleSubmit, submitError }) => (\n          <form id=\"myForm\" onSubmit={handleSubmit}>\n            <MainInfo\n              fullNameUpperCase={fullNameUpperCase}\n              submitError={submitError}\n              authProfileId={authProfileId}\n              userId={profile?.userId}\n              status={status}\n              isEdit={isEdit}\n              isSetStatusPending={isSetStatusPending}\n              setStatus={setStatus}\n            />\n            <Divider />\n            <InfoRow\n              keyValue={'Looking for a job:'}\n              value={profile?.lookingForAJob? 'Open to work' : `I'm not looking for a job`}\n              Element={'input'}\n              fieldName={'lookingForAJob'}\n              fieldType={'checkbox'}\n              fieldValidators={[]}\n              isEdit={isEdit}\n              className={cl.checkbox}\n            />\n            <div\n              onClick={handleToggleInfoClick}\n              className={cl.showInfoBtn}\n              children={!isInfo ? 'Show full information' : 'Hide full information'}\n            />\n            <ExtraInfo\n              profile={profile} \n              isEdit={isEdit} \n              isInfo={isInfo} \n            />\n          </form>\n        )}\n      />\n      <CountersRow friendsAmount={friendsAmount} />\n    </section>\n  )\n}\n\nexport default InfoBlock\n","import { connect, ConnectedProps } from \"react-redux\"\nimport { compose } from \"redux\"\nimport {\n  setUserProfileThunk, setUserStatusThunk\n} from '../../redux/profile/thunks'\nimport { RootState } from \"../../redux/store\"\nimport InfoBlock from \"./InfoBlock\"\n\n/* ------------- Types ------------- */\ninterface InfoBlockContainerApiProps extends InfoBlockContainerProps {\n  isEdit: boolean\n}\n\n/* ------------- Component ------------- */\nconst PhotoBlockContainerApi: React.FC<InfoBlockContainerApiProps> = ({\n  isEdit,\n  authProfileId,\n  profile,\n  friendsAmount,\n  status,\n  isSetStatusPending,\n  setUserStatusThunk,\n  setUserProfileThunk\n}) => {\n  \n  return <InfoBlock\n    isEdit={isEdit}\n    authProfileId={authProfileId}\n    profile={profile}\n    friendsAmount={friendsAmount}\n    isSetStatusPending={isSetStatusPending}\n    status={status}\n    setStatus={setUserStatusThunk}\n    setUserProfile={setUserProfileThunk}\n  />\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (state: RootState) => {\n  return {\n    profile: state.profile.profile,\n    status: state.profile.status,\n    isSetStatusPending: state.profile.requests.setProfileStatusPending,\n    authProfileId: state.auth.user?.id,\n    friendsAmount: state.users.users.friends.totalItemsCount\n  }\n} \n\nconst mapDispatchToProps = {\n  setUserProfileThunk,\n  setUserStatusThunk\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype InfoBlockContainerProps = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector)(PhotoBlockContainerApi)","import { Dispatch, SetStateAction, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { ArrowSvg, AudioSvg, CrossSvg, PhotoSvg, VideoSvg } from \"../../helpers/icons/icons\"\nimport Avatar from \"../Avatar/Avatar\"\nimport MyButton from \"../common/MyButton/MyButton\"\nimport cl from './SendMessagePopUp.module.scss'\n\ninterface SendMessagePopUpProps {\n  isPopUp: boolean\n  setIsPopUp: Dispatch<SetStateAction<boolean>>,\n  interlocutorId: number | undefined,\n  interlocutorName: string | undefined,\n  interlocutorPhoto: string | undefined\n  sendMessage: (userId: number, message: string) => void\n  createDialog: (userId: number) => void\n}\n\nconst SendMessagePopUp: React.FC<SendMessagePopUpProps> = ({\n  isPopUp,\n  setIsPopUp,\n  interlocutorId,\n  interlocutorName,\n  interlocutorPhoto,\n  sendMessage,\n  createDialog,\n}) => {\n  const [messageField, setMessageField] = useState('')\n  const navigate = useNavigate()\n\n  const handleMessageSending = () => {\n    sendMessage(interlocutorId!, messageField)\n    setIsPopUp(false)\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessageField(e.target.value)\n  }\n\n  const handleCreateDialog = async () => {\n    await createDialog(interlocutorId!)\n    navigate(`/messenger/${interlocutorId}`)\n  }\n\n  const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if ((e.target as Element).className === cl.popUpContainer) {\n      setIsPopUp(false)\n    }\n  }\n\n  return (\n    <>\n      {isPopUp && (\n        <div className={cl.popUpContainer} onClick={handleClick} >\n          <div className={cl.popUp}>\n            <div className={cl.flexRowContainer}>\n              <div className={cl.newMessage}>New message</div>\n              <div onClick={handleCreateDialog} className={cl.openChatBtn}>\n                Open full chat with {interlocutorName}\n              </div>\n              <div onClick={() => setIsPopUp(false)}>\n                <CrossSvg className={cl.closePopUpBtn} />\n              </div>\n            </div>\n            <div className={cl.profileInfo}>\n              <div className={cl.avatarContainer}>\n                <Avatar photo={interlocutorPhoto} />\n              </div>\n              <div className={cl.infoColumn}>\n                <span className={cl.fullName}>{interlocutorName}</span>\n                <span className={cl.lastActivity}>seen recently</span>\n              </div>\n            </div>\n            <div className={cl.textAreaContainer}>\n              <textarea\n                value={messageField}\n                onChange={handleChange}\n                className={cl.popUpTextField}\n              ></textarea>\n            </div>\n            <div className={cl.flexRowFooter}>\n              <div className={cl.attachments}>\n                <PhotoSvg className={cl.btnSvg} />\n                <VideoSvg className={cl.btnSvg} />\n                <AudioSvg className={cl.btnSvg} />\n                <div className={cl.moreBtn}>\n                  <span>More</span>\n                  <ArrowSvg className={cl.btnSvg} />\n                </div>\n              </div>\n              <div className={cl.btnContainer}>\n                <MyButton callBack={handleMessageSending}>Send</MyButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default SendMessagePopUp","import React, { Dispatch, SetStateAction, useState } from \"react\"\nimport photoPlaceholder from '../../assets/images/jpeg/no-photo.jpg'\nimport { ArrowUpSvg, CrossSvg } from \"../../helpers/icons/icons\"\nimport { UserProfile } from \"../../redux/profile/types\"\nimport MyButton from \"../common/MyButton/MyButton\"\nimport Preloader from \"../common/Preloader/Preloader\"\nimport SendMessagePopUp from \"../SendMessagePopUp/SendMessagePopUp\"\nimport cl from './PhotoBlock.module.scss'\n\n/* ------------- Types ------------- */\ninterface PhotoBlockProps {\n  authProfileId: number | undefined | null\n  profile: UserProfile | undefined\n  isPhotoSending: boolean\n  isSubscribePending: boolean\n  isEdit: boolean\n  setIsEdit: Dispatch<SetStateAction<boolean>>\n  toggleSubscribe: (userId: number, followed: boolean) => void\n  setProfilePhoto: (file: File) => void\n  sendMessage: (userId: number, messageBody: string) => void\n  createDialog: (userId: number) => void\n}\n\n/* ------------- Component ------------- */\nconst PhotoBlock: React.FC<PhotoBlockProps> = ({\n  isPhotoSending,\n  isSubscribePending: toggleFollowOnProfilePending,\n  profile,\n  setProfilePhoto,\n  authProfileId,\n  isEdit,\n  setIsEdit,\n  toggleSubscribe,\n  sendMessage,\n  createDialog,\n}) => {\n  const [isPopUp, setIsPopUp] = useState(false)\n  const isAuthenticatedUser = (profile && profile.userId) === authProfileId\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => setProfilePhoto(e.target.files![0])\n  \n  const handleWriteMessageClick = () => setIsPopUp(true)\n  \n  const handleSaveChanges = () => {\n    if(isEdit) {\n      document.getElementById('myForm')!\n      .dispatchEvent(new Event('submit', { cancelable: true, bubbles:true }))\n    }\n    setIsEdit(prev => !prev)\n  }\n\n  return (\n    <>\n      <SendMessagePopUp\n        createDialog={createDialog}\n        sendMessage={sendMessage}\n        interlocutorId={profile?.userId}\n        interlocutorName={profile?.fullName}\n        interlocutorPhoto={profile?.photos.small}\n        isPopUp={isPopUp}\n        setIsPopUp={setIsPopUp}\n      />\n      <div className={cl.photoBlockWrapper}>\n        <div className={cl.photoBlock}>\n          <div className={cl.photoContainer}>\n            {\n              isPhotoSending \n              ? (<Preloader position={'absolute'} width=\"40px\" height=\"40px\" />) \n              : (<img className={cl.photo} src={profile?.photos.large || photoPlaceholder} alt=\"\" />)\n            }\n            <div className={`${cl.deletingPhotoBtn} ${isEdit && cl.hover}`}><CrossSvg /></div>\n            <div className={`${cl.updatingPhotoBlock} ${isEdit && cl.hover}`}>\n              <label htmlFor=\"file-upload\">\n                <ArrowUpSvg className={cl.updatePhotoSvg} />\n                <span>Update photo</span>\n              </label>\n              <input id=\"file-upload\" onChange={handleFileUpload} type=\"file\" />\n            </div>\n          </div>\n          {isAuthenticatedUser ? (\n            <MyButton className={cl.btn} callBack={handleSaveChanges}>{isEdit ? 'Save' : 'Edit'}</MyButton>\n          ) : (\n            <>\n              <MyButton callBack={handleWriteMessageClick}>Write message</MyButton>\n              <MyButton \n                disabled={toggleFollowOnProfilePending} \n                callBack={()=>{toggleSubscribe(profile!.userId, profile!.followed)}}\n                children={profile?.followed ? 'Unfollow' : 'Follow'}\n              />\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default PhotoBlock\n\n","import { connect, ConnectedProps } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { createDialogThunk, sendMessageThunk } from '../../redux/messenger/thunks'\nimport {\n  setProfilePhotoThunk,\n  toggleFollowOnProfileThunk\n} from '../../redux/profile/thunks'\nimport { RootState } from \"../../redux/store\"\nimport PhotoBlock from \"./PhotoBlock\"\n\n/* ------------- Types ------------- */\ninterface PhotoBlockContainerApiProps extends PhotoBlockContainerProps {\n  isEdit: boolean\n  setIsEdit: React.Dispatch<React.SetStateAction<boolean>>\n}\n\n/* ------------- Component ------------- */\nconst PhotoBlockContainerApi: React.FC<PhotoBlockContainerApiProps> = ({\n  isEdit,\n  setIsEdit,\n  authProfileId,\n  profile,\n  isProfilePhotoSending,\n  toggleFollowPending,\n  createDialogThunk,\n  sendMessageThunk,\n  setProfilePhotoThunk,\n  toggleFollowOnProfileThunk,\n}) => {\n  return <PhotoBlock\n    isEdit={isEdit}\n    setIsEdit={setIsEdit}\n    authProfileId={authProfileId}\n    profile={profile}\n    isPhotoSending={isProfilePhotoSending}\n    isSubscribePending={toggleFollowPending}\n    createDialog={createDialogThunk}\n    sendMessage={sendMessageThunk}\n    setProfilePhoto={setProfilePhotoThunk}\n    toggleSubscribe={toggleFollowOnProfileThunk}\n  />\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (state: RootState) => {\n  return {\n    authProfileId: state.auth.user?.id,\n    profile: state.profile.profile,\n    isProfilePhotoSending: state.profile.requests.setProfilePhotoPending,\n    toggleFollowPending: state.profile.requests.toggleFollowOnProfilePending\n  }\n} \n\nconst mapDispatchToProps = {\n  createDialogThunk,\n  sendMessageThunk,\n  setProfilePhotoThunk,\n  toggleFollowOnProfileThunk,\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype PhotoBlockContainerProps = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector)(PhotoBlockContainerApi)","import { Link } from \"react-router-dom\";\nimport { reduceLine } from \"../../helpers/helpers\";\nimport { IUser } from \"../../redux/users/types\"\nimport Avatar from \"../Avatar/Avatar\"\nimport cl from './FriendsBlock.module.scss';\n\n/* ------------- Types ------------- */\ninterface FriendsBlockProps {\n  friendsAmount: number\n  friendsList: IUser[]\n}\n\n/* ------------- Component ------------- */\nconst FriendsBlock: React.FC<FriendsBlockProps> = ({ friendsAmount, friendsList }) => {\n  return (\n    <div className={cl.friendsBlock}>\n      <Link to={'/users'} className={cl.header}>\n        <span>Friends</span>\n        <span className={cl.amount}>{friendsAmount}</span>\n      </Link>\n      <div className={cl.friendsGrid}>\n        {friendsList?.map((friend) => (\n          <div key={friend.id} className={cl.friend}>\n            <div\n              className={cl.avatarContainer}\n              children={<Avatar photo={friend.photos.small} userId={friend.id} />}\n            />\n            <Link \n              to={`/profile/${friend.id}`} \n              className={cl.fullName} \n              children={reduceLine(friend.name, 7)} \n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default FriendsBlock","import { useEffect, useRef, useState } from \"react\"\nimport { reduceLine } from \"../../../helpers/helpers\"\nimport { CrossSvg, FileSvg } from \"../../../helpers/icons/icons\"\nimport { AuthenticatedUser } from \"../../../redux/auth/types\"\nimport Avatar from \"../../Avatar/Avatar\"\nimport Preloader from \"../../common/Preloader/Preloader\"\nimport cl from './NewPostField.module.scss'\n\n/* ------------- Types ------------- */\ninterface NewPostFieldProps {\n  authProfile: AuthenticatedUser | undefined\n  isHomePage: boolean\n  isPostLoading: boolean\n  addPost: (body: string, image?: File ) => void\n}\n\n/* ------------- Component ------------- */\nconst NewPostField: React.FC<NewPostFieldProps> = ({ authProfile, isHomePage, isPostLoading, addPost }) => {\n  const [textArea, setTextArea] = useState('')\n  const [file, setFile] = useState<File | undefined>(undefined)\n  const inputFile = useRef<HTMLInputElement | null>(null)\n  const textAreaElement = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    file !== undefined && textAreaElement.current?.focus()\n  }, [file])\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => setTextArea(e.target.value)\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if(e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      addPost(textArea, file)\n      setFile(undefined)\n      setTextArea('')\n    }\n  }\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFile(e.target.files![0])\n    inputFile.current!.value = ''\n  }\n\n  const handleDeleteFile = () => {\n    setFile(undefined)\n    inputFile.current!.value = ''\n  }\n\n  const PreloaderComponent = (\n    <Preloader position=\"absolute\" height=\"20px\" width=\"20px\" />\n  )\n\n  const InputComponent = (\n    <>\n      <label\n        className={cl.uploadAreaLabel}\n        htmlFor=\"file-input\"\n        children={<FileSvg className={cl.fileSvg} />}\n      />\n      <input\n        ref={inputFile}\n        className={cl.uploadArea}\n        id=\"file-input\"\n        name=\"file-input\"\n        accept=\"image/*\"\n        onChange={handleFileUpload}\n        type=\"file\"\n      />\n    </>\n  )\n\n  return (\n    <div className={cl.newPost}>\n      <div className={cl.avatarContainer}>\n        <Avatar photo={authProfile?.photos?.small} />\n      </div>\n      <div className={cl.textAreaContainer}>\n        <textarea\n          ref={textAreaElement}\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          value={textArea}\n          placeholder={isHomePage ? `What's new` : 'Write something...'}\n          className={cl.textArea}\n        />\n        {file?.name && (\n          <div className={cl.fileDescrBlock}>\n            <div className={cl.fileDescr}>{reduceLine(file.name, 60)}</div>\n            <CrossSvg className={cl.crossSvg} onClick={handleDeleteFile} />\n          </div>\n        )}\n      </div>\n      <div className={cl.fileInput}>\n        {isPostLoading ? (PreloaderComponent) : (InputComponent)}\n      </div>\n    </div>\n  )\n}\n\nexport default NewPostField","import { Link } from \"react-router-dom\"\nimport { CommentSvg, DotsSvg, LikeSvg, ShareSvg } from \"../../../helpers/icons/icons\"\nimport { convertDateFormat } from '../../../helpers/helpers'\nimport Avatar from \"../../Avatar/Avatar\"\nimport cl from './Post.module.scss'\n\n/* ------------- Types ------------- */\ninterface PostProps {\n  postBody: string\n  image: string | null\n  time: string\n  likes: number\n  id: string\n  authorName: string,\n  authorPhoto: string | null,\n  authorId: number,\n  setPost: (id: string, body: string, image: string) => void\n  deletePost: (id: string) => void\n}\n\n/* ------------- Component ------------- */\nconst Post: React.FC<PostProps> = ({\n  authorName,\n  authorPhoto,\n  authorId,\n  postBody,\n  image,\n  time,\n  likes,\n  id,\n  deletePost,\n}) => {\n  const PostBodyComponent = postBody.split('\\n').map((paragraph, index) => \n    <p className={cl.postParagraph} key={index}>{paragraph}</p>)\n\n  const handleDeletePost = () => deletePost(id)\n\n  return (\n    <div className={cl.post}>\n      <div className={cl.postTopRow}>\n        <div className={cl.avatarContainer}>\n          <Avatar photo={authorPhoto} userId={authorId} />\n        </div>\n        <div className={cl.columnBlock}>\n          <Link to={`/profile/${authorId}`} className={cl.profileName}>\n            {authorName}\n          </Link>\n          <time className={cl.date}>{convertDateFormat(time, true)}</time>\n        </div>\n        <div className={cl.dotsSvgContainer}>\n          <ul className={cl.dotsSvgPopUp}>\n            <li onClick={handleDeletePost}>Delete post</li>\n          </ul>\n          <DotsSvg />\n        </div>\n      </div>\n      <div className={cl.postBody}>{PostBodyComponent}</div>\n      {image && <img className={cl.image} src={image} alt=\"\" />}\n      <div className={cl.postBottomBtns}>\n        <div className={cl.btnSvg}>\n          <LikeSvg />\n          <span>{likes}</span>\n        </div>\n        <div className={cl.btnSvg}>\n          <CommentSvg />\n          <span>2</span>\n        </div>\n        <div className={cl.btnSvg}>\n          <ShareSvg />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Post","import React from 'react'\nimport { randomNum } from '../../helpers/helpers'\nimport { AuthenticatedUser } from '../../redux/auth/types'\nimport { PostsType } from '../../redux/posts/types'\nimport { IUser } from '../../redux/users/types'\nimport TabsRowBlock from '../TabsRowBlock/TabsRowBlock'\nimport NewPostField from './NewPostField/NewPostField'\nimport Post from './Post/Post'\n\n/* ------------- Types ------------- */\ninterface PostsBlockProps {\n  friends: IUser[]\n  profileName: string | undefined\n  authProfile: AuthenticatedUser | undefined\n  posts: PostsType\n  isPostLoading: boolean\n  addPost: (body: string, image?: File) => void\n  setPost: (id: string, body: string, image: string) => void\n  deletePost: (id: string) => void\n}\n\n/* ------------- Component ------------- */\nconst PostsBlock: React.FC<PostsBlockProps> = ({\n  friends,\n  profileName,\n  authProfile,\n  posts,\n  isPostLoading,\n  addPost,\n  deletePost,\n  setPost\n}) => {\n  const isHomePage = (profileName === authProfile?.login) ? true : false\n  const isFriendsLoaded = friends.length > 0\n\n  const PostsComponent = isFriendsLoaded && posts.map((post) => {\n    const i = randomNum(friends.length - 1)\n    // if(i % 2 !== 0) return - random posts switch off\n    return <Post\n      key={post.id}\n      authorId={friends[i].id}\n      authorName={friends[i].name}\n      authorPhoto={friends[i].photos.small}\n      id={post.id}\n      postBody={post.body}\n      image={post.image}\n      time={post.createdTime}\n      likes={post.likes}\n      deletePost={deletePost}\n      setPost={setPost}\n    />\n  })\n\n  return (\n    <section>\n      <NewPostField\n        isHomePage={isHomePage}\n        isPostLoading={isPostLoading}\n        addPost={addPost}\n        authProfile={authProfile}\n      />\n      <TabsRowBlock\n        firstTab={['All posts', '#']}\n        secondTab={[`Posts by ${profileName}`, '/users']}\n      />\n      {PostsComponent}\n    </section>\n  )\n}\n\nexport default PostsBlock\n\n","import { connect, ConnectedProps } from \"react-redux\";\nimport { compose } from \"redux\";\nimport {\n  addPostThunk, deletePostThunk, setPostThunk\n} from '../../redux/posts/thunks';\nimport { RootState } from \"../../redux/store\";\nimport { IUser } from \"../../redux/users/types\";\nimport PostsBlock from \"./PostsBlock\";\n\n/* ------------- Component ------------- */\nconst PostsBlockContainer: React.FC<PostsBlockContainerProps & {friends: IUser[]}> = ({\n  posts,\n  friends,\n  profileName,\n  authProfile,\n  isPostLoading,\n  addPostThunk,\n  setPostThunk,\n  deletePostThunk\n}) => {\n  return <PostsBlock\n      friends={friends} \n      posts={posts}\n      profileName={profileName}\n      authProfile={authProfile}\n      isPostLoading={isPostLoading}\n      addPost={addPostThunk}\n      setPost={setPostThunk}\n      deletePost={deletePostThunk}\n    />\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (state: RootState) => {\n  return {\n    posts: state.posts.posts,\n    isPostLoading: state.posts.requests.addPostPending,\n    profileName: state.profile.profile?.fullName,\n    authProfile: state.auth.user\n  }\n}\n\nconst mapDispatchToProps = {\n  addPostThunk,\n  setPostThunk,\n  deletePostThunk,\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype PostsBlockContainerProps = ConnectedProps<typeof connector>\n\nexport default compose(connector)(PostsBlockContainer)","import { addPostApi, deletePostApi, getPostsApi, postImage, setPostApi } from \"../../api/posts\"\nimport { AppDispatch } from \"../store\"\nimport { addPostFailure, addPostRequest, addPostSuccess, deletePostFailure, deletePostRequest, deletePostSuccess, fetchPostsFailure, fetchPostsRequest, fetchPostsSuccess, setPostFailure, setPostRequest, setPostSuccess } from \"./actions\"\n\nexport const fetchPostsThunk = () => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(fetchPostsRequest())\n      const { data } = await getPostsApi()\n      if(!('error' in data)) {\n        const convertedData = data.records.map((record) => ({\n          id: record.id,\n          body: record.fields.body,\n          image: record.fields.image,\n          likes: parseInt(record.fields.likes),\n          createdTime: record.createdTime\n        })).sort((a, b) => new Date(b.createdTime).getTime() - new Date(a.createdTime).getTime())\n        dispatch(fetchPostsSuccess(convertedData))\n      }\n      if('error' in data) {\n        dispatch(fetchPostsFailure(data.error.message))\n      }\n    }catch(e) {\n      dispatch(fetchPostsFailure('An error occurred during fetching posts'))\n    }\n  }\n}\n\nexport const addPostThunk = (postBody: string, file?: File) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(addPostRequest())\n      let image\n      if(file) {\n        const { data } = await postImage(file)\n        image = data.url\n      }\n      const { data } = await addPostApi(postBody, image)\n      if(!('error' in data)) {\n        const convertedData = {\n          ...data.fields,\n          id: data.id,\n          createdTime: data.createdTime\n        }\n        dispatch(addPostSuccess(convertedData))\n      }\n      if('error' in data) {\n        dispatch(addPostFailure(data.error.message))\n      }\n    }catch(e) {\n      dispatch(addPostFailure('An error occurred during adding post'))\n    }\n  }\n}\n\nexport const setPostThunk = (id: string, postBody: string, image: string) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(setPostRequest())\n      const { data } = await setPostApi(id, postBody, image)\n      if(!('error' in data)) {\n        const convertedData = {\n          ...data.fields,\n          id: data.id,\n          createdTime: data.createdTime\n        }\n        dispatch(setPostSuccess(convertedData))\n      }\n      if('error' in data) {\n        dispatch(setPostFailure(data.error.message))\n      }\n    }catch(e) {\n      dispatch(setPostFailure('An error occurred during changing post'))\n    }\n  }\n}\n\nexport const deletePostThunk = (id: string) => {\n  return async (dispatch: AppDispatch) => {\n    try {\n      dispatch(deletePostRequest())\n      let { data } = await deletePostApi(id)\n      if(!('error' in data)) {\n        dispatch(deletePostSuccess(data.id))\n      }\n      if('error' in data) {\n        dispatch(deletePostFailure(data.error.message))\n      }\n    }catch(e) {\n      dispatch(deletePostFailure('An error occurred during deleting post'))\n    }\n  }\n}","import { useEffect, useState } from \"react\";\nimport InfoBlockContainer from \"../../components/InfoBlock/InfoBlockContainer\";\nimport PhotoBlockContainer from \"../../components/PhotoBlock/PhotoBlockContainer\";\nimport FriendsBlock from \"../../components/FriendsBlock/FriendsBlock\";\nimport PostsBlockContainer from \"../../components/PostsBlock/PostsBlockContainer\";\nimport { IUser } from \"../../redux/users/types\";\nimport cl from \"./ProfilePage.module.scss\";\n\n/* ------------- Types ------------- */\ninterface ProfilePageProps {\n  friends: IUser[]\n  totalFriendsCount: number\n}\n\n/* ------------- Component ------------- */\nconst ProfilePage: React.FC<ProfilePageProps> = ({ friends, totalFriendsCount }) => {\n  const [isEdit, setIsEdit] = useState(false)\n\n  useEffect(() => {\n    window.scrollTo({behavior: 'smooth', top: 0})\n  }, [])\n\n  return (\n    <section className={cl.profile}>\n      <div className={cl.leftCol}>\n        <PhotoBlockContainer isEdit={isEdit} setIsEdit={setIsEdit} />\n        <FriendsBlock friendsList={friends.slice(0, 6)} friendsAmount={totalFriendsCount} />\n      </div>\n      <div className={cl.rightCol}>\n        <InfoBlockContainer isEdit={isEdit}/>\n        <PostsBlockContainer friends={friends}/>\n      </div>\n    </section>\n  )\n}\n\nexport default ProfilePage\n\n\n","import React, { useEffect } from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { compose } from 'redux'\nimport ErrorPopUp from '../../components/common/ErrorPopUp/ErrorPopUp'\nimport Preloader from '../../components/common/Preloader/Preloader'\nimport withAuthenticatedRedirect from '../../components/hoc/withAuthRedirect'\nimport { RouteType, withRoute } from '../../components/hoc/withRoute'\nimport { fetchPostsThunk } from '../../redux/posts/thunks'\nimport {\n  fetchUserStatusThunk, getUserProfileThunk\n} from '../../redux/profile/thunks'\nimport { RootState } from '../../redux/store'\nimport { fetchFriendsThunk } from '../../redux/users/thunks'\nimport ProfilePage from './ProfilePage'\n\n/* ------------- Types ------------- */\ninterface ProfilePageContainerApiProps extends ProfilePageContainerProps, RouteType {}\n\n/* ------------- Component ------------- */\nconst ProfilePageContainerApi: React.FC<ProfilePageContainerApiProps> = ({\n  route, \n  authProfileId,\n  friends,\n  totalFriendsCount,\n  fetchFriendsThunk: fetchUsersThunk,\n  getUserProfileThunk,\n  fetchUserStatusThunk,\n  fetchPostsThunk,\n  isProfileFetching,\n  isPostsFetching,\n  toggleFollowOnProfileError,\n  fetchProfileError,\n  setProfileError,\n  setProfileStatusError,\n  setProfilePhotoError,\n  createDialogError,\n}) => {\n  let userId = Number.parseInt(route.params.userId) || authProfileId!\n\n  useEffect(() => {\n    if (!userId) return\n    getUserProfileThunk(userId)\n    fetchUserStatusThunk(userId)\n    fetchUsersThunk(100, '', true)\n  }, [userId, authProfileId, getUserProfileThunk, fetchUserStatusThunk])\n\n  useEffect(() => {\n    fetchPostsThunk()\n  }, [friends])\n\n  if(isProfileFetching || isPostsFetching) {\n    return <Preloader width=\"80px\" height=\"80px\" position=\"absolute\" />\n  }\n\n  return (\n    <>\n      {fetchProfileError && <Navigate to=\"/login\" />}\n      <ErrorPopUp\n        titlesArray={[\n          fetchProfileError,\n          setProfileStatusError,\n          setProfilePhotoError,\n          setProfileError,\n          createDialogError,\n          toggleFollowOnProfileError,\n        ]}\n      />\n      <ProfilePage friends={friends} totalFriendsCount={totalFriendsCount} />\n    </>\n  )\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (state: RootState) => {\n  return {\n    setProfileStatusError: state.profile.requests.setProfileStatusError,\n    setProfilePhotoError: state.profile.requests.setProfilePhotoError,\n    setProfileError: state.profile.requests.setProfileError,\n    fetchProfileError: state.profile.requests.fetchProfileError,\n    createDialogError: state.messenger.requests.createDialogError,\n    toggleFollowOnProfileError: state.profile.requests.toggleFollowOnProfileError,\n    isProfileFetching: state.profile.requests.fetchProfilePending,\n    isPostsFetching: state.posts.requests.fetchPostsPending,\n    dialogs: state.messenger.dialogs,\n    friends: state.users.users.friends.items,\n    totalFriendsCount: state.users.users.friends.totalItemsCount,\n    authProfileId: state.auth.user?.id,\n  }\n}\n\nconst mapDispatchToProps = {\n  getUserProfileThunk,\n  fetchUserStatusThunk,\n  fetchFriendsThunk,\n  fetchPostsThunk\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype ProfilePageContainerProps = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector, withRoute, withAuthenticatedRedirect)(ProfilePageContainerApi)\n","import { AppConstants } from \"./types\"\n\n/* ------------- Types ------------- */\nexport interface AppInitializationSuccess extends ReturnType<typeof appInitializationSuccess> {}\n\nexport type AppAction = AppInitializationSuccess\n\n/* ------------- Actions ------------- */\nexport const appInitializationSuccess = () => {\n  return <const>{ type: AppConstants.APP_INITIALIZATION_SUCCESS }\n}","import React, { useEffect } from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { Route, Routes } from 'react-router-dom'\nimport { compose } from 'redux'\nimport Preloader from './components/common/Preloader/Preloader'\nimport Root from './components/Root/Root'\nimport { withSuspense } from './helpers/helpers'\nimport ProfileContainer from './pages/ProfilePage/ProfilePageContainer'\nimport { initializeAppThunk } from './redux/app/thunks'\nimport { RootState } from './redux/store'\n\nconst MessagesList = React.lazy(() => import('./components/MessagesBlock/MessagesList/MessagesList')) \nconst PeoplePageContainer = React.lazy(() => import('./pages/PeoplePage/PeoplePageContainer'))\nconst MessengerContainer = React.lazy(() => import('./pages/MessengerPage/MessengerPageContainer'))\nconst PeopleContainer = React.lazy(() => import('./components/People/PeopleContainer'))\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'))\nconst Login = React.lazy(() => import('./pages/LoginPage/LoginPage'))\n\n/* ------------- Component ------------- */\nconst App: React.FC<AppContainerProps> = ({ initializeAppThunk, isInitialized }) => {\n  useEffect(() => {\n    initializeAppThunk()\n  }, [initializeAppThunk])\n\n  if(!isInitialized) {\n    return <Preloader width=\"120px\" height=\"120px\" position=\"fixed\" />\n  }\n\n  return (\n    <Routes>\n      <Route path=\"*\" element={<div>404 not found</div>}/>\n      <Route path=\"/login\" element={withSuspense(Login)} />\n      <Route path=\"/\" element={<Root/>}>\n        <Route index element={<ProfileContainer />} />\n        <Route path=\"/profile\">\n          <Route index element={<ProfileContainer />} />\n          <Route path=\":userId\" element={<ProfileContainer />} />\n        </Route>\n        <Route path=\"/messenger\" element={withSuspense(MessengerContainer)}>\n          <Route path=\":userId\" element={withSuspense(MessagesList)} />\n        </Route>\n        <Route path=\"/users\" element={withSuspense(PeoplePageContainer)}>\n          <Route index element={withSuspense(FriendsContainer)}/>\n          <Route path=\"all-people\" element={withSuspense(PeopleContainer)}/>\n        </Route>\n      </Route>\n    </Routes>\n  )\n}\n\n/* ------------- Container ------------- */\nconst mapStateToProps = (store: RootState) => {\n  return {\n    isInitialized: store.app.isInitialized,\n  } \n}\n\nconst mapDispatchToProps = {\n  initializeAppThunk\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps)\ntype AppContainerProps = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector)(App)\n\n","import { getAuthorizedUserThunk } from \"../auth/thunks\"\nimport { appInitializationSuccess } from \"./actions\"\n\nexport const initializeAppThunk = () => {\n  return async(dispatch: any) => {\n    try {\n      Promise.all([dispatch(getAuthorizedUserThunk())])\n      .then(() => dispatch(appInitializationSuccess()))\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}\n","import { AuthAction, SetCurrentUserFailure, SetCurrentUserSuccess } from \"./actions\"\nimport { AuthConstants, AuthenticatedUser } from \"./types\"\n\n/* ------------- State ------------- */\ntype AuthStateType = typeof initialState\nexport interface AuthState extends AuthStateType {}\n\nconst initialState = {\n  user: undefined as AuthenticatedUser | undefined,\n  requests: {\n    setCurrentUserPending: false,\n    setCurrentUserError: null as string | null\n  }\n}\n\n/* ------------- Reducers ------------- */\nconst setCurrentUserRequest = (state: AuthState): AuthState => {\n  return { \n    ...state, \n    requests: {...state.requests, setCurrentUserPending: true} \n  }\n}\n\nconst setCurrentUserSuccess = (state: AuthState, action: SetCurrentUserSuccess): AuthState => {\n    return {\n      ...state,\n      user: {...state.user, ...action.payload},\n      requests: { ...state.requests, setCurrentUserPending: false },\n    }\n}\n\nconst setCurrentUserFailure = (state: AuthState, action: SetCurrentUserFailure): AuthState => {\n  return { \n    ...state, \n    requests: {...state.requests, setCurrentUserPending: false, setCurrentUserError: action.payload}\n  }\n}\n\nconst deleteCurrentUser = (state: AuthState): AuthState => {\n  return {\n    ...state,\n    user: undefined\n  }\n}\n\nconst authReducer = (state = initialState, action: AuthAction): AuthState => {\n  switch (action.type) {\n    case AuthConstants.SET_CURRENT_USER_REQUEST:\n      return setCurrentUserRequest(state)\n    case AuthConstants.SET_CURRENT_USER_SUCCESS:\n      return setCurrentUserSuccess(state, action)\n    case AuthConstants.SET_CURRENT_USER_FAILURE:\n      return setCurrentUserFailure(state, action)\n    case AuthConstants.DELETE_CURRENT_USER:\n      return deleteCurrentUser(state)\n    default:\n      return state\n  }\n}\n\nexport default authReducer\n","import {\n  FetchProfileFailure,\n  FetchProfilePostsFailure,\n  FetchProfilePostsSuccess,\n  FetchProfileSuccess,\n  ProfileAction,\n  SetProfileFailure,\n  SetProfilePhotoSuccess,\n  SetProfileStatusFailure,\n  SetProfileStatusSuccess,\n  ToggleFollowOnProfileFailure,\n} from './actions'\nimport { ProfileConstants, UserProfile } from './types'\n\n/* ------------- State ------------- */\ntype ProfileStateType = typeof initialState\nexport interface ProfileState extends ProfileStateType {}\n\nconst initialState = {\n  profile: undefined as UserProfile | undefined,\n  status: null as string | null,\n  requests: {\n    setProfileStatusPending: false,\n    setProfileStatusError: null as string | null,\n    setProfilePostsPending: false,\n    setProfilePostsError: null as string | null,\n    fetchProfilePending: false,\n    fetchProfileError: null as string | null,\n    setProfilePhotoPending: false,\n    setProfilePhotoError: null as string | null,\n    setProfilePending: false,\n    setProfileError: null as string | null,\n    toggleFollowOnProfileError: null as string | null,\n    toggleFollowOnProfilePending: false\n  },\n}\n\n/* ------------- Reducers ------------- */\nconst fetchProfilePostsRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: { ...state.requests, setProfilePostsPending: true },\n  }\n}\n\nconst fetchProfilePostsSuccess = ( state: ProfileState, action: FetchProfilePostsSuccess ) => {\n  return {\n    ...state,\n    requests: { ...state.requests, setProfilePostsPending: false, },\n    posts: [ ...action.payload ],\n  }\n}\n\nconst fetchProfilePostsFailure = ( state: ProfileState, action: FetchProfilePostsFailure ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePostsPending: false,\n      setProfilePostsError: action.payload,\n    },\n  }\n}\n\nconst fetchProfileRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchProfilePending: true,\n      fetchProfileError: null,\n      setProfileStatusError: null,\n      setProfilePostsError: null,\n      setProfilePhotoError: null,\n      setProfileError: null\n    },\n  }\n}\n\nconst fetchProfileSuccess = ( state: ProfileState, action: FetchProfileSuccess ) => {\n  return {\n    ...state,\n    requests: { ...state.requests, fetchProfilePending: false },\n    profile: { ...state.profile, ...action.payload },\n  }\n}\n\nconst fetchProfileFailure = ( state: ProfileState, action: FetchProfileFailure ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchProfilePending: false,\n      fetchProfileError: action.payload,\n    },\n  }\n}\n\nconst setProfileStatusRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: { ...state.requests, setProfileStatusPending: true, setProfileStatusError: null, },\n  }\n}\n\nconst setProfileStatusSuccess = ( state: ProfileState, action: SetProfileStatusSuccess ) => {\n  return {\n    ...state,\n    requests: { ...state.requests, setProfileStatusPending: false },\n    status: action.payload,\n  }\n}\n\nconst setProfileStatusFailure = ( state: ProfileState, action: SetProfileStatusFailure ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfileStatusPending: false,\n      setProfileStatusError: action.payload,\n    },\n  }\n}\n\nconst setProfilePhotoRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePhotoPending: true,\n      setProfilePhotoError: null\n    }\n  }\n}\n\nconst setProfilePhotoSuccess = (state: ProfileState, action: SetProfilePhotoSuccess) => {\n  return {\n    ...state,\n    profile: {\n      ...state.profile!,\n      photos: {\n        ...state.profile!.photos,\n        ...action.payload\n      }\n    },\n    requests: {\n      ...state.requests,\n      setProfilePhotoPending: false,\n    }\n  }\n}\n\nconst setProfilePhotoFailure = (state: ProfileState, error: string) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePhotoPending: false,\n      setProfilePhotoError: error\n    }\n  }\n}\n\nconst setProfileRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePending: true,\n      setProfileError: null\n    }\n  }\n}\n\nconst setProfileSuccess = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePending: false,\n    }\n  }\n}\n\nconst setProfileFailure = (state: ProfileState, action: SetProfileFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setProfilePending: false,\n      setProfileError: action.payload\n    }\n  }\n}\n\nconst toggleFollowOnProfileRequest = (state: ProfileState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      toggleFollowOnProfileError: null,\n      toggleFollowOnProfilePending: true\n    }\n  }\n}\n\nconst toggleFollowOnProfileSuccess = (state: ProfileState) => {\n  return {\n    ...state,\n    profile: state.profile ? {...state.profile, followed: !state.profile.followed} : undefined,\n    requests: {\n      ...state.requests,\n      toggleFollowOnProfilePending: false\n    }\n  }\n}\n\nconst toggleFollowOnProfileFailure = (state: ProfileState, action: ToggleFollowOnProfileFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      toggleFollowOnProfilePending: false,\n      toggleFollowOnProfileError: action.payload\n    }\n  }\n}\n\n\nexport const profileReducer = (\n  state = initialState,\n  action: ProfileAction\n): ProfileState => {\n  switch (action.type) {\n    case ProfileConstants.FETCH_PROFILE_POSTS_REQUEST:\n      return fetchProfilePostsRequest(state)\n    case ProfileConstants.FETCH_PROFILE_POSTS_SUCCESS:\n      return fetchProfilePostsSuccess(state, action)\n    case ProfileConstants.FETCH_PROFILE_POSTS_FAILURE:\n      return fetchProfilePostsFailure(state, action)\n    case ProfileConstants.FETCH_PROFILE_REQUEST:\n      return fetchProfileRequest(state)\n    case ProfileConstants.FETCH_PROFILE_SUCCESS:\n      return fetchProfileSuccess(state, action)\n    case ProfileConstants.FETCH_PROFILE_FAILURE:\n      return fetchProfileFailure(state, action)\n    case ProfileConstants.SET_PROFILE_STATUS_REQUEST:\n      return setProfileStatusRequest(state)\n    case ProfileConstants.SET_PROFILE_STATUS_SUCCESS:\n      return setProfileStatusSuccess(state, action)\n    case ProfileConstants.SET_PROFILE_STATUS_FAILURE:\n      return setProfileStatusFailure(state, action)\n    case ProfileConstants.SET_PROFILE_PHOTO_REQUEST:\n      return setProfilePhotoRequest(state)\n    case ProfileConstants.SET_PROFILE_PHOTO_SUCCESS:\n      return setProfilePhotoSuccess(state, action)\n    case ProfileConstants.SET_PROFILE_PHOTO_FAILURE:\n      return setProfilePhotoFailure(state, action.payload)\n    case ProfileConstants.SET_PROFILE_REQUEST:\n      return setProfileRequest(state)\n    case ProfileConstants.SET_PROFILE_SUCCESS:\n      return setProfileSuccess(state)\n    case ProfileConstants.SET_PROFILE_FAILURE:\n      return setProfileFailure(state, action)\n    case ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_REQUEST:\n      return toggleFollowOnProfileRequest(state)\n    case ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_SUCCESS:\n      return toggleFollowOnProfileSuccess(state)\n    case ProfileConstants.TOGGLE_FOLLOW_ON_PROFILE_FAILURE:\n      return toggleFollowOnProfileFailure(state, action)\n    default:\n      return state\n  }\n}\n\nexport default profileReducer\n","import { toggleFollow } from '../../helpers/helpers';\nimport {\n  FetchFriendsSuccess, FetchPeopleSuccess, FetchSearchedFriendsSuccess, FetchSearchedPeopleSuccess, FetchUsersFailure, SetFriendsPage, SetFriendsTotalCount, SetPeoplePage, SetPeopleTotalCount, SetSearchedFriendsPage, SetSearchedFriendsTotalCount, SetSearchedPeoplePage, SetSearchedPeopleTotalCount, ToggleFollowOnUserFailure, ToggleFollowOnUserRequest, ToggleFollowOnUserSuccess, UsersAction\n} from './actions';\nimport { IUsersData, UsersConstants } from './types';\n\n/* ------------- Types ------------- */\ntype UsersStateType = typeof initialState\ninterface UsersState extends UsersStateType {}\n\nconst initialState = {\n  users: {\n    friends: { items: [], totalItemsCount: 0, currentPage: 1, },\n    people: { items: [], totalItemsCount: 0, currentPage: 1, }\n  } as IUsersData, \n  searchedUsers: {\n    friends: { items: [], totalItemsCount: 0, currentPage: 1, },\n    people: { items: [], totalItemsCount: 0, currentPage: 1, }\n  } as IUsersData,\n  requests: {\n    toggleFollowOnUserPending: [] as number[],\n    toggleFollowOnUserError: null as string | null,\n    fetchUsersPending: false,\n    fetchUsersError: null as string | null,\n  }\n}\n\n/* ------------- Reducers ------------- */\nconst fetchUsersRequest = (state: UsersState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      toggleFollowOnUserError: null,\n      fetchUsersPending: true,\n      fetchUsersError: null,\n    }\n  }\n}\n\nconst fetchPeopleSuccess = (state: UsersState, action: FetchPeopleSuccess) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      people: { ...state.users.people, items: [...state.users.people.items, ...action.payload] },\n    },\n    requests: {\n      ...state.requests,\n      fetchUsersPending: false,\n    },\n  }\n}\n\nconst fetchFriendsSuccess = (state: UsersState, action: FetchFriendsSuccess) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      friends: { ...state.users.friends, items: [...state.users.friends.items, ...action.payload] }\n    },\n    requests: {\n      ...state.requests,\n      fetchUsersPending: false,\n    },\n  }\n}\n\nconst fetchSearchedPeopleSuccess = (state: UsersState, action: FetchSearchedPeopleSuccess) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.searchedUsers,\n      people: { ...state.searchedUsers.people, items: [...state.searchedUsers.people.items, ...action.payload] },\n    },\n    requests: {\n      ...state.requests,\n      fetchUsersPending: false,\n    },\n  }\n}\n\nconst fetchSearchedFriendsSuccess = (state: UsersState, action: FetchSearchedFriendsSuccess) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.searchedUsers,\n      friends: { ...state.searchedUsers.friends, items: [...state.searchedUsers.friends.items, ...action.payload] },\n    },\n    requests: {\n      ...state.requests,\n      fetchUsersPending: false,\n    },\n  }\n}\n\nconst fetchUsersFailure = (state: UsersState, action: FetchUsersFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchUsersPending: false,\n      fetchUsersError: action.payload\n    }\n  }\n}\n\nconst clearUsersState = (state: UsersState) => {\n  return { \n    ...state,\n    users: {\n      friends: {\n        items: [],\n        totalItemsCount: 0,\n        currentPage: 1,\n      },\n      people: {\n        items: [],\n        totalItemsCount: 0,\n        currentPage: 1,\n      },\n    },\n    searchedUsers: {\n      friends: {\n        items: [],\n        totalItemsCount: 0,\n        currentPage: 1,\n      },\n      people: {\n        items: [],\n        totalItemsCount: 0,\n        currentPage: 1,\n      },\n    },\n  }\n}\n\nconst setPeopleTotalCount = (state: UsersState, action: SetPeopleTotalCount) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      people: { ...state.users.people, totalItemsCount: action.payload }\n    },\n  }\n}\n\nconst setFriendsTotalCount = (state: UsersState, action: SetFriendsTotalCount) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      friends: { ...state.users.friends, totalItemsCount: action.payload }\n    }\n  }  \n}\n\nconst setSearchedPeopleTotalCount = (state: UsersState, action: SetSearchedPeopleTotalCount) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.searchedUsers,\n      people: { ...state.searchedUsers.people, totalItemsCount: action.payload }\n    }\n  }\n}\n\nconst setSearchedFriendsTotalCount = (state: UsersState, action: SetSearchedFriendsTotalCount) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.searchedUsers,\n      friends: { ...state.searchedUsers.friends, totalItemsCount: action.payload }\n    }\n  }\n}\n\nconst setPeoplePage = (state: UsersState, action: SetPeoplePage) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      people: {\n        ...state.users.people,\n        currentPage: action.payload,\n      },\n    },\n  }\n}\n\nconst setFriendsPage = (state: UsersState, action: SetFriendsPage) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      friends: {\n        ...state.users.friends,\n        currentPage: action.payload,\n      },\n    },\n  }\n}\n\nconst setSearchedPeoplePage = (state: UsersState, action: SetSearchedPeoplePage) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.users,\n      people: {\n        ...state.searchedUsers.people,\n        currentPage: action.payload,\n      },\n    },\n  }\n}\n\nconst setSearchedFriendsPage = (state: UsersState, action: SetSearchedFriendsPage) => {\n  return {\n    ...state,\n    searchedUsers: {\n      ...state.users,\n      friends: {\n        ...state.searchedUsers.friends,\n        currentPage: action.payload,\n      },\n    },\n  }\n}\n\nconst toggleFollowOnUserRequest = (state: UsersState, action: ToggleFollowOnUserRequest) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      toggleFollowOnUserError: null,\n      toggleFollowOnUserPending: [...state.requests.toggleFollowOnUserPending, action.payload]\n    }\n  } \n}\n\nconst toggleFollowOnUserSuccess = (state: UsersState, action: ToggleFollowOnUserSuccess) => {\n  return {\n    ...state,\n    users: {\n      ...state.users,\n      friends: { ...state.users.friends, items: toggleFollow(state.users.friends.items, action.payload) },\n      people: { ...state.users.people, items: toggleFollow(state.users.people.items, action.payload) },\n    },\n    searchedUsers: {\n      ...state.searchedUsers,\n      friends: { ...state.searchedUsers.friends, items: toggleFollow(state.searchedUsers.friends.items, action.payload) },\n      people: { ...state.searchedUsers.people, items: toggleFollow(state.searchedUsers.people.items, action.payload) },\n    },\n    requests: {\n      ...state.requests,\n      toggleFollowOnUserPending: [\n        ...state.requests.toggleFollowOnUserPending\n      ].filter((id) => id !== action.payload),\n    },\n  }\n}\n\nconst toggleFollowOnUserError = (state: UsersState, action: ToggleFollowOnUserFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      toggleFollowOnUserError: action.payload.error,\n      toggleFollowOnUserPending: [...state.requests.toggleFollowOnUserPending].filter((id) => id !== action.payload.id)\n    }\n  }\n}\n\nconst usersReducer = (state = initialState, action: UsersAction): UsersState => {\n  switch (action.type) {\n    case UsersConstants.TOGGLE_FOLLOW_ON_USER_REQUEST:\n      return toggleFollowOnUserRequest(state, action)\n    case UsersConstants.TOGGLE_FOLLOW_ON_USER_SUCCESS:\n      return toggleFollowOnUserSuccess(state, action)\n    case UsersConstants.TOGGLE_FOLLOW_ON_USER_FAILURE:\n      return toggleFollowOnUserError(state, action)\n    case UsersConstants.FETCH_USERS_REQUEST:\n      return fetchUsersRequest(state)\n    case UsersConstants.FETCH_PEOPLE_SUCCESS:\n      return fetchPeopleSuccess(state, action)\n    case UsersConstants.FETCH_FRIENDS_SUCCESS:\n      return fetchFriendsSuccess(state, action)\n    case UsersConstants.FETCH_SEARCHED_PEOPLE_SUCCESS:\n      return fetchSearchedPeopleSuccess(state, action)\n    case UsersConstants.FETCH_SEARCHED_FRIENDS_SUCCESS:\n      return fetchSearchedFriendsSuccess(state, action)\n    case UsersConstants.FETCH_USERS_FAILURE:\n      return fetchUsersFailure(state, action)\n    case UsersConstants.SET_PEOPLE_TOTAL_COUNT:\n      return setPeopleTotalCount(state, action)\n    case UsersConstants.SET_FRIENDS_TOTAL_COUNT:\n      return setFriendsTotalCount(state, action)\n    case UsersConstants.SET_SEARCHED_PEOPLE_TOTAL_COUNT:\n      return setSearchedPeopleTotalCount(state, action)\n    case UsersConstants.SET_SEARCHED_FRIENDS_TOTAL_COUNT:\n      return setSearchedFriendsTotalCount(state, action)\n    case UsersConstants.SET_PEOPLE_PAGE:\n      return setPeoplePage(state, action)\n    case UsersConstants.SET_FRIENDS_PAGE:\n      return setFriendsPage(state, action)\n    case UsersConstants.SET_SEARCHED_PEOPLE_PAGE:\n      return setSearchedPeoplePage(state, action)\n    case UsersConstants.SET_SEARCHED_FRIENDS_PAGE:\n      return setSearchedFriendsPage(state, action)\n    case UsersConstants.CLEAR_SEARCHED_USERS_STATE:\n      return clearUsersState(state)\n    default:\n      return state\n  }\n}\n\nexport default usersReducer\n\n","import {\n  CreateDialogFailure,\n  DialogsAction,\n  FetchDialogsFailure,\n  FetchDialogsSuccess,\n  FetchMessagesFailure,\n  FetchMessagesRequest,\n  FetchMessagesSuccess,\n  SendMessageFailure\n} from './actions'\nimport { DialogsConstants, DialogType, MessageType } from './types'\n\n/* ------------- Types ------------- */\ntype MessengerStateType = typeof initialState\ninterface MessengerState extends MessengerStateType {}\n\nconst initialState = {\n  dialogs: [] as DialogType[] | [],\n  messages: {} as {[id: number]: MessageType[]},\n  requests: {\n    fetchDialogsPending: false,\n    fetchDialogsError: null as string | null,\n    fetchMessagesPending: [] as number[],\n    fetchMessagesError: null as string | null,\n    sendMessagePending: false,\n    sendMessageError: null as string | null,\n    createDialogPending: false,\n    createDialogError: null as string | null\n  },\n}\n\n/* ------------- Reducers ------------- */\nconst fetchDialogsRequest = (state: MessengerState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchDialogsPending: true,\n      fetchDialogsError: null,\n    },\n  }\n}\n\nconst fetchDialogsSuccess = ( state: MessengerState, action: FetchDialogsSuccess ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchDialogsPending: false,\n    },\n    dialogs: action.payload,\n  }\n}\n\nconst fetchDialogsFailure = ( state: MessengerState, action: FetchDialogsFailure ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchDialogsPending: false,\n      fetchDialogsError: action.payload,\n    },\n  }\n}\n\nconst fetchMessagesRequest = (state: MessengerState, action: FetchMessagesRequest) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchMessagesPending: [...state.requests.fetchMessagesPending, action.payload],\n      fetchMessagesError: null,\n    },\n  }\n}\n\nconst fetchMessagesSuccess = ( state: MessengerState, action: FetchMessagesSuccess ) => {\n  return {\n    ...state,\n    messages: {...state.messages, [action.payload.id]: action.payload.messages},\n    requests: {\n      ...state.requests,\n      fetchMessagesPending: state.requests.fetchMessagesPending.filter(id => id !== action.payload.id),\n    },\n  }\n}\n\nconst fetchMessagesFailure = ( state: MessengerState, action: FetchMessagesFailure ) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchMessagesPending: state.requests.fetchMessagesPending.filter(id => id !== action.payload.userId),\n      fetchMessagesError: action.payload.error,\n    },\n  }\n}\n\nconst clearMessagesState = (state: MessengerState) => {\n  return {\n    ...state,\n    messages: {},\n    requests: {\n      ...state.requests,\n      fetchMessagesError: null,\n    },\n  }\n}\n\nconst sendMessageRequest = (state: MessengerState) => {\n  return {\n    ...state,\n    requests: {\n    ...state.requests,\n    sendMessagePending: true,\n    sendMessageError: null,\n  },\n  }\n}\n\nconst sendMessageSuccess = (state: MessengerState) => {\n  return {\n    ...state,\n    requests: {\n    ...state.requests,\n    sendMessagePending: false,\n  },\n  }\n}\n\nconst sendMessageFailure = (state: MessengerState, action: SendMessageFailure) => {\n  return {\n    ...state,\n    requests: {\n    ...state.requests,\n    sendMessagePending: false,\n    sendMessageError: action.payload,\n  },\n  }\n}\n\nconst createDialogRequest = (state: MessengerState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      createDialogPending: true,\n      createDialogError: null\n    }\n  }\n}\n\nconst createDialogSuccess = (state: MessengerState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      createDialogPending: false,\n    }\n  }\n}\n\nconst createDialogFailure = (state: MessengerState, action: CreateDialogFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      createDialogPending: false,\n      createDialogError: action.payload\n    }\n  }\n}\n\n\nconst messengerReducer = ( state = initialState, action: DialogsAction ): MessengerState => {\n  switch (action.type) {\n    case DialogsConstants.FETCH_DIALOGS_REQUEST:\n      return fetchDialogsRequest(state)\n    case DialogsConstants.FETCH_DIALOGS_SUCCESS:\n      return fetchDialogsSuccess(state, action)\n    case DialogsConstants.FETCH_DIALOGS_FAILURE:\n      return fetchDialogsFailure(state, action)\n    case DialogsConstants.FETCH_MESSAGES_REQUEST:\n      return fetchMessagesRequest(state, action)\n    case DialogsConstants.FETCH_MESSAGES_SUCCESS:\n      return fetchMessagesSuccess(state, action)\n    case DialogsConstants.FETCH_MESSAGES_FAILURE:\n      return fetchMessagesFailure(state, action)\n    case DialogsConstants.SEND_MESSAGE_REQUEST:\n      return sendMessageRequest(state)\n    case DialogsConstants.SEND_MESSAGE_SUCCESS:\n      return sendMessageSuccess(state)\n    case DialogsConstants.SEND_MESSAGE_FAILURE:\n      return sendMessageFailure(state, action)\n    case DialogsConstants.CREATE_DIALOG_REQUEST: \n      return createDialogRequest(state)\n    case DialogsConstants.CREATE_DIALOG_SUCCESS: \n      return createDialogSuccess(state)\n    case DialogsConstants.CREATE_DIALOG_FAILURE: \n      return createDialogFailure(state, action)\n    case DialogsConstants.CLEAR_MESSAGES_STATE:\n      return clearMessagesState(state)\n    default:\n      return state\n  }\n}\n\nexport default messengerReducer\n","import { AppAction } from './actions';\nimport { AppConstants } from './types';\n\n/* ------------- State ------------- */\ntype AppStateType = typeof initialState\nexport interface AppState extends AppStateType {}\n\nconst initialState = {\n  isInitialized: false,\n}\n\n/* ------------- Reducers ------------- */\nconst appInitializationSuccess = (state: AppState): AppState => {\n  return {\n    ...state, isInitialized: true\n  }\n}\n\nconst appReducer = (state = initialState, action: AppAction):AppState  => {\n  switch (action.type) {\n    case AppConstants.APP_INITIALIZATION_SUCCESS:\n      return appInitializationSuccess(state)\n    default:\n      return state\n  }\n}\n\nexport default appReducer","import { MessageType } from \"../messenger/types\"\nimport { ChatAction, SetMessages, SetStatus } from \"./actions\"\nimport { ChatConstants, StatusType } from \"./types\"\n\n/* ------------- State ------------- */\ntype ChatStateType = typeof initialState\nexport interface ChatState extends ChatStateType {}\n\nconst initialState = {\n  messages: [] as MessageType[],\n  requests: {\n    fetchChatMessagesStatus: 'pending' as StatusType,\n  }\n}\n\n/* ------------- Reducers ------------- */\nconst setMessages = (state: ChatState, action: SetMessages): ChatState => {\n  return {\n    ...state, \n    messages: [...state.messages, ...action.payload]\n  }\n}\n\nconst setStatus = (state: ChatState, action: SetStatus): ChatState => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchChatMessagesStatus: action.payload\n    }\n  }\n}\n\nconst clearMessagesState = (state: ChatState): ChatState => {\n  return {\n    ...state,\n    messages: []\n  }\n}\n\nconst chatReducer = (state = initialState, action: ChatAction): ChatState => {\n  switch (action.type) {\n    case ChatConstants.SET_MESSAGES:\n      return setMessages(state, action)\n    case ChatConstants.SET_STATUS:\n      return setStatus(state, action)\n    case ChatConstants.CLEAR_MESSAGES_STATE:\n      return clearMessagesState(state)\n    default:\n      return state\n  }\n}\n\nexport default chatReducer\n","import { AddPostFailure, AddPostSuccess, DeletePostFailure, DeletePostSuccess, FetchPostsFailure, FetchPostsSuccess, PostsAction, SetPostFailure, SetPostSuccess } from \"./actions\";\nimport { PostsConstants, PostsType } from \"./types\";\n\n/* ------------- Types ------------- */\ntype PostsStateType = typeof initialState\ninterface PostsState extends PostsStateType {}\n\nconst initialState = {\n  posts: [] as PostsType,\n  requests: {\n    fetchPostsPending: false,\n    fetchPostsError: null as string | null,\n    addPostPending: false,\n    addPostError: null as string | null,\n    setPostPending: false,\n    setPostError: null as string | null,\n    deletePostPending: false,\n    deletePostError: null as string | null\n  }\n}\n\n/* ------------- Reducers ------------- */\nconst fetchPostsRequest = (state: PostsState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchPostsPending: true,\n      fetchPostsError: null,\n    }   \n  }\n}\n\nconst fetchPostsSuccess = (state: PostsState, action: FetchPostsSuccess) => {\n  return {\n    ...state,\n    posts: action.payload,\n    requests: {\n      ...state.requests,\n      fetchPostsPending: false\n    }\n  }\n}\n\nconst fetchPostsFailure = (state: PostsState, action: FetchPostsFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      fetchPostsPending: false,\n      fetchPostsError: action.payload\n    }\n  }\n}\n\nconst addPostRequest = (state: PostsState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      addPostPending: true,\n      addPostError: null, \n    }\n  }\n}\n\nconst addPostSuccess = (state: PostsState, action: AddPostSuccess) => {\n  return {\n    ...state,\n    posts: [action.payload, ...state.posts],\n    requests: {\n      ...state.requests,\n      addPostPending: false\n    }\n  }\n}\n\nconst addPostFailure = (state: PostsState, action: AddPostFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      addPostPending: false,\n      addPostError: action.payload,\n    }\n  }\n}\n\nconst setPostRequest = (state: PostsState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setPostPending: true,\n      setPostError: null,\n    }\n  }\n}\n\nconst setPostSuccess = (state: PostsState, action: SetPostSuccess) => {\n  return {\n    ...state,\n    posts: [...state.posts, action.payload],\n    requests: {\n      ...state.requests,\n      setPostPending: false\n    }\n  }\n}\n\nconst setPostFailure = (state: PostsState, action: SetPostFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      setPostPending: false,\n      setPostError: action.payload,\n    }\n  }\n}\n\nconst deletePostRequest = (state: PostsState) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      deletePostPending: true,\n      deletePostError: null\n    }\n  }\n}\n\nconst deletePostSuccess = (state: PostsState, action: DeletePostSuccess) => {\n  return {\n    ...state,\n    posts: state.posts.filter(post => post.id !== action.payload),\n    requests: {\n      ...state.requests,\n      deletePostPending: false,\n    }\n  }\n}\n\nconst deletePostFailure = (state: PostsState, action: DeletePostFailure) => {\n  return {\n    ...state,\n    requests: {\n      ...state.requests,\n      deletePostPending: false,\n      deletePostError: action.payload\n    }\n  }\n}\n\nconst postsReducer = (state = initialState, action: PostsAction) => {\n  switch(action.type) {\n    case PostsConstants.FETCH_POSTS_REQUEST:\n      return fetchPostsRequest(state)\n    case PostsConstants.FETCH_POSTS_SUCCESS: \n      return fetchPostsSuccess(state, action)\n    case PostsConstants.FETCH_POSTS_FAILURE: \n      return fetchPostsFailure(state, action)\n    case PostsConstants.ADD_POST_REQUEST: \n      return addPostRequest(state)\n    case PostsConstants.ADD_POST_SUCCESS: \n      return addPostSuccess(state, action)\n    case PostsConstants.ADD_POST_FAILURE: \n      return addPostFailure(state, action)\n    case PostsConstants.SET_POST_REQUEST: \n      return setPostRequest(state)\n    case PostsConstants.SET_POST_SUCCESS: \n      return setPostSuccess(state, action)\n    case PostsConstants.SET_POST_FAILURE: \n      return setPostFailure(state, action)\n    case PostsConstants.DELETE_POST_REQUEST: \n      return deletePostRequest(state)\n    case PostsConstants.DELETE_POST_SUCCESS: \n      return deletePostSuccess(state, action)\n    case PostsConstants.DELETE_POST_FAILURE: \n      return deletePostFailure(state, action)\n    default:\n      return state\n  }\n}\n\nexport default postsReducer","import { composeWithDevTools } from 'redux-devtools-extension'\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport authReducer from './auth/reducer'\nimport profileReducer from './profile/reducer'\nimport usersReducer from './users/reducer'\nimport messengerReducer from './messenger/reducer'\nimport appReducer from './app/reducer' \nimport chatReducer from './chat/reducer'\nimport postsReducer from './posts/reducer'\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  profile: profileReducer,\n  users: usersReducer,\n  app: appReducer,  \n  messenger: messengerReducer,\n  chat: chatReducer,\n  posts: postsReducer\n})\n\nconst composedEnhancers = composeWithDevTools(applyMiddleware(thunk))\n\nexport const store = createStore(\n  rootReducer, composedEnhancers\n)\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","import React from 'react'\nimport { createRoot } from 'react-dom/client';\nimport { Provider } from 'react-redux'\nimport { HashRouter as Router } from 'react-router-dom'\nimport App from './App'\nimport { store } from './redux/store'\nimport './sassStyles/global.scss'\nimport './sassStyles/typography.scss'\n\nconst container = document.getElementById('root')\nconst root = createRoot(container!)\n\nroot.render(\n  <Router> {/* for deploy */}\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </Router>\n)\n\n\n"],"sourceRoot":""}