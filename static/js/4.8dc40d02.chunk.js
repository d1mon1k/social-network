(this["webpackJsonpreact-samurai-way"]=this["webpackJsonpreact-samurai-way"]||[]).push([[4],{137:function(e,s,t){"use strict";var r=t(2);s.a=function(e,s,t){var n=Object(r.useRef)(null),i=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(!e&&i){n.current&&n.current.disconnect();n.current=new IntersectionObserver((function(r){r[0].isIntersecting&&!s&&!e&&t()})),n.current.observe(i.current)}}),[e,i,t,s]),i}},138:function(e,s,t){e.exports={userItem:"UserItem_userItem__3mGVj",infoColumn:"UserItem_infoColumn__10dNY",userName:"UserItem_userName__3z7mB",userStatus:"UserItem_userStatus__3iMXw",newMessageBtn:"UserItem_newMessageBtn__1mfCA",userPhoto:"UserItem_userPhoto__2AdjR",btnContainer:"UserItem_btnContainer__298Wa",unfollowBtn:"UserItem_unfollowBtn__1hE1t"}},139:function(e,s,t){e.exports={usersSection:"UsersList_usersSection__21yXH",title:"UsersList_title__1n9mR",usersList:"UsersList_usersList__2FCmk",preloaderContainer:"UsersList_preloaderContainer__3QeBb",pagination:"UsersList_pagination__2DsNo",paginationContainer:"UsersList_paginationContainer__2sMGg",paginationItem:"UsersList_paginationItem__3aLNY",active:"UsersList_active__1suvb",paginationSlider:"UsersList_paginationSlider__R8DCx"}},140:function(e,s,t){"use strict";var r=t(3),n=t(9),i=t(4),a=t(11),c=t(50),o=t(138),u=t.n(o),l=t(10),g=t(34),d=t(19),h=t(0),b=function(e){var s=e.user,t=e.isFollowing,o=e.toggleFollowOnUser,b=e.createDialog,f=Object(i.i)(),_=Object(a.c)(s.name),m=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(s.id);case 2:f("/messenger/".concat(s.id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:u.a.userItem,children:[Object(h.jsx)(d.a,{photo:s.photos.small||c.a,userId:s.id}),Object(h.jsxs)("div",{className:u.a.infoColumn,children:[Object(h.jsx)(l.b,{to:"/profile/".concat(s.id),children:Object(h.jsx)("div",{className:u.a.userName,children:_})}),Object(h.jsx)("div",{className:u.a.userStatus,children:(s.status?Object(a.e)(s.status,40):null)||"".concat(_," has no status")}),Object(h.jsx)("div",{onClick:m,className:u.a.newMessageBtn,children:"Write message"})]}),Object(h.jsx)(g.a,{disabled:t.some((function(e){return e===s.id})),callBack:function(){return o(s.id,s.followed)},children:s.followed?"Unfollow":"Follow"})]})},f=t(139),_=t.n(f);s.a=function(e){var s=e.usersList,t=e.createDialog,r=e.isSubscribePending,n=e.toggleFollowOnUser;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:_.a.usersList,children:s.map((function(e){return Object(h.jsx)(b,{user:e,isFollowing:r,toggleFollowOnUser:n,createDialog:t},e.id)}))})})}},151:function(e,s,t){"use strict";t.r(s);var r=t(18),n=t(17),i=t(137),a=t(20),c=t(140),o=t(0),u=function(e){var s=e.usersData,t=e.searchInput,r=e.isSubscribePending,n=e.isUsersFetching,u=e.toggleFollowOnUser,l=e.createDialog,g=e.maxPageItemsCount,d=e.fetchUsers,h=s.items,b=s.totalItemsCount===s.items.length,f=d.bind(null,g,t,!0),_=Object(i.a)(n,b,f);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(c.a,{usersList:h,isSubscribePending:r,toggleFollowOnUser:u,createDialog:l}),n?Object(o.jsx)(a.a,{width:"50px",height:"50px",position:"absolute"}):Object(o.jsx)("div",{style:{height:"1px"},ref:_})]})},l=t(41),g=t(79),d=t(12),h=t(4),b=t(2),f={toggleFollowOnUserThunk:g.e,createDialogThunk:l.a,fetchFriendsThunk:g.a,fetchSearchedFriendsThunk:g.c,clearSearchedUsersState:d.a},_=Object(r.b)((function(e){return{usersPage:e.users.users.friends.currentPage,searchedUsersPage:e.users.searchedUsers.friends.currentPage,usersList:e.users.users.friends,searchedUsersList:e.users.searchedUsers.friends,isSubscribePending:e.users.requests.toggleFollowOnUserPending,isUsersFetching:e.users.requests.fetchUsersPending}}),f);s.default=Object(n.compose)(_)((function(e){var s=e.usersList,t=e.searchedUsersList,r=e.isSubscribePending,n=e.isUsersFetching,i=e.toggleFollowOnUserThunk,a=e.createDialogThunk,c=e.fetchFriendsThunk,l=e.fetchSearchedFriendsThunk,g=e.clearSearchedUsersState,d=Object(h.j)().searchInput,f=d.length?l:c;return Object(b.useEffect)((function(){window.scrollBy({behavior:"smooth",top:-9999999}),g(),f(10,d,!0)}),[d,c,g,f]),Object(o.jsx)(u,{searchInput:d,usersData:d.length?t:s,createDialog:a,isSubscribePending:r,toggleFollowOnUser:i,isUsersFetching:n,maxPageItemsCount:10,fetchUsers:f})}))}}]);
//# sourceMappingURL=4.8dc40d02.chunk.js.map