"use strict";(self.webpackChunkreact_samurai_way=self.webpackChunkreact_samurai_way||[]).push([[174],{5174:function(e,s,r){r.r(s),r.d(s,{default:function(){return k}});var t=r(9439),n=r(2791),u=r(6007),a=r(4132),o=r(364),c=r(7781),l=r(3504),i=r(6871),g=r(7968),h=r(1182),f=r(9753),d="PeoplePage_usersIFollowSection__J-2O9",P="PeoplePage_usersSection__b6PEL",p="PeoplePage_searchInput__x+D6h",U="PeoplePage_usersList__VSso0",x="PeoplePage_usersNav__D4dSu",v="PeoplePage_usersNavItem__L+8kB",_="PeoplePage_active__v8x+u",m=r(184),w=function(e){var s=e.totalUsersCount,r=e.currentPage,t=e.maxPageItemsCount,u=e.usersList,a=e.searchInput,o=e.navigate,c=e.pathName,l=e.isUsersFetching,x=e.isSubscribePending,v=e.toggleFollowOnUser,_=e.setCurrentPage,w=e.setSearchInput,b=e.createDialogThunk,F=(0,n.useRef)(null),C=(0,n.useRef)(null),N=(0,n.useRef)(c);(0,n.useEffect)((function(){if(!l){C.current&&C.current.disconnect();C.current=new IntersectionObserver((function(e){e[0].isIntersecting&&r<(0,f.vY)(s,t)&&N.current===c&&_(r+1),N.current=c})),C.current.observe(F.current)}}),[l,c]);return(0,m.jsxs)("section",{className:d,children:[(0,m.jsxs)("section",{className:P,children:[(0,m.jsx)(h.Z,{firstTabName:"All developers ",secondTabName:"Friends",totalCount:s,callBack:function(){return o("/people")}}),(0,m.jsx)("input",{placeholder:"Search users I follow",className:p,type:"text",value:a,onChange:function(e){return w(e.target.value)}}),(0,m.jsx)("div",{className:U,children:(0,m.jsx)(i.j3,{context:{usersList:u,isSubscribePending:x,toggleFollowOnUser:v,createDialogThunk:b}})}),l?(0,m.jsx)(g.Z,{width:"50px",height:"50px",position:"absolute"}):(0,m.jsx)("div",{ref:F})]}),(0,m.jsx)(j,{})]})},j=function(){return(0,m.jsxs)("nav",{className:x,children:[(0,m.jsx)(l.OL,{to:"friends",className:(0,f.Xz)(v,_),children:"People I follow"}),(0,m.jsx)(l.OL,{to:"/people",end:!0,className:(0,f.Xz)(v,_),children:"Find Developers"}),(0,m.jsx)("div",{className:v,children:"Placeholder"}),(0,m.jsx)("div",{className:v,children:"Placeholder"}),(0,m.jsx)("div",{className:v,children:"Placeholder"})]})},b=r(4384),F=r(3858),C=r(6721),N={clearUsersState:a.P2,setCurrentUsersPage:a.eg,fetchUsersThunk:u.S,toggleFollowOnUserThunk:u.H,createDialogThunk:C.zd},S=(0,o.$j)((function(e){return{usersList:e.users.users,currentPage:e.users.currentUsersPage,totalUsersCount:e.users.totalUsersCount,isUsersFetching:e.users.requests.fetchUsersPending,isSubscribePending:e.users.requests.toggleFollowOnUserPending,toggleFollowOnUserError:e.users.requests.toggleFollowOnUserError,fetchUsersError:e.users.requests.fetchUsersError}}),N),k=(0,c.qC)(S,b.l)((function(e){var s=e.route,r=e.usersList,u=e.currentPage,a=e.totalUsersCount,o=e.isSubscribePending,c=e.isUsersFetching,l=e.fetchUsersError,i=e.toggleFollowOnUserError,g=e.clearUsersState,h=e.setCurrentUsersPage,f=e.fetchUsersThunk,d=e.toggleFollowOnUserThunk,P=e.createDialogThunk,p=s.location.pathname,U=s.navigate,x=(0,n.useState)(""),v=(0,t.Z)(x,2),_=v[0],j=v[1],b=(0,n.useRef)(p);return(0,n.useEffect)((function(){return function(){g()}}),[g]),(0,n.useEffect)((function(){g(),window.scrollTo(0,0)}),[_]),(0,n.useEffect)((function(){g()}),[p]),(0,n.useEffect)((function(){if(b.current!==p&&u>1)b.current=p;else if(!c)switch(b.current=p,p){case"/people":return void f(u,15,_);case"/people/friends":return void f(u,15,_,!0)}}),[u,_,p,f]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(F.W,{titlesArray:[i,l]}),(0,m.jsx)(w,{pathName:p,searchInput:_,currentPage:u,maxPageItemsCount:15,isUsersFetching:c,totalUsersCount:a,usersList:r,isSubscribePending:o,navigate:U,setSearchInput:j,toggleFollowOnUser:d,createDialogThunk:P,setCurrentPage:h})]})}))}}]);
//# sourceMappingURL=174.37156fd0.chunk.js.map