"use strict";(self.webpackChunkreact_samurai_way=self.webpackChunkreact_samurai_way||[]).push([[174],{5174:function(e,s,r){r.r(s),r.d(s,{default:function(){return N}});var t=r(9439),n=r(2791),a=r(6007),u=r(4132),o=r(364),c=r(7781),l=r(3504),i=r(6871),g=r(6516),h=r(7968),d=r(9753),P={usersIFollowSection:"PeoplePage_usersIFollowSection__J-2O9",usersSection:"PeoplePage_usersSection__b6PEL",usersTabs:"PeoplePage_usersTabs__5frjD",tabItem:"PeoplePage_tabItem__aN0Lj",active:"PeoplePage_active__v8x+u",totalCount:"PeoplePage_totalCount__lc8w5",tabsRow:"PeoplePage_tabsRow__+HUS7",searchInput:"PeoplePage_searchInput__x+D6h",usersList:"PeoplePage_usersList__VSso0",usersNav:"PeoplePage_usersNav__D4dSu",usersNavItem:"PeoplePage_usersNavItem__L+8kB"},f=r(184),v=function(e){var s=e.totalUsersCount,r=e.currentPage,t=e.maxPageItemsCount,a=e.usersList,u=e.searchInput,o=e.navigate,c=e.pathName,l=e.isUsersFetching,g=e.isSubscribePending,v=e.toggleFollowOnUser,x=e.setCurrentPage,_=e.setSearchInput,U=e.createDialogThunk,j=(0,n.useRef)(null),I=(0,n.useRef)(null),N=(0,n.useRef)(c);(0,n.useEffect)((function(){if(!l){I.current&&I.current.disconnect();I.current=new IntersectionObserver((function(e){e[0].isIntersecting&&r<(0,d.vY)(s,t)&&N.current===c&&x(r+1),N.current=c})),I.current.observe(j.current)}}),[l,c]);return(0,f.jsxs)("section",{className:P.usersIFollowSection,children:[(0,f.jsxs)("section",{className:P.usersSection,children:[(0,f.jsx)(p,{totalUsersCount:s,navigate:o}),(0,f.jsx)("input",{placeholder:"Search users I follow",className:P.searchInput,type:"text",value:u,onChange:function(e){return _(e.target.value)}}),(0,f.jsx)("div",{className:P.usersList,children:(0,f.jsx)(i.j3,{context:{usersList:a,isSubscribePending:g,toggleFollowOnUser:v,createDialogThunk:U}})}),l?(0,f.jsx)(h.Z,{width:"50px",height:"50px",position:"absolute"}):(0,f.jsx)("div",{ref:j})]}),(0,f.jsx)(m,{})]})},p=function(e){var s=e.totalUsersCount,r=e.navigate;return(0,f.jsxs)("div",{className:P.usersTabs,children:[(0,f.jsxs)("div",{className:P.tabsRow,children:[(0,f.jsxs)("div",{className:"".concat(P.tabItem," ").concat(P.active),children:[(0,f.jsx)("span",{children:"All developers "}),(0,f.jsx)("span",{className:P.totalCount,children:s})]}),(0,f.jsx)("div",{className:P.tabItem,children:"Developers online"})]}),(0,f.jsx)("div",{className:P.buttonContainer,children:(0,f.jsx)(g.Z,{callBack:function(){return r("/people")},children:"Find developers"})})]})},m=function(){return(0,f.jsxs)("nav",{className:P.usersNav,children:[(0,f.jsx)(l.OL,{to:"friends",className:(0,d.Xz)(P.usersNavItem,P.active),children:"People I follow"}),(0,f.jsx)(l.OL,{to:"/people",end:!0,className:(0,d.Xz)(P.usersNavItem,P.active),children:"Find Developers"}),(0,f.jsx)("div",{className:P.usersNavItem,children:"Placeholder"}),(0,f.jsx)("div",{className:P.usersNavItem,children:"Placeholder"}),(0,f.jsx)("div",{className:P.usersNavItem,children:"Placeholder"})]})},x=r(4384),_=r(3858),U=r(6721),j={clearUsersState:u.P2,setCurrentUsersPage:u.eg,fetchUsersThunk:a.S,toggleFollowOnUserThunk:a.H,createDialogThunk:U.zd},I=(0,o.$j)((function(e){return{usersList:e.users.users,currentPage:e.users.currentUsersPage,maxPageItemsCount:e.users.maxPageItemsCount,totalUsersCount:e.users.totalUsersCount,isUsersFetching:e.users.requests.fetchUsersPending,isSubscribePending:e.users.requests.toggleFollowOnUserPending,toggleFollowOnUserError:e.users.requests.toggleFollowOnUserError,fetchUsersError:e.users.requests.fetchUsersError}}),j),N=(0,c.qC)(I,x.l)((function(e){var s=e.route,r=e.usersList,a=e.currentPage,u=e.totalUsersCount,o=e.maxPageItemsCount,c=e.isSubscribePending,l=e.isUsersFetching,i=e.fetchUsersError,g=e.toggleFollowOnUserError,h=e.clearUsersState,d=e.setCurrentUsersPage,P=e.fetchUsersThunk,p=e.toggleFollowOnUserThunk,m=e.createDialogThunk,x=s.location.pathname,U=s.navigate,j=(0,n.useState)(""),I=(0,t.Z)(j,2),N=I[0],b=I[1],w=(0,n.useRef)(x);return(0,n.useEffect)((function(){return function(){h()}}),[h]),(0,n.useEffect)((function(){h(),window.scrollTo(0,0)}),[N]),(0,n.useEffect)((function(){h()}),[x]),(0,n.useEffect)((function(){if(w.current!==x&&a>1)w.current=x;else if(!l)switch(w.current=x,x){case"/people":return void P(a,N);case"/people/friends":return void P(a,N,!0)}}),[a,N,x,P]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.W,{titlesArray:[g,i]}),(0,f.jsx)(v,{pathName:x,searchInput:N,currentPage:a,maxPageItemsCount:o,isUsersFetching:l,totalUsersCount:u,usersList:r,isSubscribePending:c,navigate:U,setSearchInput:b,toggleFollowOnUser:p,createDialogThunk:m,setCurrentPage:d})]})}))}}]);
//# sourceMappingURL=174.9e3b8a12.chunk.js.map