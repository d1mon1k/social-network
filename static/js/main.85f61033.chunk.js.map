{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.scss","components/NavBar/NavBar.module.scss","components/Users/Users.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","components/Users/User/User.module.scss","components/Dialogs/Dialogs.module.scss","components/Dialogs/Message/Message.module.scss","components/Login/Login.module.scss","components/Header/Header.module.scss","components/Common/FieldWithValidation/FieldWithValidation.module.scss","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.scss","components/Avatar/Avatar.module.scss","components/Common/MyButton/MyButton.module.scss","components/Common/Preloader/Preloader.module.scss","store/types/auth-types.ts","store/reducers/auth-reducer.ts","store/types/dialogs-types.ts","store/reducers/dialogs-reducer.ts","store/types/profile-types.ts","store/reducers/profile-reducer.ts","store/types/users-types.ts","store/reducers/sidebar-reducer.ts","store/reducers/users-reducer.ts","store/types/app-types.ts","store/reducers/app-reducer.ts","store/store.ts","components/NavBar/NavBar.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Settings/Settings.tsx","HOCs/withAuthRedirect.tsx","components/Avatar/Avatar.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","store/action-creators/dialogs-ac.ts","API/serviceAPI.ts","store/action-creators/users-ac.ts","components/Common/MyButton/MyButton.tsx","components/Users/User/User.tsx","assets/images/jpeg/no-photo.jpg","components/Users/Users.tsx","assets/images/svg/preloader.svg","components/Common/Preloader/Preloader.tsx","components/Users/UsersContainer.tsx","store/action-creators/profile-ac.ts","helpers/helpers.ts","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/ProfileContainer.tsx","HOCs/withRoute.tsx","store/action-creators/auth-ac.ts","assets/images/png/logo.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Common/FieldWithValidation/FieldWithValidation.tsx","helpers/validation.ts","components/Login/Login.tsx","App.tsx","store/action-creators/app-ac.ts","index.tsx"],"names":["module","exports","AuthActionTypes","DialogsActionTypes","initialState","data","id","login","email","messages","fieldsError","resultCode","isAuth","isFetching","error","ProfileActionTypes","nextTodoId","todos","reduce","maxId","todo","Math","max","text","dialogs","name","lastMessage","counter","time","UsersActionTypes","posts","message","newPost","profile","status","friends","avatar","AppActionTypes","users","totalCount","pageItemsCount","currentPage","isFollowing","isInitialized","rootReducer","combineReducers","dialogsPage","state","action","type","SET_MESSAGES","newMessage","payload","profilePage","SET_PROFILE_NEW_POST","SET_PROFILE_POSTS","Date","now","SET_PROFILE_STATUS","FETCH_PROFILE","FETCH_PROFILE_SUCCESS","FETCH_PROFILE_ERROR","sidebar","usersPage","TOGGLE_FOLLOW","map","user","followed","SET_USERS","SET_TOTAL_COUNT","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","some","num","filter","auth","SET_CURRENT_USER","DELETE_CURRENT_USER","FETCHING_ERROR","FETCHING_SUCCESS","IS_FETCHING","app","INITIALIZED_SUCCESS","composedEnhancers","composeWithDevTools","applyMiddleware","thunk","store","createStore","window","getState","NavBar","isActiveLink","isActive","cl","aside__link","active","join","className","aside","mainNav","list","aside__item","to","end","Music","News","Settings","mapStateToProps","Avatar","img","src","alt","DialogItem","props","date","prepareLine","line","length","substring","userLink","getHours","getMinutes","messageCounter","Message","messageColumn","ReduxForm","onPressHandler","e","key","shiftKey","document","getElementById","dispatchEvent","Event","cancelable","bubbles","preventDefault","onSubmit","values","setMessages","render","handleSubmit","placeholder","component","onKeyPress","Dialogs","isReverse","dialog","dialogsWrapper","dialogBlock","conversationWrapper","conversation","actionCreators","connector","connect","compose","Component","instance","axios","create","baseURL","withCredentials","headers","UsersAPI","get","then","response","post","delete","userId","console","warn","ProfileAPI","getUserProfile","res","put","AuthAPI","authData","toggleUserFollow","setUsers","setTotalCount","setCurrentPage","toggleIsFetching","toggleIsFollowing","MyButton","callBack","btn","onClick","children","User","userItem","userPhotoWrap","userPhoto","photos","small","infoColumn","userName","userLocation","followButton","disabled","userUnFollow","userFollow","Users","pagesCount","ceil","pagesCountArr","i","push","pageNumbers","numberStyle","paginationItem","usersSection","title","pagination","paginationBtn","paginationContainer","paginationSlider","usersList","Preloader","preloader","UsersContainerAPI","changeCurrentPage","this","getUsers","React","dispatch","items","unFollowUser","followUser","setStatus","improveFullName","fullName","arr","split","el","substr","toUpperCase","ProfileStatus","toggleEditMode","authProfileId","curUserId","setState","editMode","onStatusChangeHandler","target","value","onEnterPressHandler","prevProps","prevState","statusEmpty","onChange","autoFocus","onBlur","ProfileInfo","profileInfo","leftCol","photoBlock","photo","large","rightCol","info","primaryInfo","additionalInfo","firstCol","contacts","facebook","github","vk","instagram","twitter","ProfileContainerAPI","Number","parseInt","route","params","getProfile","getUserStatus","setUserStatus","a","getStatus","log","Error","match","useMatch","navigate","useNavigate","location","useLocation","useParams","setCurrentUserAC","currentUserData","fetchingErrorAC","getAuthUser","authUser","Header","loginTag","authLogout","header","logoContainer","href","logo","currentUser","HeaderContainerApi","FieldWithValidation","Element","validators","validate","validator","undefined","composeValidators","input","meta","touched","field","textArea","required","tooltip","stringMaxLength","authLogin","errorCallBack","FORM_ERROR","LoginContainer","submissionError","submitHandler","form","container","fieldsCol","submitError","button","initializeApp","getUserPromise","Promise","all","useEffect","HeaderContainer","path","element","ProfileContainer","index","DialogsContainer","UsersContainer","reactDom"],"mappings":"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","file":"static/js/main.85f61033.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__14aF3\",\"rightCol\":\"ProfileInfo_rightCol__3DWmo\",\"photoBlock\":\"ProfileInfo_photoBlock__1vimJ\",\"photo\":\"ProfileInfo_photo__2z-Lj\",\"info\":\"ProfileInfo_info__2nY6a\",\"primaryInfo\":\"ProfileInfo_primaryInfo__3fnox\",\"additionalInfo\":\"ProfileInfo_additionalInfo__Dwpfg\",\"firstCol\":\"ProfileInfo_firstCol__21G96\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"NavBar_aside__2tt-g\",\"list\":\"NavBar_list__3cP2a\",\"aside__link\":\"NavBar_aside__link__VW5Qk\",\"active\":\"NavBar_active__3Tb7-\",\"mainNav\":\"NavBar_mainNav__3Offn\",\"friendsTitle\":\"NavBar_friendsTitle__2vRrD\",\"friendsList\":\"NavBar_friendsList__3cfjS\",\"friend\":\"NavBar_friend__IAV0v\",\"friendLink\":\"NavBar_friendLink__1J3YZ\",\"friendAva\":\"NavBar_friendAva__2qG0g\",\"friendName\":\"NavBar_friendName__4nXE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Users_title__1fwbq\",\"usersList\":\"Users_usersList__3zFIw\",\"pagination\":\"Users_pagination__1gmGs\",\"paginationContainer\":\"Users_paginationContainer__1Q34j\",\"paginationItem\":\"Users_paginationItem__1ap7q\",\"active\":\"Users_active__1vbZf\",\"paginationSlider\":\"Users_paginationSlider__1HQUA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userLink\":\"DialogItem_userLink__3QwP0\",\"active\":\"DialogItem_active__JdILs\",\"time\":\"DialogItem_time__3OVbh\",\"message\":\"DialogItem_message__1xHjy\",\"messageCounter\":\"DialogItem_messageCounter__2w9FU\",\"avatar\":\"DialogItem_avatar__37g2d\",\"name\":\"DialogItem_name__3bTWk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"User_userItem__1f0fK\",\"userPhoto\":\"User_userPhoto__28SiU\",\"infoColumn\":\"User_infoColumn__1YgmI\",\"userLocation\":\"User_userLocation__kCUD4\",\"followButton\":\"User_followButton__2PxYZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsPage\":\"Dialogs_dialogsPage__2t9Z2\",\"dialogs\":\"Dialogs_dialogs__2Gkkf\",\"dialogBlock\":\"Dialogs_dialogBlock__3a0m7\",\"dialogsWrapper\":\"Dialogs_dialogsWrapper__1J6-q\",\"conversationWrapper\":\"Dialogs_conversationWrapper__20-Xe\",\"conversation\":\"Dialogs_conversation__3Ls8B\",\"newMessage\":\"Dialogs_newMessage__mqQIJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageColumn\":\"Message_messageColumn__2Zpyg\",\"avatar\":\"Message_avatar__1D9X4\",\"name\":\"Message_name__3_vFm\",\"time\":\"Message_time__15w3g\",\"message\":\"Message_message__27Afv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__2wXPP\",\"fieldsCol\":\"Login_fieldsCol__Lcqz0\",\"error\":\"Login_error__6SziI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"logoContainer\":\"Header_logoContainer__32KA0\",\"logo\":\"Header_logo__3T0lc\",\"currentUser\":\"Header_currentUser__3xC5c\",\"menu\":\"Header_menu__Zy7KP\",\"menuItem\":\"Header_menuItem__3lx3z\",\"menuBurger\":\"Header_menuBurger__Qy4zJ\",\"message\":\"Header_message__3XkXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"FieldWithValidation_field__1MSt9\",\"textArea\":\"FieldWithValidation_textArea__ZGjxB\",\"required\":\"FieldWithValidation_required__302Wq\",\"tooltip\":\"FieldWithValidation_tooltip__1A27X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__3o_Zx\",\"statusEmpty\":\"ProfileStatus_statusEmpty__332qI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__33rUO\",\"img\":\"Avatar_img__9sg0P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MyButton_btn__1Qfzd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__39Gxp\"};","export enum AuthActionTypes {\n  SET_CURRENT_USER = 'SET_CURRENT_USER',\n  DELETE_CURRENT_USER = 'DELETE_CURRENT_USER',\n  IS_FETCHING = 'AUTH/IS_FETCHING',\n  FETCHING_ERROR = 'AUTH/FETCHING_ERROR',\n  FETCHING_SUCCESS = 'AUTH/FETCHING_SUCCESS'\n}\n\nexport type ICurrentUser = {\n  data: {\n    id: number | null\n    login: string | null\n    email: string | null\n  }\n  messages: [] | null\n  fieldsError: [] | null\n  resultCode: 0 | 1 | null\n}\n\nexport interface AuthStore extends ICurrentUser {\n  isAuth: boolean\n  isFetching: boolean\n  error: string | null\n}\n\ninterface SetCurrentUser {\n  type: AuthActionTypes.SET_CURRENT_USER\n  payload: ICurrentUser\n}\n\ninterface DeleteCurrentUser {\n  type: AuthActionTypes.DELETE_CURRENT_USER\n}\n\ninterface IsFetching {\n  type: AuthActionTypes.IS_FETCHING\n}\n\ninterface FetchingSuccess {\n  type: AuthActionTypes.FETCHING_SUCCESS\n}\n\ninterface FetchingError {\n  type: AuthActionTypes.FETCHING_ERROR\n  payload: string\n}\n\nexport type AuthAction = \n  SetCurrentUser \n  | DeleteCurrentUser\n  | FetchingError \n  | IsFetching \n  | FetchingSuccess\n  | IsFetching\n","import { AuthAction, AuthActionTypes, AuthStore } from '../types/auth-types'\n\nconst initialState: AuthStore = {\n  data: {\n    id: null,\n    login: null,\n    email: null,\n  },\n  messages: null,\n  fieldsError: null,\n  resultCode: null,\n  isAuth: false,\n  isFetching: false,\n  error: null,\n}\n\nexport const authReducer = (\n  state = initialState,\n  action: AuthAction\n): AuthStore => {\n  switch (action.type) {\n    case AuthActionTypes.SET_CURRENT_USER:\n      return { ...state, ...action.payload, isAuth: true }\n    case AuthActionTypes.DELETE_CURRENT_USER:\n      return {\n        ...state,\n        isAuth: false,\n        data: { ...state.data, id: null, login: null, email: null },\n        messages: null,\n        fieldsError: null,\n        resultCode: null,\n      }\n    case AuthActionTypes.FETCHING_ERROR:\n      return { ...state, isFetching: false, error: action.payload }\n    case AuthActionTypes.FETCHING_SUCCESS:\n      return { ...state, isFetching: false, isAuth: true }\n    case AuthActionTypes.IS_FETCHING:\n      return { ...state, isFetching: true }\n    default:\n      return state\n  }\n}\n","export interface DialogsStore {\n  messages: { id: number, text: string }[],\n  dialogs: { id: number, name: string, lastMessage: string, time: number, counter: number }[]\n}\n\nexport enum DialogsActionTypes {\n  SET_MESSAGES = 'SET_MESSAGES',\n  SET_NEW_MESSAGE = 'SET_NEW_MESSAGE',\n}\n\ninterface SetMessages {\n  type: DialogsActionTypes.SET_MESSAGES\n  payload: string\n}\n\nexport type DialogsAction = SetMessages\n\n","import { DialogsStore, DialogsAction } from '../types/dialogs-types';\nimport { DialogsActionTypes } from \"../types/dialogs-types\"\n\nconst nextTodoId = (todos: any[]) => {\n  const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1)\n  return maxId + 1\n} // function from redux tutorial\n\nconst initialState: DialogsStore = {\n  messages: [\n    {\n      id: 1,\n      text: 'Lorem ipsum dolor sit adipisicing elit. Molestiae, quos!',\n    },\n    {\n      id: 2,\n      text: 'Lorem ipsum dolor sit amet, consectetur, quos!',\n    },\n    {\n      id: 3,\n      text: 'Lorem ipsum dolor sit amet, consectetur',\n    },\n    {\n      id: 4,\n      text:\n        'Lorem  dolor sit amet, consectetur adipisicing elit. Molestiae, quos!',\n    },\n    {\n      id: 5,\n      text: 'Ipsam et asperiores et occaecati vero.',\n    },\n    {\n      id: 6,\n      text: 'eum amet et',\n    },\n  ],\n  dialogs: [\n    {\n      id: 1,\n      name: 'Ora Berge',\n      lastMessage: 'Delectus et maiores quo facere.',\n      counter: 1,\n      time: 1642458862858,\n    },\n    {\n      id: 2,\n      name: 'Tyshawn Bergnaum',\n      lastMessage: 'Perspiciatis reprehenderit dolore illum quas fugit incidunt sed itaque.',\n      counter: 2,\n      time: 1642458862858,\n    },\n    {\n      id: 3,\n      name: 'Janick Koelpin',\n      lastMessage: 'Molestiae impedit rerum deleniti voluptatem quia assumenda non.',\n      counter: 2,\n      time: 1642458819721,\n    },\n    {\n      id: 4,\n      name: 'General Hamill',\n      lastMessage: 'Temporibus molestiae temporibus fugit quo assumenda sint et sed cum.',\n      counter: 2,\n      time: 1642458819721,\n    },\n    {\n      id: 5,\n      name: 'Raleigh Renner',\n      lastMessage: 'Et rem dolore saepe occaecati omnis.',\n      counter: 2,\n      time: 1642458819721,\n    },\n    {\n      id: 6,\n      name: 'Arno Abbott',\n      lastMessage: 'Consequatur assumenda nam velit et quisquam autem.',\n      counter: 3,\n      time: 1642458819721,\n    },\n    {\n      id: 7,\n      name: 'Roy Cartwright',\n      lastMessage: 'Illum reiciendis sint non eum eveniet voluptatem.',\n      counter: 0,\n      time: 1642458819721,\n    },\n    {\n      id: 8,\n      name: 'Emilie Schaefer',\n      lastMessage: 'Est quis excepturi neque sunt.',\n      counter: 0,\n      time: 1642458819721,\n    },\n  ],\n}\n\nexport const dialogsReducer = (state: DialogsStore = initialState, action: DialogsAction): DialogsStore => {\n  switch (action.type) {\n    case DialogsActionTypes.SET_MESSAGES:\n      const newMessage = { id: nextTodoId(state.messages), text: action.payload, }\n      return { ...state, messages: [...state.messages, newMessage] }\n    default:\n      return state\n  }\n}\n\n\n","export type ProfileState = {\n  posts: { id: number; message: string }[]\n  newPost: string\n  profile: ProfileType | null\n  isFetching: boolean\n  error: string | null\n  status: string | null\n}\n\nexport type ProfileType = {\n  userId: number\n  aboutMe: string\n  lookingForAJob: boolean\n  lookingForAJobDescription: string\n  fullName: string\n  contacts: {\n    github: string\n    vk: string\n    facebook: string\n    instagram: string\n    twitter: string\n    website: string\n    youtube: string\n    mainLink: string\n  }\n  photos: {\n    small: string\n    large: string\n  }\n}\n\nexport enum ProfileActionTypes {\n  SET_PROFILE_POSTS = 'SET_PROFILE_POSTS',\n  SET_PROFILE_NEW_POST = 'SET_PROFILE_NEW_POST',\n  SET_PROFILE_STATUS = 'SET_PROFILE_STATUS',\n  FETCH_PROFILE = 'FETCH_PROFILE',\n  FETCH_PROFILE_SUCCESS = 'FETCH_PROFILE_SUCCESS',\n  FETCH_PROFILE_ERROR = 'FETCH_PROFILE_ERROR'\n}\n\ninterface SetNewPost {\n  type: ProfileActionTypes.SET_PROFILE_NEW_POST\n  payload: string\n}\n\ninterface SetPosts {\n  type: ProfileActionTypes.SET_PROFILE_POSTS,\n}\n\ninterface SetStatus {\n  type: ProfileActionTypes.SET_PROFILE_STATUS\n  payload: string\n}\n\ninterface FetchProfile {\n  type: ProfileActionTypes.FETCH_PROFILE\n}\n\ninterface FetchProfileSuccess {\n  type: ProfileActionTypes.FETCH_PROFILE_SUCCESS\n  payload: ProfileType\n}\n\ninterface FetchProfileError {\n  type: ProfileActionTypes.FETCH_PROFILE_ERROR\n  payload: string\n}\n\nexport type ProfileAction = \n  SetNewPost\n  | SetPosts\n  | FetchProfile\n  | FetchProfileSuccess\n  | FetchProfileError\n  | SetStatus\n","import { ProfileState, ProfileActionTypes, ProfileAction } from './../types/profile-types';\n\nconst initialState: ProfileState = {\n  posts: [\n    {\n      id: 0,\n      message:\n        'Numquam officia sint. Ut molestias eligendi. Rerum vero vero dolor optio dolorum qui vero mollitia quae. Molestias ducimus repellat quo eos. In voluptatibus nobis expedita adipisci reiciendis quibusdam aliquid quod. Vero quia vel quas quam quos reprehenderit.',\n    },\n    {\n      id: 1,\n      message: 'Lorem ipsum dolor sit adipisicing elit. Molestiae, quos!',\n    },\n    {\n      id: 2,\n      message: 'Lorem ipsum dolor sit amet, consectetur, quos!',\n    },\n    {\n      id: 3,\n      message: 'Lorem ipsum dolor sit amet, consectetur',\n    },\n    {\n      id: 4,\n      message:\n        'Lorem  dolor sit amet, consectetur adipisicing elit. Molestiae, quos!',\n    },\n  ],\n  newPost: 'Sasha is cute',\n  profile: null,\n  isFetching: false,\n  error: null,\n  status: null\n}\n\nexport const profileReducer = (state = initialState, action: ProfileAction): ProfileState => {\n  switch (action.type) {\n    case ProfileActionTypes.SET_PROFILE_NEW_POST:\n      return { ...state, newPost: action.payload, }\n    case ProfileActionTypes.SET_PROFILE_POSTS:\n      const newPost = { id: Date.now(), message: state.newPost }\n      return { ...state, posts: [newPost, ...state.posts], newPost: '' }\n    case ProfileActionTypes.SET_PROFILE_STATUS:\n      return { ...state, status: action.payload }\n    case ProfileActionTypes.FETCH_PROFILE:\n      return { ...state, isFetching: true }\n    case ProfileActionTypes.FETCH_PROFILE_SUCCESS:\n      return { ...state, isFetching: false, profile: action.payload, error: null }\n    case ProfileActionTypes.FETCH_PROFILE_ERROR:\n      return { ...state, isFetching: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\n//note Здесь был крутой рефакторинг.. Зачем нам создавать stateCopy = {...}, если мы можем сразу вернуть готовый объект. Конечно же соблюдая концепции имутабельности, т.е копировать ГЛУБОКО объекты или массивы , если собираемся с ними работать!!!\n\n\n","//BUG delete \n// export interface UsersState {\n//   users: IUser[],\n//   totalCount: number,\n//   pageItemsCount: number,\n//   currentPage: number,\n//   isFetching: boolean\n//   isFollowing: number[]\n// }\n//BUG delete \n\nexport interface IUser {id: number, name: string, status: string, photos: {small: string, big: string}, followed: boolean}\n\nexport enum UsersActionTypes {\n  TOGGLE_FOLLOW = 'TOGGLE_FOLLOW',\n  SET_USERS = 'SET_USERS',\n  SET_TOTAL_COUNT = 'SET_TOTAL_COUNT',\n  SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\n  TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING',\n  TOGGLE_IS_FOLLOWING = 'TOGGLE_IS_FOLLOWING',\n}\n\ninterface ToggleFollow {\n  type: UsersActionTypes.TOGGLE_FOLLOW\n  payload: number\n}\ninterface ToggleIsFetching {\n  type: UsersActionTypes.TOGGLE_IS_FETCHING\n}\ninterface SetUsers {\n  type: UsersActionTypes.SET_USERS\n  payload: IUser[]\n}\ninterface SetCurrentPage {\n  type: UsersActionTypes.SET_CURRENT_PAGE\n  payload: number\n}\ninterface SetTotalCount {\n  type: UsersActionTypes.SET_TOTAL_COUNT\n  payload: number\n}\n\ninterface ToggleIsFollowing {\n  type: UsersActionTypes.TOGGLE_IS_FOLLOWING\n  payload: number\n}\n\nexport type UsersAction = \n  ToggleFollow\n  | ToggleIsFetching\n  | SetUsers\n  | SetCurrentPage\n  | SetTotalCount\n  | ToggleIsFollowing","import { AnyAction } from \"redux\";\n\ninterface SidebarState {\n  friends: {name: string, avatar: string, id: number}[]\n}\n\nconst initialState: SidebarState = {\n  friends: [\n    {\n      name: \"Kelsi\",\n      avatar:\n        \"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\",\n      id: 0,\n    },\n    {\n      name: \"Gilbert\",\n      avatar:\n        \"https://media.istockphoto.com/photos/laughter-man-picture-id649754038?k=20&m=649754038&s=170667a&w=0&h=jcI4V4TUmW9OLy-tCB33o79PyMJ9mvFcPIeD0S7E_OQ=\",\n      id: 1,\n    },\n    {\n      name: \"Joaquin\",\n      avatar:\n        \"https://image.shutterstock.com/image-photo/portrait-casually-dressed-young-businessman-260nw-505890028.jpg\",\n      id: 2,\n    },\n  ],\n};\n\nexport const sidebarReducer = (state = initialState, action: AnyAction): SidebarState => {\n  return state;\n};\n","import { UsersActionTypes, UsersAction, IUser } from './../types/users-types';\n \nconst initialState = {\n  users: [] as IUser[], \n  totalCount: 0 as number,\n  pageItemsCount: 10 as number,\n  currentPage: 1 as number,\n  isFetching: false as boolean,\n  isFollowing: [] as number[]\n}\ntype UsersState = typeof initialState\n\nexport const usersReducer = (state = initialState, action: UsersAction): UsersState => {\n  switch (action.type) {\n    case UsersActionTypes.TOGGLE_FOLLOW:\n      return { ...state,\n        users: state.users.map((user) => {\n          if (user.id === action.payload) { \n            return { ...user, followed: !user.followed } \n          }\n          return user\n        }),\n      }\n    case UsersActionTypes.SET_USERS:\n      return { ...state, users: [...action.payload] }\n    case UsersActionTypes.SET_TOTAL_COUNT:\n      return { ...state, totalCount: action.payload, }\n    case UsersActionTypes.SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.payload }\n    case UsersActionTypes.TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: !state.isFetching }\n    case UsersActionTypes.TOGGLE_IS_FOLLOWING:\n      return {\n        ...state,\n        isFollowing: [...state.isFollowing].some(\n          (num) => num === action.payload\n        )\n          ? [...state.isFollowing].filter((num) => num !== action.payload)\n          : [...state.isFollowing, action.payload],\n      } \n    default:\n      return state\n  }\n}\n\n","export enum AppActionTypes {\n  INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\n}\n\nexport interface SetIsInitialized {\n  type: AppActionTypes.INITIALIZED_SUCCESS\n}\n\nexport type AppAction = SetIsInitialized","import { AppActionTypes } from '../types/app-types';\nimport { AppAction } from \"../types/app-types\"\n\nconst initialState = {\n  isInitialized: false as boolean,\n}\n\ntype AppReducerType = typeof initialState\n\nexport const appReducer = (state = initialState, action: AppAction):AppReducerType  => {\n  switch(action.type) {\n    case AppActionTypes.INITIALIZED_SUCCESS: \n      return {...state, isInitialized: true}\n    default: \n      return state\n  }\n}","import { authReducer } from './reducers/auth-reducer'\nimport { dialogsReducer } from './reducers/dialogs-reducer'\nimport { profileReducer } from './reducers/profile-reducer'\nimport { sidebarReducer } from './reducers/sidebar-reducer'\nimport { usersReducer } from './reducers/users-reducer'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { appReducer } from './reducers/app-reducer'\n \nconst rootReducer = combineReducers({\n  dialogsPage: dialogsReducer,  \n  profilePage: profileReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer\n})\n\nconst composedEnhancers = composeWithDevTools(applyMiddleware(thunk))\n\nexport const store = createStore(\n  rootReducer, composedEnhancers\n)\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n\ndeclare const window: any;\nwindow.store = store.getState()","import React from 'react'\nimport cl from './NavBar.module.scss'\nimport { NavLink } from 'react-router-dom'\n// import { FriendCard } from './FriendCard'\n\nconst NavBar: React.FC = () => {\n  // const friendsList = getFriends.map((friend) => {\n  //   return <FriendCard key={friend.id} friend={friend} />\n  // })\n\n  const isActiveLink = ({ isActive }: { isActive: boolean }) => {\n    return isActive ? [cl.aside__link, cl.active].join(' ') : cl.aside__link\n  }\n\n  return (\n    <aside className={cl.aside}>\n      <nav className={cl.mainNav}>\n        <ul className={cl.list}>\n          <li className={cl.aside__item}>\n            <NavLink to=\"profile\" className={isActiveLink} end>\n              Profile\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"dialogs\" className={isActiveLink}>\n              Dialogs\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"users\" className={isActiveLink}>\n              Find users\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"music\" className={isActiveLink}>\n              Music\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"news\" className={isActiveLink}>\n              News\n            </NavLink>\n          </li>\n          <li className={cl.aside__item}>\n            <NavLink to=\"settings\" className={isActiveLink}>\n              Settings\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n      <nav>\n        {/* //BUG change structure of sidebar */}\n        {/* <h2 className={cl.friendsTitle}>\n          <a href=\"/\">Friends</a>\n        </h2> */}\n        {/* <ul className={cl.friendsList}>{friendsList}</ul> */}\n      </nav>\n    </aside>\n  )\n}\n\nexport default NavBar\n","// import cl from './Music.module.scss'\n\nconst Music = () => {\n    return (\n        <div>Music</div>\n    );\n};\n\nexport default Music;\n","// import cl from './News.module.scss'\n\nconst News = () => {\n  return <div>News</div>\n}\n\nexport default News\n","// import cl from './Settings.module.css'\n\nconst Settings = () => {\n    return (\n        <div>Settings</div>\n    );\n};\n\nexport default Settings;\n","import { connect, ConnectedProps } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { RootState } from '../store/store'\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nexport const withAuthRedirect = (Component: any) => {\n  const withAuthRedirectComponent = (props: PropsFromRedux) =>  {\n    if(!props.isAuth) {\n      return <Navigate to='/login'/>\n    }\n    return <Component {...props} />\n  }\n\n  const connector = connect(mapStateToProps)\n  type PropsFromRedux = ConnectedProps<typeof connector>\n  const ConnectedAuthRedirectComponent = connector(withAuthRedirectComponent)\n\n  return ConnectedAuthRedirectComponent\n}\n\n\n\n","import cl from \"./Avatar.module.scss\";\n\nconst Avatar = () => {\n  return (\n    <div className={cl.avatar}>\n      <img\n        className={cl.img}\n        src=\"https://backlightblog.com/images/2020/10/blur-photo-background-header-1160x710.jpg\"\n        alt=\"avatar\"\n      />\n      {/* <span>Joany</span>s */}\n    </div>\n  );\n};\n\nexport default Avatar;\n","import cl from './DialogItem.module.scss'\nimport { NavLink } from 'react-router-dom'\nimport Avatar from '../../Avatar/Avatar'\n\ninterface Props {\n  id: number\n  name: string\n  lastMessage: string\n  time: number\n  counter: number\n}\n\nexport const DialogItem: React.FC<Props> = (props) => {\n  const isActiveLink = ({ isActive }: { isActive: boolean }): string => {\n    return isActive ? [cl.userLink, cl.active].join(' ') : cl.userLink\n  }\n\n  const prepareLine = (line: string) => (line.length > 36) ? `${line.substring(0, 37)}..` : line\n\n  const prepareDate = (date: number) => {\n    return `${new Date(date).getHours()}:${new Date(date).getMinutes()}`\n  }\n\n  return (\n    <li>\n      <NavLink className={isActiveLink} to={`${props.id}`}>\n        <div className={cl.avatar}>\n          <Avatar />\n        </div>\n        <div className={cl.name} >{prepareLine(props.name)}</div>\n        <p className={cl.message}>{prepareLine(props.lastMessage)}</p>\n        <time className={cl.time}>{prepareDate(props.time)}</time>\n        <div className={cl.messageCounter}>{props.counter}</div>\n      </NavLink>\n    </li>\n  )\n}\n","import cl from \"./Message.module.scss\";\nimport Avatar from \"../../Avatar/Avatar\";\n\ninterface Props {\n  key: number\n  message: string\n  isReverse: boolean\n}\n\nexport const Message: React.FC<Props> = (props) => {\n  return (\n    <li className={cl.messageColumn}>\n      <div className={cl.avatar}>\n        <Avatar />\n      </div>\n      <div>\n        <span className={cl.name}>Marina</span>\n        <time className={cl.time} >20:00</time>\n      </div>\n      <p className={cl.message}>{props.message}</p>\n    </li>\n  );\n};\n","import React from 'react'\nimport cl from './Dialogs.module.scss'\nimport { DialogItem } from './DialogItem/DialogItem'\nimport { Message } from './Message/Message'\nimport { PropsFromRedux } from '../Dialogs/DialogsContainer'\nimport { Field, Form } from 'react-final-form'\n\ninterface Props extends PropsFromRedux {}\n\nconst Dialogs: React.FC<Props> = (props) => {\n  const messages = props.dialogsPage.messages.map((message) => {\n    let isReverse = message.id % 2 === 0 ? true : false //BUG - ЗАГЛУШККА\n    return (\n      <Message key={message.id} message={message.text} isReverse={isReverse} />\n    )\n  })\n\n  const dialogs = props.dialogsPage.dialogs.map((dialog) => {\n    return (\n      <DialogItem\n        key={dialog.id}\n        id={dialog.id}\n        name={dialog.name}\n        lastMessage={dialog.lastMessage}\n        time={dialog.time}\n        counter={dialog.counter}\n      ></DialogItem>\n    )\n  })\n\n  return (\n    <div className={cl.dialogsPage}>\n      <div className={cl.dialogsWrapper}>\n        <ul className={cl.dialogs}>{dialogs}</ul>\n      </div>\n      <div className={cl.dialogBlock}>\n        <div className={cl.conversationWrapper}>\n          <ul className={cl.conversation}>{messages}</ul>\n        </div>\n        <ReduxForm setMessages={props.setMessages} />\n        {/* <textarea\n            placeholder=\"Write a message\"\n            onKeyPress={onPressHandler}\n            onChange={onChangeMessageHandler}\n            ref={newMessageArea}\n            value={props.dialogsPage.newMessage}\n            className={cl.newMessage}\n          ></textarea> */}\n      </div>\n    </div>\n  )\n}\n\nconst ReduxForm = (props: {setMessages: (message: string) => {}}) => {\n  const submitHandler = (values: {newMessage: string}) => {\n    props.setMessages(values.newMessage)\n    values.newMessage = ''\n  }\n\n  const onPressHandler = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      document.getElementById('form')!.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }))\n      e.preventDefault()\n    }\n  }\n\n  return (\n    <Form\n      onSubmit={submitHandler}\n      render={(props) => {\n        return (\n          <form id=\"form\" onSubmit={props.handleSubmit}>\n            <Field\n              name=\"newMessage\"\n              placeholder=\"Write a message (reduxForm)\"\n              className={cl.newMessage}\n              component=\"textarea\"\n              onKeyPress={onPressHandler}\n            />\n          </form>\n        )\n      }}\n    />\n  )\n}\n\nexport default Dialogs\n","import { connect, ConnectedProps } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withAuthRedirect } from \"../../HOCs/withAuthRedirect\";\nimport { setMessages } from \"../../store/action-creators/dialogs-ac\";\nimport { RootState } from \"../../store/store\";\nimport Dialogs from \"./Dialogs\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    dialogsPage: state.dialogsPage,\n  };\n};\n\nconst actionCreators = {\n  setMessages,\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\nexport type PropsFromRedux = ConnectedProps<typeof connector>\n\n// const WithAuthRedirectComponent = AuthRedirect(Dialogs)\n// const DialogsContainer = connector(WithAuthRedirectComponent);\n\nexport default compose<any>(\n  connector,\n  withAuthRedirect\n)(Dialogs)\n\n\n// const mapDispatchToProps = (dispatch: AppDispatch) => {\n//   return {\n//     addNewMessage: () => {\n//       dispatch(setMessagesActionCreator());\n//     },\n//     setNewMessage: (message: string) => {\n//       dispatch(setNewMessageActionCreator(message));\n//     },\n//   };\n// };","import { DialogsAction, DialogsActionTypes } from './../types/dialogs-types';\n\nexport const setMessages = (message: string): DialogsAction => {\n  return { type: DialogsActionTypes.SET_MESSAGES, payload: message }\n}\n\n// export const setNewMessage = (message: string): DialogsAction => {\n//   return {\n//     type: DialogsActionTypes.SET_NEW_MESSAGE,\n//     payload: message,\n//   }\n// }","import axios from 'axios'\n\nconst instance = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': '61ac4a57-11aa-4c80-a12b-d117d48a000f',\n  },\n})\n\n//============================== USERS ==============================\nexport class UsersAPI {\n  static getUsers(currentPage = 1, pageItemsCount = 10) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageItemsCount}`)\n      .then((response) => response.data)\n  }\n\n  static followUser(id: number) {\n    return instance.post(`follow/${id}`).then((response) => response.data)\n  }\n\n  static unFollowUser(id: number) {\n    return instance.delete(`follow/${id}`).then((response) => response.data)\n  }\n\n  static getUserProfile(userId: number) {\n    console.warn('Obsolete method. Please use ProfileAPI class')\n    return ProfileAPI.getUserProfile(userId)\n  }\n}\n\nexport class ProfileAPI {\n  static getStatus(userId: number) {\n    return instance.get(`profile/status/${userId}`)\n    .then((res) => res.data)\n  }\n\n  static setStatus(status: string) {\n    return instance.put('profile/status', { status })\n    .then((res => res.data))\n  }\n\n  static getUserProfile(userId: number) {\n    return instance.get(`profile/${userId}`)\n    .then((response) => response.data)\n  }\n}\n\n//============================== AUTH ==============================\nexport class AuthAPI {\n  static authUser() {\n    return instance.get('auth/me').then((response) => response.data)\n  }\n\n  static authLogin(authData: {email: string, password: string}) {\n    return instance.post('auth/login', authData).then(res => res.data)\n  }\n\n  static authLogout() {\n    return instance.delete('/auth/login').then(res => res.data)\n  }\n}\n","import { UsersAPI } from '../../API/serviceAPI';\nimport { AppDispatch, RootState } from './../store';\nimport { IUser, UsersAction, UsersActionTypes } from './../types/users-types';\n\nexport const toggleUserFollow = (userId: number): UsersAction => {\n  return { type: UsersActionTypes.TOGGLE_FOLLOW, payload: userId }\n}\n\nexport const setUsers = (users: IUser[]): UsersAction => {\n  return { type: UsersActionTypes.SET_USERS, payload: users }\n}\n\nexport const setTotalCount = (totalCount: number): UsersAction => {\n  return { type: UsersActionTypes.SET_TOTAL_COUNT, payload: totalCount }\n}\n\nexport const setCurrentPage = (currentPage: number): UsersAction => {\n  return { type: UsersActionTypes.SET_CURRENT_PAGE, payload: currentPage }\n}\n\nexport const toggleIsFetching = (): UsersAction => {\n  return { type: UsersActionTypes.TOGGLE_IS_FETCHING }\n}\n\nexport const toggleIsFollowing = (id: number): UsersAction => {\n  return { type: UsersActionTypes.TOGGLE_IS_FOLLOWING, payload: id }\n}\n\nexport const getUsers = () => {\n  return (dispatch: AppDispatch, getState: () => RootState) => {\n    const { usersPage } = getState()\n    dispatch(toggleIsFetching()) \n    UsersAPI\n      .getUsers(usersPage.currentPage, usersPage.pageItemsCount)\n      .then(({ totalCount, items }) => {\n        dispatch(setTotalCount(totalCount))\n        dispatch(setUsers(items))\n        dispatch(toggleIsFetching())\n      })\n  }\n}\n\nexport const changeCurrentPage = (currentPage = 1) => {\n  return (dispatch: AppDispatch, getState: () => RootState) => {\n    const { usersPage } = getState()\n    dispatch(setCurrentPage(currentPage))\n    dispatch(toggleIsFetching())\n      UsersAPI.getUsers(currentPage, usersPage.pageItemsCount)\n      .then(({ totalCount, items }) => {\n        dispatch(setTotalCount(totalCount))\n        dispatch(setUsers(items))\n        dispatch(toggleIsFetching())\n      })\n  }\n}\n\nexport const userFollow = (userId: number) => {\n  return (dispatch: AppDispatch, getState: RootState) => {\n    dispatch(toggleIsFollowing(userId))\n    UsersAPI.followUser(userId)\n    .then(({ resultCode }) => {\n      if(resultCode === 0) {\n        dispatch(toggleUserFollow(userId))\n      }\n      dispatch(toggleIsFollowing(userId))\n    })\n  }\n}\n\nexport const userUnFollow = (userId: number) => {\n  return (dispatch: AppDispatch, getState: RootState) => {\n    dispatch(toggleIsFollowing(userId))\n    UsersAPI.unFollowUser(userId)\n    .then(({ resultCode }) => {\n      if(resultCode === 0) {\n        dispatch(toggleUserFollow(userId))\n      }\n      dispatch(toggleIsFollowing(userId)     )\n    }) \n  }\n} ","import cl from './MyButton.module.scss'\n\ninterface Props {\n  callBack: () => void\n  disabled?: boolean\n}\n\nexport const MyButton: React.FC<Props> = ({callBack, ...props}) => {\n  return (\n    <button\n      { ...props }\n      className={cl.btn}\n      onClick={callBack}\n    >\n      {props.children}\n    </button>\n  )\n}","import { IUser } from '../../../store/types/users-types'\nimport cl from './User.module.scss'\nimport photo from '../../../assets/images/jpeg/no-photo.jpg'\nimport { Link } from 'react-router-dom'\nimport { MyButton } from '../../Common/MyButton/MyButton'\n\ninterface Props {\n  user: IUser\n  isFollowing: number[]\n  userFollow: (userId: number) => void\n  userUnFollow: (userId: number) => void\n}\n\nexport const User: React.FC<Props> = (props) => {\n  return (\n    <li className={cl.userItem}>\n      <Link className={cl.userPhotoWrap} to={`/profile/${props.user.id}`}>\n        <img\n          className={cl.userPhoto}\n          src={props.user.photos.small || photo}\n          alt=\"\"\n        />\n      </Link>\n      <div className={cl.infoColumn}>\n        <Link className={cl.userPhotoWrap} to={`/profile/${props.user.id}`}>\n          <span className={cl.userName}>{props.user.name}</span>\n        </Link>\n        <span className={cl.userLocation}>{`Minsk Belarus`}</span>\n      </div>\n      <div className={cl.followButton}>\n        <MyButton\n          disabled={props.isFollowing.some((num) => num === props.user.id)}\n          callBack={() => {\n            props.user.followed\n              ? props.userUnFollow(props.user.id)\n              : props.userFollow(props.user.id)\n          }}\n        >\n          {props.user.followed ? 'Unfollow' : 'Follow'}\n        </MyButton>\n      </div>\n    </li>\n  )\n}\n","export default \"data:image/jpeg;base64,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\"","import cl from './Users.module.scss'\nimport { IUser } from '../../store/types/users-types'\nimport { User } from './User/User'\n\ninterface Props {\n  totalCount: number\n  users: IUser[]\n  pageItemsCount: number\n  currentPage: number\n  isFollowing: number[]\n  setCurrentPage: (currentPage: number) => void\n  userFollow: (id: number) => void\n  userUnFollow: (id: number) => void\n}\n\nconst Users: React.FC<Props> = (props) => {\n  const pagesCount = Math.ceil(props.totalCount / props.pageItemsCount)\n\n  const pagesCountArr = []\n  for (let i = 1; i <= pagesCount; i++) {\n    pagesCountArr.push(i)\n  }\n\n  const pageNumbers = pagesCountArr.map((num) => {\n    const numberStyle =\n      props.currentPage === num\n        ? `${cl.paginationItem} ${cl.active}`\n        : cl.paginationItem\n    return (\n      <div\n        key={num}\n        onClick={() => {\n          props.setCurrentPage(num)\n        }}\n        className={numberStyle}\n      >\n        {num}\n      </div>\n    )\n  })\n\n  return (\n    <section className={cl.usersSection}>\n      <h2 className={cl.title}>Users</h2>\n      <div className={cl.pagination}>\n        <button\n          onClick={() => {\n            props.setCurrentPage(props.currentPage - 1)\n          }}\n          className={cl.paginationBtn}\n        >\n          prev\n        </button>\n        <div className={cl.paginationContainer}>\n          <div className={cl.paginationSlider}>{pageNumbers}</div>\n        </div>\n        <button\n          onClick={() => {\n            props.setCurrentPage(props.currentPage + 1)\n          }}\n          className={cl.paginationBtn}\n        >\n          next\n        </button>\n      </div>\n      <ul className={cl.usersList}>\n        {props.users.map((user) => (\n          <User\n            key={user.id}\n            user={user}\n            isFollowing={props.isFollowing}\n            userFollow={props.userFollow}\n            userUnFollow={props.userUnFollow}\n          />\n        ))}\n      </ul>\n    </section>\n  )\n}\n\nexport default Users\n","export default __webpack_public_path__ + \"static/media/preloader.93facfc0.svg\";","import preloader from '../../../assets/images/svg/preloader.svg'\nimport cl from './Preloader.module.scss'\n\nconst Preloader = () => {\n  return <img src={preloader} alt=\"preloader\" className={cl.preloader} />\n}\n\nexport default Preloader\n","import React from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { changeCurrentPage, getUsers, setCurrentPage, userFollow, userUnFollow } from '../../store/action-creators/users-ac'\nimport Users from './Users'\nimport Preloader from '../Common/Preloader/Preloader'\nimport { RootState } from '../../store/store' \nimport { compose } from 'redux'\n\n//note В данном файле - UsersContainer у нас содержится две компоненты контейнера. Одна оборачивает Users и предаёт туда результат AJAX запроса (UsersContainerAPI), а вторая оборачивает UsersContainerAPI и передаёт туда через метод connect (r-r library), MSTP & MDTP - т.е. помещает в пропсы state и callback's , которые выполняют dispatch.\n\nclass UsersContainerAPI extends React.Component<PropsFromRedux> {\n  componentDidMount() {\n    this.props.getUsers()\n  }\n\n  setCurrentPage = (currentPage: number) => {\n    this.props.changeCurrentPage(currentPage)\n  }\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? (\n          <Preloader />\n        ) : (\n          <Users\n            totalCount={this.props.totalCount}\n            pageItemsCount={this.props.pageItemsCount}\n            currentPage={this.props.currentPage}\n            setCurrentPage={this.setCurrentPage}\n            users={this.props.users}\n            isFollowing={this.props.isFollowing}\n            userFollow={this.props.userFollow}\n            userUnFollow={this.props.userUnFollow}\n          />\n        )}\n      </>\n    )\n  }\n}\n\n//============================== Container component ==============================\nconst mapStateToProps = (state: RootState) => {\n  return {\n    users: state.usersPage.users,\n    totalCount: state.usersPage.totalCount,\n    currentPage: state.usersPage.currentPage,\n    pageItemsCount: state.usersPage.pageItemsCount,\n    isFetching: state.usersPage.isFetching,\n    isFollowing: state.usersPage.isFollowing,\n  }\n}\n\nconst actionCreators = {\n  setCurrentPage,\n  getUsers,\n  changeCurrentPage,\n  userUnFollow,\n  userFollow,\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\nexport type PropsFromRedux = ConnectedProps<typeof connector>\n\nexport default compose<any>(\n  connector,\n)(UsersContainerAPI)\n\n\n\n\n","import { ProfileAPI } from '../../API/serviceAPI'\nimport { AppDispatch, RootState } from '../store'\nimport { ProfileAction, ProfileActionTypes, ProfileType } from './../types/profile-types'\n\nexport const setPosts = (): ProfileAction => {\n  return { type: ProfileActionTypes.SET_PROFILE_POSTS }\n}\n\nexport const setNewPost = (message: string): ProfileAction => {\n  return { type: ProfileActionTypes.SET_PROFILE_NEW_POST, payload: message }\n}\n\nexport const setStatus = (status: string): ProfileAction => {\n  return { type: ProfileActionTypes.SET_PROFILE_STATUS, payload: status }\n}\n\nexport const fetchProfile = (): ProfileAction => {\n  return { type: ProfileActionTypes.FETCH_PROFILE }\n}\n\nexport const fetchProfileSuccess = (profile: ProfileType): ProfileAction => {\n  return { type: ProfileActionTypes.FETCH_PROFILE_SUCCESS, payload: profile}\n}\n\nexport const fetchProfileError = (error: string): ProfileAction => {\n  return { type: ProfileActionTypes.FETCH_PROFILE_ERROR, payload: error}\n}\n\nexport const getProfile = (userId: number) => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try {\n      dispatch(fetchProfile())\n      const response = await ProfileAPI.getUserProfile(userId)\n      dispatch(fetchProfileSuccess(response))\n    } catch (e) {\n      dispatch(fetchProfileError('Не удалось получить профиль пользователя'))\n    }\n  }\n}\n\nexport const getUserStatus = (userId: number) => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try{\n      const response = await ProfileAPI.getStatus(userId)\n      dispatch(setStatus(response))\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}\n\nexport const setUserStatus = (status: string) => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try{\n      const response = await ProfileAPI.setStatus(status)\n      if(response.resultCode === 0) {\n        dispatch(setStatus(status))\n      }else {\n        console.log(new Error(response.messages))\n      }\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}\n","export const improveFullName = (fullName: string | undefined) => {\n  if (!fullName) {\n    return\n  }\n  let arr = fullName.split(' ')\n  arr = arr.map((el) => el.substr(0, 1).toUpperCase() + el.substr(1))\n  return arr.join(' ')\n}","import React from 'react'\nimport cl from './ProfileStatus.module.scss'\n\ninterface Props {\n  status: string | null\n  setStatus: (status: string) => void\n  authProfileId: number | null\n  curUserId: number | null\n}\n\ninterface State {\n  editMode: boolean\n  status: string | null\n}\n\nexport class ProfileStatus extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { editMode: false, status: this.props.status }\n  }\n\n  componentDidUpdate (prevProps: Props, prevState: State) {\n    if(prevProps.status !== this.props.status) {\n      this.setState({ status: this.props.status})\n    }\n  }\n\n  toggleEditMode = () => {\n    if(this.props.authProfileId === this.props.curUserId) {\n      this.setState({ editMode: !this.state.editMode })\n    }\n    return\n  }\n\n  onStatusChangeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ status: e.target.value })\n  }\n\n  onEnterPressHandler = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      this.state.status !== null && this.props.setStatus(this.state.status)\n      this.setState({ editMode: false })\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.editMode && (\n          <p onClick={this.toggleEditMode} className={`${cl.status} ${this.props.status ? '' : cl.statusEmpty}`}>\n            {this.props.status || '--empty--'}\n          </p>\n        )}\n        {this.state.editMode && (\n          <input\n            onKeyPress={this.onEnterPressHandler}\n            onChange={this.onStatusChangeHandler}\n            autoFocus={true}\n            onBlur={this.toggleEditMode}\n            type=\"text\"\n            className={cl.status}\n            value={this.state.status || ''}\n          />\n        )}\n      </>\n    )\n  }\n}\n","import { improveFullName } from '../../../helpers/helpers'\nimport { ProfileType } from '../../../store/types/profile-types'\nimport { MyButton } from '../../Common/MyButton/MyButton'\nimport cl from './ProfileInfo.module.scss'\nimport { ProfileStatus } from './ProfileStatus/ProfileStatus'\n\ninterface Props {\n  profile: ProfileType | null\n  status: string | null\n  setStatus: (status: string) => void\n  authProfileId: number | null\n}\n\nconst ProfileInfo: React.FC<Props> = ({authProfileId, profile, status, ...props }) => {\n  return (\n    <div className={cl.profileInfo}>\n      <div className={cl.leftCol}>\n        <div className={cl.photoBlock}>\n          <img className={cl.photo} src={profile?.photos.large} alt=\"\" />\n          <MyButton callBack={() => null}>Send message</MyButton>\n        </div>\n      </div>\n      <div className={cl.rightCol}>\n        <article className={cl.info}>\n          <div className={cl.primaryInfo}>\n            <h2 className={cl.name}>{improveFullName(profile?.fullName)}</h2>\n            <ProfileStatus curUserId={profile ? profile.userId : null} authProfileId={authProfileId} status={status} setStatus={props.setStatus} />\n          </div>\n          <div className={cl.additionalInfo}>\n            <div className={cl.firstCol}>Facebook:</div>\n            <div>{profile?.contacts.facebook}</div>\n            <div className={cl.firstCol}>Github:</div>\n            <div>{profile?.contacts.github}</div>\n            <div className={cl.firstCol}>Vk:</div>\n            <div>{profile?.contacts.vk}</div>\n            <div className={cl.firstCol}>Instagram:</div>\n            <div>{profile?.contacts.instagram}</div>\n            <div className={cl.firstCol}>Twitter:</div>\n            <div>{profile?.contacts.twitter}</div>\n          </div>\n        </article>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileInfo\n","import React from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { compose } from 'redux'\nimport { RouteType, withRoute } from '../../HOCs/withRoute'\nimport {\n  getProfile,\n  getUserStatus,\n  setUserStatus,\n} from '../../store/action-creators/profile-ac'\nimport { RootState } from '../../store/store'\nimport Preloader from '../Common/Preloader/Preloader'\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\nimport { Navigate } from 'react-router-dom'\n\ninterface Props extends PropsFromRedux, RouteType {}\n\nclass ProfileContainerAPI extends React.Component<Props> {\n  componentDidMount() {\n    let userId = Number.parseInt(this.props.route.params.userId) || this.props.authProfileId!\n    this.props.getProfile(userId)\n    this.props.getUserStatus(userId)\n  }\n  render() {\n    if (this.props.isFetching) {\n      return <Preloader />\n    }\n    if (this.props.error) {\n      return <Navigate to='/login'/>\n    }\n    return (\n      <ProfileInfo\n        profile={this.props.profile}\n        status={this.props.status}\n        setStatus={this.props.setUserStatus}\n        authProfileId={this.props.authProfileId}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    isFetching: state.profilePage.isFetching,\n    error: state.profilePage.error,\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authProfileId: state.auth.data.id\n  }\n}\n\nconst actionCreators = {\n  getProfile,\n  getUserStatus,\n  setUserStatus,\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\nexport type PropsFromRedux = ConnectedProps<typeof connector>\n\nexport default compose<any>(\n  connector,\n  withRoute,\n)(ProfileContainerAPI)\n\n// const withAuthRedirectComponent = withAuthRedirect(ProfileContainerAPI)\n// const WithUrlContainerComponent = withRoute(withAuthRedirectComponent)\n// const ProfileContainer = connector(WithUrlContainerComponent)\n\n//  ProfileContainer\n","import { useMatch, useNavigate, useLocation, useParams } from 'react-router-dom';\n\nexport const withRoute = (Component: any) => {\n  return (props: any) => {\n    let match = useMatch(':userId')\n    let navigate = useNavigate()\n    let location = useLocation()\n    let params = useParams()\n    return <Component {...props} route={{ match, navigate, location, params }} />\n  }\n}\n\nexport type RouteType = {\n  route: { match: boolean; location: {}; navigate: () => void; params: {userId: string} }\n} ","import { LoginFormCallBackType } from './../../components/Login/Login';\nimport { RootState } from './../store';\nimport { AppDispatch } from '../store'\nimport { AuthActionTypes, AuthAction, ICurrentUser, } from './../types/auth-types'\nimport { AuthAPI } from '../../API/serviceAPI';\nimport { FORM_ERROR } from 'final-form'\nimport { LoginFormValuesType } from '../../components/Login/Login';\n\nexport const setCurrentUserAC = (currentUserData: ICurrentUser): AuthAction => {\n  return {\n    type: AuthActionTypes.SET_CURRENT_USER,\n    payload: currentUserData,\n  }\n}\n\nexport const DeleteCurrentUser = (): AuthAction => {\n  return { type: AuthActionTypes.DELETE_CURRENT_USER }\n}\n\nexport const fetchingErrorAC = (error: string): AuthAction => {\n  return {\n    type: AuthActionTypes.FETCHING_ERROR,\n    payload: error,\n  }\n}\n\nexport const toggleIsFetching = (): AuthAction => {\n  return {\n    type: AuthActionTypes.IS_FETCHING\n  }\n}\n\nexport const fetchingSuccess = (): AuthAction => {\n  return {\n    type: AuthActionTypes.FETCHING_SUCCESS\n  }\n}\n\nexport const getAuthUser = () => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try {\n      const response = await AuthAPI.authUser()\n      if (response.resultCode === 0) {\n        dispatch(setCurrentUserAC(response))\n      }\n    } catch (e) {\n      dispatch(fetchingErrorAC('Не удалось войти в учётную запись'))\n    }\n  }\n}\n\nexport const authLogin = (values: LoginFormValuesType, errorCallBack: LoginFormCallBackType) => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try {\n      const response = await AuthAPI.authLogin(values)\n      if(response.resultCode === 0) {\n        //BUG ============================================ >\n        // dispatch(getAuthUser())\n        const response = await AuthAPI.authUser()\n        if (response.resultCode === 0) {\n          dispatch(setCurrentUserAC(response))\n        }\n        //BUG ============================================ >\n      }else if(response.resultCode === 1) {\n        const error = response.messages.join(' ')\n        errorCallBack!({[FORM_ERROR]: error})\n      }\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}\n\nexport const authLogout = () => {\n  return async (dispatch: AppDispatch, getState: RootState) => {\n    try{\n      const response = await AuthAPI.authLogout()\n      if(response.resultCode === 0) {\n        dispatch(DeleteCurrentUser())\n      }\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}","export default __webpack_public_path__ + \"static/media/logo.2b8b8224.png\";","import cl from './Header.module.scss'\nimport logo from '../../assets/images/png/logo.png'\nimport Avatar from '../Avatar/Avatar'\nimport { Link } from 'react-router-dom'\n// import menuBurger from '../../assets/images/svg/interfaceMob/menu-burger.svg'\n// import message from '../../assets/images/svg/interfaceMob/message.svg'\n\ninterface Props {\n  login: string | null\n  authLogout: () => void\n}\n\nconst Header: React.FC<Props> = (props) => {\n  const loginTag = props.login ? (\n    <>\n      <span>{props.login}</span>\n      <button onClick={props.authLogout}>Log out</button>{' '}\n      <Avatar />\n    </>\n  ) : (\n    <Link to=\"login\">login</Link>\n  )\n\n  return (\n    <header className={cl.header}>\n      <a className={cl.logoContainer} href=\"#3\">\n        <div className={cl.logo}>\n          <img src={logo} alt=\"\" />\n        </div>\n        <span>Spacepark</span>\n      </a>\n      <div className={cl.currentUser}>\n        {loginTag}        \n      </div>\n      {/* <ul className={cl.menu}>\n        <li className={cl.menuItem}>\n          <i className={cl.menuBurger}></i>\n        </li>\n        <li className={cl.menuItem}>\n          <i className={cl.message}></i>\n        </li>\n        <li className={cl.menuItem}></li>\n        <li className={cl.menuItem}></li>\n      </ul> */}\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { compose } from 'redux'\nimport { fetchingErrorAC, setCurrentUserAC, getAuthUser } from '../../store/action-creators/auth-ac'\nimport { RootState } from '../../store/store'\nimport { authLogout } from '../../store/action-creators/auth-ac'\nimport Header from './Header'\n\nclass HeaderContainerApi extends React.Component<PropsFromRedux> {\n  // componentDidMount() {\n  //   this.props.getAuthUser()\n  // }\n\n  render() {\n    return <Header authLogout={this.props.authLogout} login={this.props.data.login || null} />\n  }\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return { ...state.auth }\n}\n\nconst actionCreators = {\n  fetchingErrorAC,\n  setCurrentUserAC,\n  getAuthUser,\n  authLogout\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\ntype PropsFromRedux = ConnectedProps<typeof connector>\n\nexport default compose<any>(connector)(HeaderContainerApi) ","import { Field } from \"react-final-form\"\nimport cl from './FieldWithValidation.module.scss'\n\ninterface Props {\n  name: string\n  placeholder: string\n  type: string\n  validators: any[]\n  Element: 'input' | 'textarea'\n}\n\nexport const FieldWithValidation: React.FC<Props> = ({ name, Element, validators, ...props }) => {\n\n  const composeValidators = ([...validators]: any[]) => (value: any) => validators.reduce((error, validator) => {\n    return error || validator(value)\n  }, undefined)\n\n  return (\n    <Field name={name} validate={composeValidators(validators)} {...props}>\n      {({input, meta}) => {\n        const error = meta.touched && meta.error && !meta.active ? true : false\n        return (\n          <div className={cl.field}>\n            <Element {...input} {...props} className={[cl.textArea, error && cl.required].join(' ')} />\n            {error && <div className={cl.tooltip} >\n                        <p>{meta.error}</p>\n                        <div></div>\n                      </div>}\n          </div>\n        )\n      }}\n    </Field>\n  )\n}\n","export const required = (value: string) =>\n  value ? undefined : 'This is required field to fill in'\n\nexport const stringMaxLength = (max: number) => (value: string) =>\n  value.length <= max\n    ? undefined\n    : 'You have exceeded the maximum character limit'\n\nexport const stringMinLength = (min: number) => (value: string) =>\n  value.length <= min ? undefined : 'This is required field to fill in'\n","import React from 'react'\nimport cl from './Login.module.scss'\nimport { Form } from 'react-final-form'\nimport { RootState } from '../../store/store'\nimport { authLogin } from '../../store/action-creators/auth-ac'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { FieldWithValidation } from '../Common/FieldWithValidation/FieldWithValidation'\nimport { required, stringMaxLength } from '../../helpers/validation'\nimport { MyButton } from '../Common/MyButton/MyButton'\nimport { FormApi } from 'final-form'\n\nexport type LoginFormValuesType = { email: string; password: string }\nexport type LoginFormCallBackType = ((errors: Object | undefined) => void) | undefined\n\nconst Login: React.FC<PropsFromRedux> = (props) => {\n  const submitHandler = async (\n    values: LoginFormValuesType,\n    form: FormApi<LoginFormValuesType>,\n    callBack: LoginFormCallBackType\n  ): Promise<void> => {\n    await props.authLogin(values, callBack!)\n  }\n\n  return (\n    <div className={cl.container}>\n      {props.isAuth && <Navigate to=\"/profile\"/>}\n      <Form\n        onSubmit={submitHandler}\n        render={(props) => (\n          <form className={cl.form} onSubmit={props.handleSubmit}>\n            <div className={cl.fieldsCol}>\n              <FieldWithValidation\n                name={'email'}\n                type={'text'}\n                placeholder={'login'}\n                validators={[required, stringMaxLength(38)]}\n                Element={'input'}\n              />\n              <FieldWithValidation\n                name={'password'}\n                type={'password'}\n                placeholder={'Password'}\n                validators={[required, stringMaxLength(38)]}\n                Element={'input'}\n                />\n            <div className={cl.error}>{props.submitError}</div>\n            </div>\n            <div className={cl.button}>\n              <MyButton callBack={() => {}}>Sign in</MyButton>\n            </div>\n          </form>\n        )}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    isAuth: state.auth.isAuth,\n    submissionError: state.auth.error\n  }\n}\n\nconst actionCreators = {\n  authLogin,\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\nexport type PropsFromRedux = ConnectedProps<typeof connector>\nconst LoginContainer = connector(Login)\n\nexport default LoginContainer\n","import './App.scss'\nimport NavBar from './components/NavBar/NavBar'\nimport Music from './components/Music/Music'\nimport News from './components/News/News'\nimport Settings from './components/Settings/Settings'\nimport { Routes, Route } from 'react-router-dom'\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\nimport UsersContainer from './components/Users/UsersContainer'\nimport ProfileContainer from './components/Profile/ProfileContainer'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Login from './components/Login/Login'\nimport { useEffect } from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { initializeApp } from './store/action-creators/app-ac'\nimport { RootState } from './store/store'\nimport Preloader from './components/Common/Preloader/Preloader'\nimport { compose } from 'redux'\n\nconst App: React.FC<PropsFromRedux> = (props) => {\n  useEffect(() => {\n    props.initializeApp()\n  })\n\n  if(!props.isInitialized) {\n    return <Preloader/>\n  }\n\n  return (\n    <div className=\"app-wrapper\">\n      <HeaderContainer />\t\n      <NavBar />\n      <div className=\"main-content\">\n        <Routes>\n          <Route path=\"/\" element={<ProfileContainer/>} />\n          <Route path=\"/login\" element={<Login/>} />\n          <Route path=\"/profile\">\n            <Route index element={<ProfileContainer />} />\n            <Route path=\":userId\" element={<ProfileContainer />} />\n          </Route>\n          <Route path=\"/dialogs/*\" element={<DialogsContainer />} />\n          <Route path=\"/users\" element={<UsersContainer />} />\n          <Route path=\"/music\" element={<Music />} />\n          <Route path=\"/news\" element={<News />} />\n          <Route path=\"/settings\" element={<Settings />} />\n        </Routes>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (store: RootState) => {\n  return {\n    isInitialized: store.app.isInitialized\n  } \n}\n\nconst actionCreators = {\n  initializeApp\n}\n\nconst connector = connect(mapStateToProps, actionCreators)\ntype PropsFromRedux = ConnectedProps<typeof connector>\nexport default compose<any>(connector)(App)\n\n","import { getAuthUser } from './auth-ac';\nimport { AppAction, AppActionTypes } from \"../types/app-types\"\n\nexport const initializedSuccess = (): AppAction => {\n  return {\n    type: AppActionTypes.INITIALIZED_SUCCESS\n  }\n}\n\nexport const initializeApp = () => {\n  return async(dispatch: any) => {\n    try {\n      let getUserPromise = dispatch(getAuthUser())\n      Promise.all([getUserPromise]).then(() => dispatch(initializedSuccess()))\n    }catch(e) {\n      console.log(e)\n    }\n  }\n}","import './sassStyles/_global.scss'\nimport './sassStyles/_typography.scss'\nimport reactDom from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nimport App from './App'\n\n//todo lesson 80\n\n//todo tooltips errors in login component\n/* improve behavior (adaptive, responsive) with js code */\n//todo BUG - refactor authLogin in auth-ac file. Не хватает знаний typescript\n//todo BUG - перейди по следующему пути -> findUsers -> some user -> profile\n\nreactDom.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}